"use strict";(self.webpackChunktareaClaseS29=self.webpackChunktareaClaseS29||[]).push([[179],{503:()=>{function Ce(n){return"function"==typeof n}function ac(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const uh=ac(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function na(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Ut{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Ce(r))try{r()}catch(o){e=o instanceof uh?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{qS(o)}catch(s){e=e??[],s instanceof uh?e=[...e,...s.errors]:e.push(s)}}if(e)throw new uh(e)}}add(e){var t;if(e&&e!==this)if(this.closed)qS(e);else{if(e instanceof Ut){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&na(t,e)}remove(e){const{_finalizers:t}=this;t&&na(t,e),e instanceof Ut&&e._removeParent(this)}}Ut.EMPTY=(()=>{const n=new Ut;return n.closed=!0,n})();const zS=Ut.EMPTY;function GS(n){return n instanceof Ut||n&&"closed"in n&&Ce(n.remove)&&Ce(n.add)&&Ce(n.unsubscribe)}function qS(n){Ce(n)?n():n.unsubscribe()}const Fo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},dh={setTimeout(n,e,...t){const{delegate:r}=dh;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=dh;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function WS(n){dh.setTimeout(()=>{const{onUnhandledError:e}=Fo;if(!e)throw n;e(n)})}function g_(){}const HG=__("C",void 0,void 0);function __(n,e,t){return{kind:n,value:e,error:t}}let Po=null;function hh(n){if(Fo.useDeprecatedSynchronousErrorHandling){const e=!Po;if(e&&(Po={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Po;if(Po=null,t)throw r}}else n()}class y_ extends Ut{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,GS(e)&&e.add(this)):this.destination=QG}static create(e,t,r){return new lc(e,t,r)}next(e){this.isStopped?b_(function GG(n){return __("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?b_(function zG(n){return __("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?b_(HG,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const WG=Function.prototype.bind;function v_(n,e){return WG.call(n,e)}class KG{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){fh(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){fh(r)}else fh(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){fh(t)}}}class lc extends y_{constructor(e,t,r){let i;if(super(),Ce(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Fo.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&v_(e.next,o),error:e.error&&v_(e.error,o),complete:e.complete&&v_(e.complete,o)}):i=e}this.destination=new KG(i)}}function fh(n){Fo.useDeprecatedSynchronousErrorHandling?function qG(n){Fo.useDeprecatedSynchronousErrorHandling&&Po&&(Po.errorThrown=!0,Po.error=n)}(n):WS(n)}function b_(n,e){const{onStoppedNotification:t}=Fo;t&&dh.setTimeout(()=>t(n,e))}const QG={closed:!0,next:g_,error:function YG(n){throw n},complete:g_},w_="function"==typeof Symbol&&Symbol.observable||"@@observable";function Wi(n){return n}function KS(n){return 0===n.length?Wi:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let Ne=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function JG(n){return n&&n instanceof y_||function ZG(n){return n&&Ce(n.next)&&Ce(n.error)&&Ce(n.complete)}(n)&&GS(n)}(t)?t:new lc(t,r,i);return hh(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=YS(r))((i,o)=>{const s=new lc({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[w_](){return this}pipe(...t){return KS(t)(this)}toPromise(t){return new(t=YS(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function YS(n){var e;return null!==(e=n??Fo.Promise)&&void 0!==e?e:Promise}const eq=ac(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Me=(()=>{class n extends Ne{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new QS(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new eq}next(t){hh(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){hh(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){hh(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?zS:(this.currentObservers=null,o.push(t),new Ut(()=>{this.currentObservers=null,na(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new Ne;return t.source=this,t}}return n.create=(e,t)=>new QS(e,t),n})();class QS extends Me{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:zS}}function XS(n){return Ce(n?.lift)}function nt(n){return e=>{if(XS(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ke(n,e,t,r,i){return new tq(n,e,t,r,i)}class tq extends y_{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function X(n,e){return nt((t,r)=>{let i=0;t.subscribe(Ke(r,o=>{r.next(n.call(e,o,i++))}))})}function JS(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function Lo(n){return this instanceof Lo?(this.v=n,this):new Lo(n)}function iq(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){o.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof Lo?Promise.resolve(h.value.v).then(c,u):d(o[0][2],h)}(r[h](f))}catch(p){d(o[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}function oq(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function tA(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){!function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=n[o](s)).done,s.value)})}}}const x_=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function nA(n){return Ce(n?.then)}function rA(n){return Ce(n[w_])}function iA(n){return Symbol.asyncIterator&&Ce(n?.[Symbol.asyncIterator])}function oA(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const sA=function aq(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function aA(n){return Ce(n?.[sA])}function lA(n){return iq(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Lo(t.read());if(i)return yield Lo(void 0);yield yield Lo(r)}}finally{t.releaseLock()}})}function cA(n){return Ce(n?.getReader)}function In(n){if(n instanceof Ne)return n;if(null!=n){if(rA(n))return function lq(n){return new Ne(e=>{const t=n[w_]();if(Ce(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(x_(n))return function cq(n){return new Ne(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(nA(n))return function uq(n){return new Ne(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,WS)})}(n);if(iA(n))return uA(n);if(aA(n))return function dq(n){return new Ne(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(cA(n))return function hq(n){return uA(lA(n))}(n)}throw oA(n)}function uA(n){return new Ne(e=>{(function fq(n,e){var t,r,i,o;return function nq(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=oq(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function hi(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Ot(n,e,t=1/0){return Ce(e)?Ot((r,i)=>X((o,s)=>e(r,o,i,s))(In(n(r,i))),t):("number"==typeof e&&(t=e),nt((r,i)=>function pq(n,e,t,r,i,o,s,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},f=m=>c<r?p(m):l.push(m),p=m=>{o&&e.next(m),c++;let g=!1;In(t(m,u++)).subscribe(Ke(e,y=>{i?.(y),o?f(y):e.next(y)},()=>{g=!0},void 0,()=>{if(g)try{for(c--;l.length&&c<r;){const y=l.shift();s?hi(e,s,()=>p(y)):p(y)}h()}catch(y){e.error(y)}}))};return n.subscribe(Ke(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function ra(n=1/0){return Ot(Wi,n)}const Vr=new Ne(n=>n.complete());function dA(n){return n&&Ce(n.schedule)}function C_(n){return n[n.length-1]}function hA(n){return Ce(C_(n))?n.pop():void 0}function cc(n){return dA(C_(n))?n.pop():void 0}function ph(n,e=0){return nt((t,r)=>{t.subscribe(Ke(r,i=>hi(r,n,()=>r.next(i),e),()=>hi(r,n,()=>r.complete(),e),i=>hi(r,n,()=>r.error(i),e)))})}function mh(n,e=0){return nt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function fA(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ne(t=>{hi(t,e,()=>{const r=n[Symbol.asyncIterator]();hi(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function gt(n,e){return e?function Eq(n,e){if(null!=n){if(rA(n))return function _q(n,e){return In(n).pipe(mh(e),ph(e))}(n,e);if(x_(n))return function vq(n,e){return new Ne(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(nA(n))return function yq(n,e){return In(n).pipe(mh(e),ph(e))}(n,e);if(iA(n))return fA(n,e);if(aA(n))return function bq(n,e){return new Ne(t=>{let r;return hi(t,e,()=>{r=n[sA](),hi(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>Ce(r?.return)&&r.return()})}(n,e);if(cA(n))return function wq(n,e){return fA(lA(n),e)}(n,e)}throw oA(n)}(n,e):In(n)}function D_(...n){const e=cc(n),t=function gq(n,e){return"number"==typeof C_(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?In(r[0]):ra(t)(gt(r,e)):Vr}function I_(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new lc({next:()=>{r.unsubscribe(),n()}});return e(...t).subscribe(r)}function Le(n){for(let e in n)if(n[e]===Le)return e;throw Error("Could not find renamed property on target object.")}function T_(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ve(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ve).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function S_(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const xq=Le({__forward_ref__:Le});function Be(n){return n.__forward_ref__=Be,n.toString=function(){return Ve(this())},n}function Y(n){return A_(n)?n():n}function A_(n){return"function"==typeof n&&n.hasOwnProperty(xq)&&n.__forward_ref__===Be}function M_(n){return n&&!!n.\u0275providers}class D extends Error{constructor(e,t){super(function _h(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function re(n){return"string"==typeof n?n:null==n?"":String(n)}function yh(n,e){throw new D(-201,!1)}function ir(n,e){null==n&&function Re(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function R(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function De(n){return{providers:n.providers||[],imports:n.imports||[]}}function vh(n){return mA(n,bh)||mA(n,_A)}function mA(n,e){return n.hasOwnProperty(e)?n[e]:null}function gA(n){return n&&(n.hasOwnProperty(k_)||n.hasOwnProperty(Rq))?n[k_]:null}const bh=Le({\u0275prov:Le}),k_=Le({\u0275inj:Le}),_A=Le({ngInjectableDef:Le}),Rq=Le({ngInjectorDef:Le});var Q=(()=>((Q=Q||{})[Q.Default=0]="Default",Q[Q.Host=1]="Host",Q[Q.Self=2]="Self",Q[Q.SkipSelf=4]="SkipSelf",Q[Q.Optional=8]="Optional",Q))();let R_;function or(n){const e=R_;return R_=n,e}function yA(n,e,t){const r=vh(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Q.Optional?null:void 0!==e?e:void yh(Ve(n))}const Ue=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),uc={},O_="__NG_DI_FLAG__",wh="ngTempTokenPath",Fq=/\n/gm,vA="__source";let dc;function ia(n){const e=dc;return dc=n,e}function Lq(n,e=Q.Default){if(void 0===dc)throw new D(-203,!1);return null===dc?yA(n,void 0,e):dc.get(n,e&Q.Optional?null:void 0,e)}function E(n,e=Q.Default){return(function Oq(){return R_}()||Lq)(Y(n),e)}function de(n,e=Q.Default){return E(n,Eh(e))}function Eh(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function N_(n){const e=[];for(let t=0;t<n.length;t++){const r=Y(n[t]);if(Array.isArray(r)){if(0===r.length)throw new D(900,!1);let i,o=Q.Default;for(let s=0;s<r.length;s++){const a=r[s],l=Vq(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}e.push(E(i,o))}else e.push(E(r))}return e}function hc(n,e){return n[O_]=e,n.prototype[O_]=e,n}function Vq(n){return n[O_]}function Yi(n){return{toString:n}.toString()}var xr=(()=>((xr=xr||{})[xr.OnPush=0]="OnPush",xr[xr.Default=1]="Default",xr))(),Cr=(()=>{return(n=Cr||(Cr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Cr;var n})();const fi={},Se=[],xh=Le({\u0275cmp:Le}),F_=Le({\u0275dir:Le}),P_=Le({\u0275pipe:Le}),wA=Le({\u0275mod:Le}),pi=Le({\u0275fac:Le}),fc=Le({__NG_ELEMENT_ID__:Le});let jq=0;function sr(n){return Yi(()=>{const t=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===xr.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Se,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Cr.Emulated,id:"c"+jq++,styles:n.styles||Se,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},o=n.dependencies,s=n.features;return i.inputs=CA(n.inputs,r),i.outputs=CA(n.outputs),s&&s.forEach(a=>a(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(EA).filter(xA):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(hn).filter(xA):null,i})}function EA(n){return Oe(n)||tn(n)}function xA(n){return null!==n}function Te(n){return Yi(()=>({type:n.type,bootstrap:n.bootstrap||Se,declarations:n.declarations||Se,imports:n.imports||Se,exports:n.exports||Se,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function CA(n,e){if(null==n)return fi;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}const q=sr;function Oe(n){return n[xh]||null}function tn(n){return n[F_]||null}function hn(n){return n[P_]||null}function Bn(n,e){const t=n[wA]||null;if(!t&&!0===e)throw new Error(`Type ${Ve(n)} does not have '\u0275mod' property.`);return t}function Un(n){return Array.isArray(n)&&"object"==typeof n[1]}function Ir(n){return Array.isArray(n)&&!0===n[1]}function B_(n){return 0!=(4&n.flags)}function _c(n){return n.componentOffset>-1}function Sh(n){return 1==(1&n.flags)}function Tr(n){return null!==n.template}function zq(n){return 0!=(256&n[2])}function Bo(n,e){return n.hasOwnProperty(pi)?n[pi]:null}class Wq{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function ar(){return MA}function MA(n){return n.type.prototype.ngOnChanges&&(n.setInput=Yq),Kq}function Kq(){const n=RA(this),e=n?.current;if(e){const t=n.previous;if(t===fi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Yq(n,e,t,r){const i=this.declaredInputs[t],o=RA(n)||function Qq(n,e){return n[kA]=e}(n,{previous:fi,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[i];s[i]=new Wq(l&&l.currentValue,e,a===fi),n[r]=e}ar.ngInherit=!0;const kA="__ngSimpleChanges__";function RA(n){return n[kA]||null}function jt(n){for(;Array.isArray(n);)n=n[0];return n}function Ah(n,e){return jt(e[n])}function jn(n,e){return jt(e[n.index])}function FA(n,e){return n.data[e]}function $n(n,e){const t=e[n];return Un(t)?t:t[0]}function Mh(n){return 64==(64&n[2])}function Qi(n,e){return null==e?null:n[e]}function PA(n){n[18]=0}function j_(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const ie={lFrame:KA(null),bindingsEnabled:!0};function VA(){return ie.bindingsEnabled}function I(){return ie.lFrame.lView}function be(){return ie.lFrame.tView}function $t(){let n=jA();for(;null!==n&&64===n.type;)n=n.parent;return n}function jA(){return ie.lFrame.currentTNode}function Ur(n,e){const t=ie.lFrame;t.currentTNode=n,t.isParent=e}function $_(){return ie.lFrame.isParent}function H_(){ie.lFrame.isParent=!1}function da(){return ie.lFrame.bindingIndex++}function u3(n,e){const t=ie.lFrame;t.bindingIndex=t.bindingRootIndex=n,z_(e)}function z_(n){ie.lFrame.currentDirectiveIndex=n}function GA(){return ie.lFrame.currentQueryIndex}function q_(n){ie.lFrame.currentQueryIndex=n}function h3(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function qA(n,e,t){if(t&Q.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&Q.Host||(i=h3(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;e=i,n=o}const r=ie.lFrame=WA();return r.currentTNode=e,r.lView=n,!0}function W_(n){const e=WA(),t=n[1];ie.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function WA(){const n=ie.lFrame,e=null===n?null:n.child;return null===e?KA(n):e}function KA(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function YA(){const n=ie.lFrame;return ie.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const QA=YA;function K_(){const n=YA();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function mn(){return ie.lFrame.selectedIndex}function Uo(n){ie.lFrame.selectedIndex=n}function Ze(){const n=ie.lFrame;return FA(n.tView,n.selectedIndex)}function kh(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-t,s),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(t,u)}}function Rh(n,e,t){XA(n,e,3,t)}function Oh(n,e,t,r){(3&n[2])===t&&XA(n,e,t,r)}function Y_(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function XA(n,e,t,r){const o=r??-1,s=e.length-1;let a=0;for(let l=void 0!==r?65535&n[18]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[18]+=65536),(a<o||-1==o)&&(w3(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function w3(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class vc{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function X_(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{const o=i,s=t[++r];JA(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function ZA(n){return 3===n||4===n||6===n}function JA(n){return 64===n.charCodeAt(0)}function bc(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||eM(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function eM(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}function tM(n){return-1!==n}function Nh(n){return 32767&n}function Fh(n,e){let t=function D3(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let Z_=!0;function Ph(n){const e=Z_;return Z_=n,e}let I3=0;const jr={};function Lh(n,e){const t=iM(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,J_(r.data,n),J_(e,null),J_(r.blueprint,null));const i=ey(n,e),o=n.injectorIndex;if(tM(i)){const s=Nh(i),a=Fh(i,e),l=a[1].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function J_(n,e){n.push(0,0,0,0,0,0,0,0,e)}function iM(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function ey(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=dM(i),null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function ty(n,e,t){!function T3(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(fc)&&(r=t[fc]),null==r&&(r=t[fc]=I3++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function oM(n,e,t){if(t&Q.Optional||void 0!==n)return n;yh()}function sM(n,e,t,r){if(t&Q.Optional&&void 0===r&&(r=null),!(t&(Q.Self|Q.Host))){const i=n[9],o=or(void 0);try{return i?i.get(e,r,t&Q.Optional):yA(e,r,t&Q.Optional)}finally{or(o)}}return oM(r,0,t)}function aM(n,e,t,r=Q.Default,i){if(null!==n){if(1024&e[2]){const s=function R3(n,e,t,r,i){let o=n,s=e;for(;null!==o&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=lM(o,s,t,r|Q.Self,jr);if(a!==jr)return a;let l=o.parent;if(!l){const c=s[21];if(c){const u=c.get(t,jr,r);if(u!==jr)return u}l=dM(s),s=s[15]}o=l}return i}(n,e,t,r,jr);if(s!==jr)return s}const o=lM(n,e,t,r,jr);if(o!==jr)return o}return sM(e,t,r,i)}function lM(n,e,t,r,i){const o=function M3(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(fc)?n[fc]:void 0;return"number"==typeof e?e>=0?255&e:k3:e}(t);if("function"==typeof o){if(!qA(e,n,r))return r&Q.Host?oM(i,0,r):sM(e,t,r,i);try{const s=o(r);if(null!=s||r&Q.Optional)return s;yh()}finally{QA()}}else if("number"==typeof o){let s=null,a=iM(n,e),l=-1,c=r&Q.Host?e[16][6]:null;for((-1===a||r&Q.SkipSelf)&&(l=-1===a?ey(n,e):e[a+8],-1!==l&&uM(r,!1)?(s=e[1],a=Nh(l),e=Fh(l,e)):a=-1);-1!==a;){const u=e[1];if(cM(o,a,u.data)){const d=A3(a,e,t,s,r,c);if(d!==jr)return d}l=e[a+8],-1!==l&&uM(r,e[1].data[a+8]===c)&&cM(o,a,e)?(s=u,a=Nh(l),e=Fh(l,e)):a=-1}}return i}function A3(n,e,t,r,i,o){const s=e[1],a=s.data[n+8],u=Vh(a,s,t,null==r?_c(a)&&Z_:r!=s&&0!=(3&a.type),i&Q.Host&&o===a);return null!==u?jo(e,s,u,a):jr}function Vh(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,l=n.directiveStart,u=o>>20,h=i?a+u:n.directiveEnd;for(let f=r?a:a+u;f<h;f++){const p=s[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(i){const f=s[l];if(f&&Tr(f)&&f.type===t)return l}return null}function jo(n,e,t,r){let i=n[t];const o=e.data;if(function E3(n){return n instanceof vc}(i)){const s=i;s.resolving&&function Cq(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new D(-200,`Circular dependency in DI detected for ${n}${t}`)}(function ke(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():re(n)}(o[t]));const a=Ph(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?or(s.injectImpl):null;qA(n,r,Q.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function b3(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=MA(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),o&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o))}(t,o[t],e)}finally{null!==l&&or(l),Ph(a),s.resolving=!1,QA()}}return i}function cM(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function uM(n,e){return!(n&Q.Self||n&Q.Host&&e)}class fa{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return aM(this._tNode,this._lView,e,Eh(r),t)}}function k3(){return new fa($t(),I())}function Ht(n){return Yi(()=>{const e=n.prototype.constructor,t=e[pi]||ny(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[pi]||ny(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ny(n){return A_(n)?()=>{const e=ny(Y(n));return e&&e()}:Bo(n)}function dM(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}const ma="__parameters__";function _a(n,e,t){return Yi(()=>{const r=function ry(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,c,u){const d=l.hasOwnProperty(ma)?l[ma]:Object.defineProperty(l,ma,{value:[]})[ma];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class M{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=R({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function $o(n,e){n.forEach(t=>Array.isArray(t)?$o(t,e):e(t))}function fM(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Uh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function xc(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function Hn(n,e,t){let r=ya(n,e);return r>=0?n[1|r]=t:(r=~r,function P3(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function oy(n,e){const t=ya(n,e);if(t>=0)return n[1|t]}function ya(n,e){return function pM(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const $h=hc(_a("Inject",n=>({token:n})),-1),Dt=hc(_a("Optional"),8),va=hc(_a("SkipSelf"),4);var Sn=(()=>((Sn=Sn||{})[Sn.Important=1]="Important",Sn[Sn.DashCase=2]="DashCase",Sn))();const uy=new Map;let iW=0;const hy="__ngContext__";function on(n,e){Un(e)?(n[hy]=e[20],function sW(n){uy.set(n[20],n)}(e)):n[hy]=e}function py(n,e){return undefined(n,e)}function Tc(n){const e=n[3];return Ir(e)?e[3]:e}function my(n){return NM(n[13])}function gy(n){return NM(n[4])}function NM(n){for(;null!==n&&!Ir(n);)n=n[4];return n}function wa(n,e,t,r,i){if(null!=r){let o,s=!1;Ir(r)?o=r:Un(r)&&(s=!0,r=r[0]);const a=jt(r);0===n&&null!==t?null==i?UM(e,t,a):Ho(e,t,a,i||null,!0):1===n&&null!==t?Ho(e,t,a,i||null,!0):2===n?function xy(n,e,t){const r=Gh(n,e);r&&function IW(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function AW(n,e,t,r,i){const o=t[7];o!==jt(t)&&wa(e,n,r,o,i);for(let a=10;a<t.length;a++){const l=t[a];Sc(l[1],l,n,e,r,o)}}(e,n,o,t,i)}}function yy(n,e,t){return n.createElement(e,t)}function PM(n,e){const t=n[9],r=t.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,j_(i,-1)),t.splice(r,1)}function vy(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&PM(i,r),e>0&&(n[t-1][4]=r[4]);const o=Uh(n,10+e);!function yW(n,e){Sc(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function LM(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&Sc(n,e,t,3,null,null),function wW(n){let e=n[13];if(!e)return by(n[1],n);for(;e;){let t=null;if(Un(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Un(e)&&by(e[1],e),e=e[3];null===e&&(e=n),Un(e)&&by(e[1],e),t=e&&e[4]}e=t}}(e)}}function by(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function DW(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof vc)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(i)}finally{}}}}(n,e),function CW(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?r[i=s]():r[i=-s].unsubscribe(),o+=2}else{const s=r[i=t[o+1]];t[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)(0,r[o])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&Ir(e[3])){t!==e[3]&&PM(t,e);const r=e[19];null!==r&&r.detachView(n)}!function aW(n){uy.delete(n[20])}(e)}}function VM(n,e,t){return function BM(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=n.data[r.directiveStart+i];if(o===Cr.None||o===Cr.Emulated)return null}return jn(r,t)}}(n,e.parent,t)}function Ho(n,e,t,r,i){n.insertBefore(e,t,r,i)}function UM(n,e,t){n.appendChild(e,t)}function jM(n,e,t,r,i){null!==r?Ho(n,e,t,r,i):UM(n,e,t)}function Gh(n,e){return n.parentNode(e)}function $M(n,e,t){return zM(n,e,t)}let Iy,zM=function HM(n,e,t){return 40&n.type?jn(n,t):null};function qh(n,e,t,r){const i=VM(n,r,e),o=e[11],a=$M(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)jM(o,i,t[l],a,!1);else jM(o,i,t,a,!1)}function Wh(n,e){if(null!==e){const t=e.type;if(3&t)return jn(e,n);if(4&t)return Ey(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Wh(n,r);{const i=n[e.index];return Ir(i)?Ey(-1,i):jt(i)}}if(32&t)return py(e,n)()||jt(n[e.index]);{const r=qM(n,e);return null!==r?Array.isArray(r)?r[0]:Wh(Tc(n[16]),r):Wh(n,e.next)}}return null}function qM(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Ey(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return Wh(r,i)}return e[7]}function Cy(n,e,t,r,i,o,s){for(;null!=t;){const a=r[t.index],l=t.type;if(s&&0===e&&(a&&on(jt(a),r),t.flags|=2),32!=(32&t.flags))if(8&l)Cy(n,e,t.child,r,i,o,!1),wa(e,n,i,a,o);else if(32&l){const c=py(t,r);let u;for(;u=c();)wa(e,n,i,u,o);wa(e,n,i,a,o)}else 16&l?WM(n,e,r,t,i,o):wa(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Sc(n,e,t,r,i,o){Cy(t,r,n.firstChild,e,i,o,!1)}function WM(n,e,t,r,i,o){const s=t[16],l=s[6].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)wa(e,n,i,l[c],o);else Cy(n,e,l,s[3],i,o,!0)}function KM(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function YM(n,e,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&X_(n,e,r),null!==i&&KM(n,e,i),null!==o&&function kW(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}class Go{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const Zh=new M("ENVIRONMENT_INITIALIZER"),uk=new M("INJECTOR",-1),dk=new M("INJECTOR_DEF_TYPES");class hk{get(e,t=uc){if(t===uc){const r=new Error(`NullInjectorError: No provider for ${Ve(e)}!`);throw r.name="NullInjectorError",r}return t}}function c4(...n){return{\u0275providers:fk(0,n),\u0275fromNgModule:!0}}function fk(n,...e){const t=[],r=new Set;let i;return $o(e,o=>{const s=o;ky(s,t,[],r)&&(i||(i=[]),i.push(s))}),void 0!==i&&pk(i,t),t}function pk(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];Ry(i,o=>{e.push(o)})}}function ky(n,e,t,r){if(!(n=Y(n)))return!1;let i=null,o=gA(n);const s=!o&&Oe(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const l=n.ngModule;if(o=gA(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)ky(c,e,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{$o(o.imports,u=>{ky(u,e,t,r)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&pk(c,e)}if(!a){const c=Bo(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:Se},{provide:dk,useValue:i,multi:!0},{provide:Zh,useValue:()=>E(i),multi:!0})}const l=o.providers;null==l||a||Ry(l,u=>{e.push(u)})}}return i!==n&&void 0!==n.providers}function Ry(n,e){for(let t of n)M_(t)&&(t=t.\u0275providers),Array.isArray(t)?Ry(t,e):e(t)}const u4=Le({provide:String,useValue:Le});function Oy(n){return null!==n&&"object"==typeof n&&u4 in n}function qo(n){return"function"==typeof n}const Ny=new M("Set Injector scope."),Jh={},h4={};let Fy;function ef(){return void 0===Fy&&(Fy=new hk),Fy}class vi{}class _k extends vi{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ly(e,s=>this.processProvider(s)),this.records.set(uk,Ea(void 0,this)),i.has("environment")&&this.records.set(vi,Ea(void 0,this));const o=this.records.get(Ny);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(dk.multi,Se,Q.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=ia(this),r=or(void 0);try{return e()}finally{ia(t),or(r)}}get(e,t=uc,r=Q.Default){this.assertNotDestroyed(),r=Eh(r);const i=ia(this),o=or(void 0);try{if(!(r&Q.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function _4(n){return"function"==typeof n||"object"==typeof n&&n instanceof M}(e)&&vh(e);a=l&&this.injectableDefInScope(l)?Ea(Py(e),Jh):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&Q.Self?ef():this.parent).get(e,t=r&Q.Optional&&t===uc?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[wh]=s[wh]||[]).unshift(Ve(e)),i)throw s;return function Bq(n,e,t,r){const i=n[wh];throw e[vA]&&i.unshift(e[vA]),n.message=function Uq(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Ve(e);if(Array.isArray(e))i=e.map(Ve).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Ve(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Fq,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[wh]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{or(o),ia(i)}}resolveInjectorInitializers(){const e=ia(this),t=or(void 0);try{const r=this.get(Zh.multi,Se,Q.Self);for(const i of r)i()}finally{ia(e),or(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Ve(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new D(205,!1)}processProvider(e){let t=qo(e=Y(e))?e:Y(e&&e.provide);const r=function p4(n){return Oy(n)?Ea(void 0,n.useValue):Ea(yk(n),Jh)}(e);if(qo(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Ea(void 0,Jh,!0),i.factory=()=>N_(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Jh&&(t.value=h4,t.value=t.factory()),"object"==typeof t.value&&t.value&&function g4(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Y(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function Py(n){const e=vh(n),t=null!==e?e.factory:Bo(n);if(null!==t)return t;if(n instanceof M)throw new D(204,!1);if(n instanceof Function)return function f4(n){const e=n.length;if(e>0)throw xc(e,"?"),new D(204,!1);const t=function Mq(n){const e=n&&(n[bh]||n[_A]);if(e){const t=function kq(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new D(204,!1)}function yk(n,e,t){let r;if(qo(n)){const i=Y(n);return Bo(i)||Py(i)}if(Oy(n))r=()=>Y(n.useValue);else if(function gk(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...N_(n.deps||[]));else if(function mk(n){return!(!n||!n.useExisting)}(n))r=()=>E(Y(n.useExisting));else{const i=Y(n&&(n.useClass||n.provide));if(!function m4(n){return!!n.deps}(n))return Bo(i)||Py(i);r=()=>new i(...N_(n.deps))}return r}function Ea(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Ly(n,e){for(const t of n)Array.isArray(t)?Ly(t,e):t&&M_(t)?Ly(t.\u0275providers,e):e(t)}class y4{}class vk{}class b4{resolveComponentFactory(e){throw function v4(n){const e=Error(`No component factory found for ${Ve(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Wo=(()=>{class n{}return n.NULL=new b4,n})();function w4(){return xa($t(),I())}function xa(n,e){return new Ye(jn(n,e))}let Ye=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=w4,n})();function E4(n){return n instanceof Ye?n.nativeElement:n}class kc{}let bi=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function x4(){const n=I(),t=$n($t().index,n);return(Un(t)?t:n)[11]}(),n})(),C4=(()=>{class n{}return n.\u0275prov=R({token:n,providedIn:"root",factory:()=>null}),n})();class Xi{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const wk=new Xi("15.1.2"),Vy={};function Uy(n){return n.ngOriginalError}class Zi{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Uy(e);for(;t&&Uy(t);)t=Uy(t);return t||null}}function wi(n){return n instanceof Function?n():n}function xk(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}const Ck="ng-template";function F4(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==xk(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Dk(n){return 4===n.type&&n.value!==Ck}function P4(n,e,t){return e===(4!==n.type||t?n.value:Ck)}function L4(n,e,t){let r=4;const i=n.attrs||[],o=function U4(n){for(let e=0;e<n.length;e++)if(ZA(n[e]))return e;return n.length}(i);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!P4(n,l,t)||""===l&&1===e.length){if(Sr(r))return!1;s=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!F4(n.attrs,c,t)){if(Sr(r))return!1;s=!0}continue}const d=V4(8&r?"class":l,i,Dk(n),t);if(-1===d){if(Sr(r))return!1;s=!0;continue}if(""!==c){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==xk(f,c,0)||2&r&&c!==h){if(Sr(r))return!1;s=!0}}}}else{if(!s&&!Sr(r)&&!Sr(l))return!1;if(s&&Sr(l))continue;s=!1,r=l|1&r}}return Sr(r)||s}function Sr(n){return 0==(1&n)}function V4(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function j4(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function Ik(n,e,t=!1){for(let r=0;r<e.length;r++)if(L4(n,e[r],t))return!0;return!1}function $4(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function Tk(n,e){return n?":not("+e.trim()+")":e}function H4(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Sr(s)&&(e+=Tk(o,i),i=""),r=s,o=o||!Sr(r);t++}return""!==i&&(e+=Tk(o,i)),e}const oe={};function Ji(n){Sk(be(),I(),mn()+n,!1)}function Sk(n,e,t,r){if(!r)if(3==(3&e[2])){const o=n.preOrderCheckHooks;null!==o&&Rh(e,o,t)}else{const o=n.preOrderHooks;null!==o&&Oh(e,o,0,t)}Uo(t)}function Rk(n,e=null,t=null,r){const i=Ok(n,e,t,r);return i.resolveInjectorInitializers(),i}function Ok(n,e=null,t=null,r,i=new Set){const o=[t||Se,c4(n)];return r=r||("object"==typeof n?void 0:Ve(n)),new _k(o,e||ef(),r||null,i)}let _t=(()=>{class n{static create(t,r){if(Array.isArray(t))return Rk({name:""},r,t,"");{const i=t.name??"";return Rk({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=uc,n.NULL=new hk,n.\u0275prov=R({token:n,providedIn:"any",factory:()=>E(uk)}),n.__NG_ELEMENT_ID__=-1,n})();function b(n,e=Q.Default){const t=I();return null===t?E(n,e):aM($t(),t,Y(n),e)}function nf(){throw new Error("invalid")}function Uk(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const s=n.data[o];q_(t[r]),s.contentQueries(2,e[o],o)}}}function rf(n,e,t,r,i,o,s,a,l,c,u){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==u||n&&1024&n[2])&&(d[2]|=1024),PA(d),d[3]=d[15]=n,d[8]=t,d[10]=s||n&&n[10],d[11]=a||n&&n[11],d[12]=l||n&&n[12]||null,d[9]=c||n&&n[9]||null,d[6]=o,d[20]=function oW(){return iW++}(),d[21]=u,d[16]=2==e.type?n[16]:d,d}function Ia(n,e,t,r,i){let o=n.data[e];if(null===o)o=function Gy(n,e,t,r,i){const o=jA(),s=$_(),l=n.data[e]=function g5(n,e,t,r,i,o){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(n,e,t,r,i),function c3(){return ie.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function yc(){const n=ie.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Ur(o,!0),o}function Rc(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function qy(n,e,t){W_(e);try{const r=n.viewQuery;null!==r&&nv(1,r,t);const i=n.template;null!==i&&jk(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Uk(n,e),n.staticViewQueries&&nv(2,n.viewQuery,t);const o=n.components;null!==o&&function f5(n,e){for(let t=0;t<e.length;t++)F5(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,K_()}}function sf(n,e,t,r){const i=e[2];if(128!=(128&i)){W_(e);try{PA(e),function HA(n){return ie.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&jk(n,e,t,2,r);const s=3==(3&i);if(s){const c=n.preOrderCheckHooks;null!==c&&Rh(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Oh(e,c,0,null),Y_(e,0)}if(function O5(n){for(let e=my(n);null!==e;e=gy(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r];512&i[2]||j_(i[3],1),i[2]|=512}}}(e),function R5(n){for(let e=my(n);null!==e;e=gy(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];Mh(r)&&sf(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&Uk(n,e),s){const c=n.contentCheckHooks;null!==c&&Rh(e,c)}else{const c=n.contentHooks;null!==c&&Oh(e,c,1),Y_(e,1)}!function d5(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Uo(~i);else{const o=i,s=t[++r],a=t[++r];u3(s,o),a(2,e[o])}}}finally{Uo(-1)}}(n,e);const a=n.components;null!==a&&function h5(n,e){for(let t=0;t<e.length;t++)N5(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&nv(2,l,r),s){const c=n.viewCheckHooks;null!==c&&Rh(e,c)}else{const c=n.viewHooks;null!==c&&Oh(e,c,2),Y_(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,j_(e[3],-1))}finally{K_()}}}function jk(n,e,t,r,i){const o=mn(),s=2&r;try{Uo(-1),s&&e.length>22&&Sk(n,e,22,!1),t(r,i)}finally{Uo(o)}}function Wy(n,e,t){if(B_(e)){const i=e.directiveEnd;for(let o=e.directiveStart;o<i;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,t[o],o)}}}function Ky(n,e,t){VA()&&(function E5(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;_c(t)&&function A5(n,e,t){const r=jn(e,n),i=$k(t),o=n[10],s=af(n,rf(n,i,null,t.onPush?32:16,r,e,o,o.createRenderer(r,t),null,null,null));n[e.index]=s}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Lh(t,e),on(r,e);const s=t.initialInputs;for(let a=i;a<o;a++){const l=n.data[a],c=jo(e,n,a,t);on(c,e),null!==s&&M5(0,a-i,c,l,0,s),Tr(l)&&($n(t.index,e)[8]=jo(e,n,a,t))}}(n,e,t,jn(t,e)),64==(64&t.flags)&&Kk(n,e,t))}function Yy(n,e,t=jn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}function $k(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Qy(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Qy(n,e,t,r,i,o,s,a,l,c){const u=22+r,d=u+i,h=function p5(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:oe);return t}(u,d),f="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function Hk(n,e,t,r){const i=Qk(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&Xk(n).push(r,i.length-1))}function zk(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const o=n[i];null===r?Gk(t,e,i,o):r.hasOwnProperty(i)&&Gk(t,e,r[i],o)}return t}function Gk(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function Gn(n,e,t,r,i,o,s,a){const l=jn(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(rv(n,t,u,r,i),_c(e)&&qk(t,e.index)):3&e.type&&(r=function y5(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(l,r,i))}function qk(n,e){const t=$n(e,n);16&t[2]||(t[2]|=32)}function Xy(n,e,t,r){let i=!1;if(VA()){const o=null===r?null:{"":-1},s=function C5(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(Ik(e,s.selectors,!1))if(r||(r=[]),Tr(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),Zy(n,e,a.length)}else r.unshift(s),Zy(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(n,t);let a,l;null===s?a=l=null:[a,l]=s,null!==a&&(i=!0,Wk(n,e,t,a,o,l)),o&&function D5(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new D(-301,!1);r.push(e[i],o)}}}(t,r,o)}return t.mergedAttrs=bc(t.mergedAttrs,t.attrs),i}function Wk(n,e,t,r,i,o){for(let c=0;c<r.length;c++)ty(Lh(t,e),n,r[c].type);!function T5(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=Rc(n,e,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];t.mergedAttrs=bc(t.mergedAttrs,u.hostAttrs),S5(n,t,e,l,u),I5(l,u,i),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),a=!0),l++}!function _5(n,e,t){const i=e.directiveEnd,o=n.data,s=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<i;u++){const d=o[u],h=t?t.get(d):null,p=h?h.outputs:null;l=zk(d.inputs,u,l,h?h.inputs:null),c=zk(d.outputs,u,c,p);const m=null===l||null===s||Dk(e)?null:k5(l,u,s);a.push(m)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,o)}function Kk(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function d3(){return ie.lFrame.currentDirectiveIndex}();try{Uo(o);for(let a=r;a<i;a++){const l=n.data[a],c=e[a];z_(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&x5(l,c)}}finally{Uo(-1),z_(s)}}function x5(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Zy(n,e,t){e.componentOffset=t,(n.components||(n.components=[])).push(e.index)}function I5(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Tr(e)&&(t[""]=n)}}function S5(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=Bo(i.type)),s=new vc(o,Tr(i),b);n.blueprint[r]=s,t[r]=s,function b5(n,e,t,r,i){const o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function w5(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(n,e,r,Rc(n,t,i.hostVars,oe),i)}function Hr(n,e,t,r,i,o){const s=jn(n,e);!function Jy(n,e,t,r,i,o,s){if(null==o)n.removeAttribute(e,i,t);else{const a=null==s?re(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}(e[11],s,o,n.value,t,r,i)}function M5(n,e,t,r,i,o){const s=o[e];if(null!==s){const a=r.setInput;for(let l=0;l<s.length;){const c=s[l++],u=s[l++],d=s[l++];null!==a?r.setInput(t,d,c,u):t[u]=d}}}function k5(n,e,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===r&&(r=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Yk(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function N5(n,e){const t=$n(e,n);if(Mh(t)){const r=t[1];48&t[2]?sf(r,t,r.template,t[8]):t[5]>0&&ev(t)}}function ev(n){for(let r=my(n);null!==r;r=gy(r))for(let i=10;i<r.length;i++){const o=r[i];if(Mh(o))if(512&o[2]){const s=o[1];sf(s,o,s.template,o[8])}else o[5]>0&&ev(o)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=$n(t[r],n);Mh(i)&&i[5]>0&&ev(i)}}function F5(n,e){const t=$n(e,n),r=t[1];(function P5(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),qy(r,t,t[8])}function af(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function tv(n){for(;n;){n[2]|=32;const e=Tc(n);if(zq(n)&&!e)return n;n=e}return null}function lf(n,e,t,r=!0){const i=e[10];i.begin&&i.begin();try{sf(n,e,n.template,t)}catch(s){throw r&&Jk(e,s),s}finally{i.end&&i.end()}}function nv(n,e,t){q_(0),e(n,t)}function Qk(n){return n[7]||(n[7]=[])}function Xk(n){return n.cleanup||(n.cleanup=[])}function Jk(n,e){const t=n[9],r=t?t.get(Zi,null):null;r&&r.handleError(e)}function rv(n,e,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],l=e[s],c=n.data[s];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function cf(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=S_(i,a):2==o&&(r=S_(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function uf(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];if(null!==o&&r.push(jt(o)),Ir(o))for(let a=10;a<o.length;a++){const l=o[a],c=l[1].firstChild;null!==c&&uf(l[1],l,c,r)}const s=t.type;if(8&s)uf(n,e,t.child,r);else if(32&s){const a=py(t,e);let l;for(;l=a();)r.push(l)}else if(16&s){const a=qM(e,t);if(Array.isArray(a))r.push(...a);else{const l=Tc(e[16]);uf(l[1],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Oc{get rootNodes(){const e=this._lView,t=e[1];return uf(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Ir(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(vy(e,r),Uh(t,r))}this._attachedToViewContainer=!1}LM(this._lView[1],this._lView)}onDestroy(e){Hk(this._lView[1],this._lView,null,e)}markForCheck(){tv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){lf(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function bW(n,e){Sc(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=e}}class L5 extends Oc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;lf(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class eR extends Wo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Oe(e);return new Nc(t,this.ngModule)}}function tR(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class B5{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Eh(r);const i=this.injector.get(e,Vy,r);return i!==Vy||t===Vy?i:this.parentInjector.get(e,t,r)}}class Nc extends vk{get inputs(){return tR(this.componentDef.inputs)}get outputs(){return tR(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function z4(n){return n.map(H4).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=(i=i||this.ngModule)instanceof vi?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new B5(e,o):e,a=s.get(kc,null);if(null===a)throw new D(407,!1);const l=s.get(C4,null),c=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=r?function m5(n,e,t){return n.selectRootElement(e,t===Cr.ShadowDom)}(c,r,this.componentDef.encapsulation):yy(c,u,function V5(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(u)),h=this.componentDef.onPush?288:272,f=Qy(0,null,null,1,0,null,null,null,null,null),p=rf(null,f,null,h,null,null,a,c,l,s,null);let m,g;W_(p);try{const y=this.componentDef;let C,v=null;y.findHostDirectiveDefs?(C=[],v=new Map,y.findHostDirectiveDefs(y,C,v),C.push(y)):C=[y];const k=function j5(n,e){const t=n[1];return n[22]=e,Ia(t,22,2,"#host",null)}(p,d),U=function $5(n,e,t,r,i,o,s,a){const l=i[1];!function H5(n,e,t,r){for(const i of n)e.mergedAttrs=bc(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(cf(e,e.mergedAttrs,!0),null!==t&&YM(r,t,e))}(r,n,e,s);const c=o.createRenderer(e,t),u=rf(i,$k(t),null,t.onPush?32:16,i[n.index],n,o,c,a||null,null,null);return l.firstCreatePass&&Zy(l,n,r.length-1),af(i,u),i[n.index]=u}(k,d,y,C,p,a,c);g=FA(f,22),d&&function G5(n,e,t,r){if(r)X_(n,t,["ng-version",wk.full]);else{const{attrs:i,classes:o}=function G4(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!Sr(i))break;i=o}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&X_(n,t,i),o&&o.length>0&&KM(n,t,o.join(" "))}}(c,y,d,r),void 0!==t&&function q5(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(g,this.ngContentSelectors,t),m=function z5(n,e,t,r,i,o){const s=$t(),a=i[1],l=jn(s,i);Wk(a,i,s,t,null,r);for(let u=0;u<t.length;u++)on(jo(i,a,s.directiveStart+u,s),i);Kk(a,i,s),l&&on(l,i);const c=jo(i,a,s.directiveStart+s.componentOffset,s);if(n[8]=i[8]=c,null!==o)for(const u of o)u(c,e);return Wy(a,s,n),c}(U,y,C,v,p,[W5]),qy(f,p,null)}finally{K_()}return new U5(this.componentType,m,xa(g,p),p,g)}}class U5 extends y4{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new L5(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const o=this._rootLView;rv(o[1],o,i,e,t),qk(o,this._tNode.index)}}get injector(){return new fa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function W5(){const n=$t();kh(I()[1],n)}function me(n){let e=function nR(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Tr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new D(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const s=n;s.inputs=iv(n.inputs),s.declaredInputs=iv(n.declaredInputs),s.outputs=iv(n.outputs);const a=i.hostBindings;a&&X5(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&Y5(n,l),c&&Q5(n,c),T_(n.inputs,i.inputs),T_(n.declaredInputs,i.declaredInputs),T_(n.outputs,i.outputs),Tr(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===me&&(t=!1)}}e=Object.getPrototypeOf(e)}!function K5(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=bc(i.hostAttrs,t=bc(t,i.hostAttrs))}}(r)}function iv(n){return n===fi?{}:n===Se?[]:n}function Y5(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function Q5(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function X5(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let df=null;function Ko(){if(!df){const n=Ue.Symbol;if(n&&n.iterator)df=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(df=r)}}}return df}function hf(n){return!!function ov(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Ko()in n)}function sn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function qn(n,e,t,r){const i=I();return sn(i,da(),e)&&(be(),Hr(Ze(),i,n,e,t,r)),qn}function pf(n,e,t,r,i,o,s,a){const l=I(),c=be(),u=n+22,d=c.firstCreatePass?function a8(n,e,t,r,i,o,s,a,l){const c=e.consts,u=Ia(e,n,4,s||null,Qi(c,a));Xy(e,t,u,Qi(c,l)),kh(e,u);const d=u.tViews=Qy(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,r,i,o,s):c.data[u];Ur(d,!1);const h=l[11].createComment("");qh(c,l,h,d),on(h,l),af(l,l[u]=Yk(h,l,h,d)),Sh(d)&&Ky(c,l,d),null!=s&&Yy(l,d,a)}function Pc(n,e,t){const r=I();return sn(r,da(),e)&&Gn(be(),Ze(),r,n,e,r[11],t,!1),Pc}function sv(n,e,t,r,i){const s=i?"class":"style";rv(n,t,e.inputs[s],s,r)}function ct(n,e,t,r){const i=I(),o=be(),s=22+n,a=i[11],l=i[s]=yy(a,e,function v3(){return ie.lFrame.currentNamespace}()),c=o.firstCreatePass?function u8(n,e,t,r,i,o,s){const a=e.consts,c=Ia(e,n,2,i,Qi(a,o));return Xy(e,t,c,Qi(a,s)),null!==c.attrs&&cf(c,c.attrs,!1),null!==c.mergedAttrs&&cf(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,0,e,t,r):o.data[s];return Ur(c,!0),YM(a,l,c),32!=(32&c.flags)&&qh(o,i,l,c),0===function n3(){return ie.lFrame.elementDepthCount}()&&on(l,i),function r3(){ie.lFrame.elementDepthCount++}(),Sh(c)&&(Ky(o,i,c),Wy(o,c,i)),null!==r&&Yy(i,c),ct}function He(){let n=$t();$_()?H_():(n=n.parent,Ur(n,!1));const e=n;!function o3(){ie.lFrame.elementDepthCount--}();const t=be();return t.firstCreatePass&&(kh(t,n),B_(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function x3(n){return 0!=(8&n.flags)}(e)&&sv(t,e,I(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function C3(n){return 0!=(16&n.flags)}(e)&&sv(t,e,I(),e.stylesWithoutHost,!1),He}function dr(n,e,t,r){return ct(n,e,t,r),He(),dr}function Lc(n){return!!n&&"function"==typeof n.then}const cv=function _R(n){return!!n&&"function"==typeof n.subscribe};function gn(n,e,t,r){const i=I(),o=be(),s=$t();return function vR(n,e,t,r,i,o,s){const a=Sh(r),c=n.firstCreatePass&&Xk(n),u=e[8],d=Qk(e);let h=!0;if(3&r.type||s){const m=jn(r,e),g=s?s(m):m,y=d.length,C=s?k=>s(jt(k[r.index])):r.index;let v=null;if(!s&&a&&(v=function h8(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[7],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=o,v.__ngLastListenerFn__=o,h=!1;else{o=wR(r,e,u,o,!1);const k=t.listen(g,i,o);d.push(o,k),c&&c.push(i,C,y,y+1)}}else o=wR(r,e,u,o,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const m=p.length;if(m)for(let g=0;g<m;g+=2){const U=e[p[g]][p[g+1]].subscribe(o),V=d.length;d.push(o,U),c&&c.push(i,r.index,V,-(V+1))}}}(o,i,i[11],s,n,e,r),gn}function bR(n,e,t,r){try{return!1!==t(r)}catch(i){return Jk(n,i),!1}}function wR(n,e,t,r,i){return function o(s){if(s===Function)return r;tv(n.componentOffset>-1?$n(n.index,e):e);let l=bR(e,0,r,s),c=o.__ngNextListenerFn__;for(;c;)l=bR(e,0,c,s)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function ER(n=1){return function f3(n){return(ie.lFrame.contextLView=function p3(n,e){for(;n>0;)e=e[15],n--;return e}(n,ie.lFrame.contextLView))[8]}(n)}function f8(n,e){let t=null;const r=function B4(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?Ik(n,o,!0):$4(r,o))return i}else t=i}return t}function uv(n){const e=I()[16][6];if(!e.projection){const r=e.projection=xc(n?n.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=n?f8(o,n):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}function Vc(n,e=0,t){const r=I(),i=be(),o=Ia(i,22+n,16,null,t||null);null===o.projection&&(o.projection=e),H_(),32!=(32&o.flags)&&function SW(n,e,t){WM(e[11],0,e,t,VM(n,t,e),$M(t.parent||e[6],t,e))}(i,r,o)}function mf(n,e){return n<<17|e<<2}function eo(n){return n>>17&32767}function hv(n){return 2|n}function Qo(n){return(131068&n)>>2}function fv(n,e){return-131069&n|e<<2}function pv(n){return 1|n}function RR(n,e,t,r,i){const o=n[t+1],s=null===e;let a=r?eo(o):Qo(o),l=!1;for(;0!==a&&(!1===l||s);){const u=n[a+1];v8(n[a],e)&&(l=!0,n[a+1]=r?pv(u):hv(u)),a=r?eo(u):Qo(u)}l&&(n[t+1]=r?hv(o):pv(o))}function v8(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&ya(n,e)>=0}function mv(n,e,t){return Ar(n,e,t,!1),mv}function Gr(n,e){return Ar(n,e,null,!0),Gr}function Ar(n,e,t,r){const i=I(),o=be(),s=function _i(n){const e=ie.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);o.firstUpdatePass&&function UR(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[mn()],s=function BR(n,e){return e>=n.expandoStartIndex}(n,t);(function zR(n,e){return 0!=(n.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function S8(n,e,t,r){const i=function G_(n){const e=ie.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Bc(t=gv(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=gv(i,n,e,t,r),null===o){let l=function A8(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Qo(r))return n[eo(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=gv(null,n,e,l[1],r),l=Bc(l,e.attrs,r),function M8(n,e,t,r){n[eo(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else o=function k8(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Bc(r,n[o].hostAttrs,t);return Bc(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function _8(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=eo(s),l=Qo(s);n[r]=t;let u,c=!1;if(Array.isArray(t)?(u=t[1],(null===u||ya(t,u)>0)&&(c=!0)):u=t,i)if(0!==l){const h=eo(n[a+1]);n[r+1]=mf(h,a),0!==h&&(n[h+1]=fv(n[h+1],r)),n[a+1]=function m8(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=mf(a,0),0!==a&&(n[a+1]=fv(n[a+1],r)),a=r;else n[r+1]=mf(l,0),0===a?a=r:n[l+1]=fv(n[l+1],r),l=r;c&&(n[r+1]=hv(n[r+1])),RR(n,u,r,!0),RR(n,u,r,!1),function y8(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&ya(o,e)>=0&&(t[r+1]=pv(t[r+1]))}(e,u,n,r,o),s=mf(a,l),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}(o,n,s,r),e!==oe&&sn(i,s,e)&&function $R(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const l=n.data,c=l[a+1],u=function g8(n){return 1==(1&n)}(c)?HR(l,e,t,i,Qo(c),s):void 0;gf(u)||(gf(o)||function p8(n){return 2==(2&n)}(c)&&(o=HR(l,null,t,i,a,s)),function MW(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:Sn.DashCase;null==i?n.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Sn.Important),n.setStyle(t,r,i,o))}}(r,s,Ah(mn(),t),i,o))}(o,o.data[mn()],i,i[11],n,i[s+1]=function N8(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Ve(function zn(n){return n instanceof Go?n.changingThisBreaksApplicationSecurity:n}(n)))),n}(e,t),r,s)}function gv(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=Bc(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Bc(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Hn(n,s,!!t||e[++o]))}return void 0===n?null:n}function HR(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[i+1];h===oe&&(h=d?Se:void 0);let f=d?oy(h,r):u===r?h:void 0;if(c&&!gf(f)&&(f=oy(l,r)),gf(f)&&(a=f,s))return a;const p=n[i+1];i=s?eo(p):Qo(p)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=oy(l,r))}return a}function gf(n){return void 0!==n}function Mn(n,e=""){const t=I(),r=be(),i=n+22,o=r.firstCreatePass?Ia(r,i,1,e,null):r.data[i],s=t[i]=function _y(n,e){return n.createText(e)}(t[11],e);qh(r,t,s,o),Ur(o,!1)}function Uc(n){return _v("",n,""),Uc}function _v(n,e,t){const r=I(),i=function Sa(n,e,t,r){return sn(n,da(),t)?e+re(t)+r:oe}(r,n,e,t);return i!==oe&&function Ei(n,e,t){const r=Ah(e,n);!function FM(n,e,t){n.setValue(e,t)}(n[11],r,t)}(r,mn(),i),_v}function yv(n,e,t){const r=I();return sn(r,da(),e)&&Gn(be(),Ze(),r,n,e,r[11],t,!0),yv}const Va="en-US";let h1=Va;function wv(n,e,t,r,i){if(n=Y(n),Array.isArray(n))for(let o=0;o<n.length;o++)wv(n[o],e,t,r,i);else{const o=be(),s=I();let a=qo(n)?n:Y(n.provide),l=yk(n);const c=$t(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(qo(n)||!n.multi){const f=new vc(l,i,b),p=xv(a,e,i?u:u+h,d);-1===p?(ty(Lh(c,s),o,a),Ev(o,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(f),s.push(f)):(t[p]=f,s[p]=f)}else{const f=xv(a,e,u+h,d),p=xv(a,e,u,u+h),g=p>=0&&t[p];if(i&&!g||!i&&!(f>=0&&t[f])){ty(Lh(c,s),o,a);const y=function Z6(n,e,t,r,i){const o=new vc(n,t,b);return o.multi=[],o.index=e,o.componentProviders=0,L1(o,i,r&&!t),o}(i?X6:Q6,t.length,i,r,l);!i&&g&&(t[p].providerFactory=y),Ev(o,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(y),s.push(y)}else Ev(o,n,f>-1?f:p,L1(t[i?p:f],l,!i&&r));!i&&r&&g&&t[p].componentProviders++}}}function Ev(n,e,t,r){const i=qo(e),o=function d4(n){return!!n.useClass}(e);if(i||o){const l=(o?Y(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function L1(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function xv(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function Q6(n,e,t,r){return Cv(this.multi,[])}function X6(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=jo(t,t[1],this.providerFactory.index,r);o=a.slice(0,s),Cv(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Cv(i,o);return o}function Cv(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function ze(n,e=[]){return t=>{t.providersResolver=(r,i)=>function Y6(n,e,t){const r=be();if(r.firstCreatePass){const i=Tr(n);wv(t,r.data,r.blueprint,i,!0),wv(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class Ba{}class V1{}class B1 extends Ba{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new eR(this);const r=Bn(e);this._bootstrapComponents=wi(r.bootstrap),this._r3Injector=Ok(e,t,[{provide:Ba,useValue:this},{provide:Wo,useValue:this.componentFactoryResolver}],Ve(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Dv extends V1{constructor(e){super(),this.moduleType=e}create(e){return new B1(this.moduleType,e)}}class eK extends Ba{constructor(e,t,r){super(),this.componentFactoryResolver=new eR(this),this.instance=null;const i=new _k([...e,{provide:Ba,useValue:this},{provide:Wo,useValue:this.componentFactoryResolver}],t||ef(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function wf(n,e,t=null){return new eK(n,e,t).injector}let tK=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=fk(0,t.type),i=r.length>0?wf([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=R({token:n,providedIn:"environment",factory:()=>new n(E(vi))}),n})();function Iv(n){n.getStandaloneInjector=e=>e.get(tK).getOrCreateStandaloneInjector(n)}function Sv(n){return e=>{setTimeout(n,void 0,e)}}const Ge=class TK extends Me{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=Sv(o),i&&(i=Sv(i)),s&&(s=Sv(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ut&&e.add(a),a}};function SK(){return this._results[Ko()]()}class Av{get changes(){return this._changes||(this._changes=new Ge)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Ko(),r=Av.prototype;r[t]||(r[t]=SK)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function cr(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function N3(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Kr=(()=>{class n{}return n.__NG_ELEMENT_ID__=kK,n})();const AK=Kr,MK=class extends AK{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,i=rf(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(r)),qy(r,i,e),new Oc(i)}};function kK(){return Ef($t(),I())}function Ef(n,e){return 4&n.type?new MK(e,n,xa(n,e)):null}let hr=(()=>{class n{}return n.__NG_ELEMENT_ID__=RK,n})();function RK(){return J1($t(),I())}const OK=hr,X1=class extends OK{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return xa(this._hostTNode,this._hostLView)}get injector(){return new fa(this._hostTNode,this._hostLView)}get parentInjector(){const e=ey(this._hostTNode,this._hostLView);if(tM(e)){const t=Fh(e,this._hostLView),r=Nh(e);return new fa(t[1].data[r+8],t)}return new fa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Z1(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=e.createEmbeddedView(t||{},o);return this.insert(s,i),s}createComponent(e,t,r,i,o){const s=e&&!function Ec(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,o=d.environmentInjector||d.ngModuleRef}const l=s?e:new Nc(Oe(e)),c=r||this.parentInjector;if(!o&&null==l.ngModule){const h=(s?c:this.parentInjector).get(vi,null);h&&(o=h)}const u=l.create(c,i,void 0,o);return this.insert(u.hostView,a),u}insert(e,t){const r=e._lView,i=r[1];if(function t3(n){return Ir(n[3])}(r)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=r[3],h=new X1(d,d[6],d[3]);h.detach(h.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;!function EW(n,e,t,r){const i=10+r,o=t.length;r>0&&(t[i-1][4]=e),r<o-10?(e[4]=t[i],fM(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const s=e[17];null!==s&&t!==s&&function xW(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(i,r,s,o);const a=Ey(o,s),l=r[11],c=Gh(l,s[7]);return null!==c&&function vW(n,e,t,r,i,o){r[0]=i,r[6]=e,Sc(n,r,t,1,i,o)}(i,s[6],l,r,c,a),e.attachToViewContainerRef(),fM(Mv(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Z1(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=vy(this._lContainer,t);r&&(Uh(Mv(this._lContainer),t),LM(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=vy(this._lContainer,t);return r&&null!=Uh(Mv(this._lContainer),t)?new Oc(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function Z1(n){return n[8]}function Mv(n){return n[8]||(n[8]=[])}function J1(n,e){let t;const r=e[n.index];if(Ir(r))t=r;else{let i;if(8&n.type)i=jt(r);else{const o=e[11];i=o.createComment("");const s=jn(n,e);Ho(o,Gh(o,s),i,function TW(n,e){return n.nextSibling(e)}(o,s),!1)}e[n.index]=t=Yk(r,e,i,n),af(e,t)}return new X1(t,n,e)}class kv{constructor(e){this.queryList=e,this.matches=null}clone(){return new kv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Rv{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new Rv(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==oO(e,t).matches&&this.queries[t].setDirty()}}class eO{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class Ov{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new Ov(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Nv{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Nv(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,t,NK(t,o)),this.matchTNodeWithReadOption(e,t,Vh(t,e,o,!1,!1))}else r===Kr?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Vh(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Ye||i===hr||i===Kr&&4&t.type)this.addMatch(t.index,-2);else{const o=Vh(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function NK(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function PK(n,e,t,r){return-1===t?function FK(n,e){return 11&n.type?xa(n,e):4&n.type?Ef(n,e):null}(e,n):-2===t?function LK(n,e,t){return t===Ye?xa(e,n):t===Kr?Ef(e,n):t===hr?J1(e,n):void 0}(n,e,r):jo(n,n[1],t,e)}function tO(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const o=n.data,s=t.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:PK(e,o[c],s[l+1],t.metadata.read))}i.matches=a}return i.matches}function Fv(n,e,t,r){const i=n.queries.getByIndex(t),o=i.matches;if(null!==o){const s=tO(n,e,i,t);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)r.push(s[a/2]);else{const c=o[a+1],u=e[-l];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&Fv(h[1],h,c,r)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const f=d[h];Fv(f[1],f,c,r)}}}}}return r}function Kc(n){const e=I(),t=be(),r=GA();q_(r+1);const i=oO(t,r);if(n.dirty&&function e3(n){return 4==(4&n[2])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?Fv(t,e,r,[]):tO(t,e,i,r);n.reset(o,E4),n.notifyOnChanges()}return!0}return!1}function xf(n,e,t){const r=be();r.firstCreatePass&&(function iO(n,e,t){null===n.queries&&(n.queries=new Ov),n.queries.track(new Nv(e,t))}(r,new eO(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),function rO(n,e,t){const r=new Av(4==(4&t));Hk(n,e,r,r.destroy),null===e[19]&&(e[19]=new Rv),e[19].queries.push(new kv(r))}(r,I(),e)}function Yc(){return function VK(n,e){return n[19].queries[e].queryList}(I(),GA())}function oO(n,e){return n.queries.getByIndex(e)}function Df(...n){}const If=new M("Application Initializer");let Tf=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Df,this.reject=Df,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(Lc(o))t.push(o);else if(cv(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(E(If,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Xc=new M("AppId",{providedIn:"root",factory:function CO(){return`${Uv()}${Uv()}${Uv()}`}});function Uv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const DO=new M("Platform Initializer"),Zc=new M("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),IO=new M("appBootstrapListener"),Zo=new M("AnimationModuleType");let s7=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Yr=new M("LocaleId",{providedIn:"root",factory:()=>de(Yr,Q.Optional|Q.SkipSelf)||function a7(){return typeof $localize<"u"&&$localize.locale||Va}()});class c7{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let TO=(()=>{class n{compileModuleSync(t){return new Dv(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=wi(Bn(t).declarations).reduce((s,a)=>{const l=Oe(a);return l&&s.push(new Nc(l)),s},[]);return new c7(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const h7=(()=>Promise.resolve(0))();function jv(n){typeof Zone>"u"?h7.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class se{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ge(!1),this.onMicrotaskEmpty=new Ge(!1),this.onStable=new Ge(!1),this.onError=new Ge(!1),typeof Zone>"u")throw new D(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function f7(){let n=Ue.requestAnimationFrame,e=Ue.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function g7(n){const e=()=>{!function m7(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ue,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Hv(n),n.isCheckStableRunning=!0,$v(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Hv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{try{return MO(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),kO(n)}},onInvoke:(t,r,i,o,s,a,l)=>{try{return MO(n),t.invoke(i,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),kO(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,Hv(n),$v(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!se.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(se.isInAngularZone())throw new D(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,p7,Df,Df);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const p7={};function $v(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Hv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function MO(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function kO(n){n._nesting--,$v(n)}class _7{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ge,this.onMicrotaskEmpty=new Ge,this.onStable=new Ge,this.onError=new Ge}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const RO=new M(""),Sf=new M("");let qv,zv=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,qv||(function y7(n){qv=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{se.assertNotInAngularZone(),jv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())jv(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(E(se),E(Gv),E(Sf))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})(),Gv=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return qv?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),to=null;const OO=new M("AllowMultipleToken"),Wv=new M("PlatformDestroyListeners");class NO{constructor(e,t){this.name=e,this.token=t}}function PO(n,e,t=[]){const r=`Platform: ${e}`,i=new M(r);return(o=[])=>{let s=Kv();if(!s||s.injector.get(OO,!1)){const a=[...t,...o,{provide:i,useValue:!0}];n?n(a):function w7(n){if(to&&!to.get(OO,!1))throw new D(400,!1);to=n;const e=n.get(VO);(function FO(n){const e=n.get(DO,null);e&&e.forEach(t=>t())})(n)}(function LO(n=[],e){return _t.create({name:e,providers:[{provide:Ny,useValue:"platform"},{provide:Wv,useValue:new Set([()=>to=null])},...n]})}(a,r))}return function x7(n){const e=Kv();if(!e)throw new D(401,!1);return e}()}}function Kv(){return to?.get(VO)??null}let VO=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function UO(n,e){let t;return t="noop"===n?new _7:("zone.js"===n?void 0:n)||new se(e),t}(r?.ngZone,function BO(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),o=[{provide:se,useValue:i}];return i.run(()=>{const s=_t.create({providers:o,parent:this.injector,name:t.moduleType.name}),a=t.create(s),l=a.injector.get(Zi,null);if(!l)throw new D(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:u=>{l.handleError(u)}});a.onDestroy(()=>{Af(this._modules,a),c.unsubscribe()})}),function jO(n,e,t){try{const r=t();return Lc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(l,i,()=>{const c=a.injector.get(Tf);return c.runInitializers(),c.donePromise.then(()=>(function f1(n){ir(n,"Expected localeId to be defined"),"string"==typeof n&&(h1=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Yr,Va)||Va),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=$O({},r);return function v7(n,e,t){const r=new Dv(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get($a);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new D(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new D(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Wv,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(E(_t))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function $O(n,e){return Array.isArray(e)?e.reduce($O,n):{...n,...e}}let $a=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Ne(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new Ne(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{se.assertNotInAngularZone(),jv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{se.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=D_(o,s.pipe(function pA(n={}){const{connector:e=(()=>new Me),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=l=void 0,u=d=!1},p=()=>{const m=s;f(),m?.unsubscribe()};return nt((m,g)=>{c++,!d&&!u&&h();const y=l=l??e();g.add(()=>{c--,0===c&&!d&&!u&&(a=I_(p,i))}),y.subscribe(g),!s&&c>0&&(s=new lc({next:C=>y.next(C),error:C=>{d=!0,h(),a=I_(f,t,C),y.error(C)},complete:()=>{u=!0,h(),a=I_(f,r),y.complete()}}),In(m).subscribe(s))})(o)}}()))}bootstrap(t,r){const i=t instanceof vk;if(!this._injector.get(Tf).done)throw!i&&function oa(n){const e=Oe(n)||tn(n)||hn(n);return null!==e&&e.standalone}(t),new D(405,false);let s;s=i?t:this._injector.get(Wo).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function b7(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Ba),c=s.create(_t.NULL,[],r||s.selector,a),u=c.location.nativeElement,d=c.injector.get(RO,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Af(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new D(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Af(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(IO,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Af(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new D(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(E(se),E(vi),E(Zi))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Af(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let Jc=(()=>{class n{}return n.__NG_ELEMENT_ID__=D7,n})();function D7(n){return function I7(n,e,t){if(_c(n)&&!t){const r=$n(n.index,e);return new Oc(r,r)}return 47&n.type?new Oc(e[16],e):null}($t(),I(),16==(16&n))}class WO{constructor(){}supports(e){return hf(e)}create(e){return new R7(e)}}const k7=(n,e)=>e;class R7{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||k7}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<YO(r,i,o)?t:r,a=YO(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;u<=p&&p<c&&(o[h]=f+1)}o[s.previousIndex]=u-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!hf(e))throw new D(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function i8(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Ko()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new O7(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new KO),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new KO),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class O7{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class N7{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class KO{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new N7,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function YO(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function XO(){return new Rf([new WO])}let Rf=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||XO()),deps:[[n,new va,new Dt]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new D(901,!1)}}return n.\u0275prov=R({token:n,providedIn:"root",factory:XO}),n})();const B7=PO(null,"core",[]);let U7=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(E($a))},n.\u0275mod=Te({type:n}),n.\u0275inj=De({}),n})(),Jv=null;function Qr(){return Jv}class H7{}const fe=new M("DocumentToken");let eb=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=R({token:n,factory:function(){return function z7(){return E(JO)}()},providedIn:"platform"}),n})();const G7=new M("Location Initialized");let JO=(()=>{class n extends eb{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Qr().getBaseHref(this._doc)}onPopState(t){const r=Qr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Qr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){eN()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){eN()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(E(fe))},n.\u0275prov=R({token:n,factory:function(){return function q7(){return new JO(E(fe))}()},providedIn:"platform"}),n})();function eN(){return!!window.history.pushState}function tb(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function tN(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ci(n){return n&&"?"!==n[0]?"?"+n:n}let es=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=R({token:n,factory:function(){return de(rN)},providedIn:"root"}),n})();const nN=new M("appBaseHref");let rN=(()=>{class n extends es{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??de(fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return tb(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ci(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+Ci(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+Ci(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(E(eb),E(nN,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),W7=(()=>{class n extends es{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=tb(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Ci(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Ci(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(E(eb),E(nN,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})(),tu=(()=>{class n{constructor(t){this._subject=new Ge,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Q7(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(tN(iN(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ci(r))}normalize(t){return n.stripTrailingSlash(function Y7(n,e){return n&&new RegExp(`^${n}([/;?#]|$)`).test(e)?e.substring(n.length):e}(this._basePath,iN(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ci(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ci(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ci,n.joinWithSlash=tb,n.stripTrailingSlash=tN,n.\u0275fac=function(t){return new(t||n)(E(es))},n.\u0275prov=R({token:n,factory:function(){return function K7(){return new tu(E(es))}()},providedIn:"root"}),n})();function iN(n){return n.replace(/\/index.html$/,"")}class P9{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gN=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new P9(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),_N(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{_N(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(b(hr),b(Kr),b(Rf))},n.\u0275dir=q({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function _N(n,e){n.context.$implicit=e.item}let $f=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=De({}),n})();const wN="browser";let pY=(()=>{class n{}return n.\u0275prov=R({token:n,providedIn:"root",factory:()=>new mY(E(fe),window)}),n})();class mY{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function gY(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=EN(this.window.history)||EN(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function EN(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class zY extends H7{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class yb extends zY{static makeCurrent(){!function $7(n){Jv||(Jv=n)}(new yb)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function GY(){return ou=ou||document.querySelector("base"),ou?ou.getAttribute("href"):null}();return null==t?null:function qY(n){zf=zf||document.createElement("a"),zf.setAttribute("href",n);const e=zf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ou=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function O9(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let zf,ou=null;const SN=new M("TRANSITION_ID"),KY=[{provide:If,useFactory:function WY(n,e,t){return()=>{t.get(Tf).donePromise.then(()=>{const r=Qr(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[SN,fe,_t],multi:!0}];let QY=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();const Gf=new M("EventManagerPlugins");let qf=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(E(Gf),E(se))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();class AN{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Qr().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let MN=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})(),su=(()=>{class n extends MN{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(kN),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(kN))}}return n.\u0275fac=function(t){return new(t||n)(E(fe))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();function kN(n){Qr().remove(n)}const vb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},bb=/%COMP%/g;function wb(n,e){return e.flat(100).map(t=>t.replace(bb,n))}function NN(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Wf=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Eb(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Cr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new nQ(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case Cr.ShadowDom:return new rQ(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=wb(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(E(qf),E(su),E(Xc))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();class Eb{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(vb[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(PN(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(PN(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=vb[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=vb[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Sn.DashCase|Sn.Important)?e.style.setProperty(t,r,i&Sn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Sn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,NN(r)):this.eventManager.addEventListener(e,t,NN(r))}}function PN(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class nQ extends Eb{constructor(e,t,r,i){super(e),this.component=r;const o=wb(i+"-"+r.id,r.styles);t.addStyles(o),this.contentAttr=function JY(n){return"_ngcontent-%COMP%".replace(bb,n)}(i+"-"+r.id),this.hostAttr=function eQ(n){return"_nghost-%COMP%".replace(bb,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class rQ extends Eb{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=wb(i.id,i.styles);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let iQ=(()=>{class n extends AN{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(E(fe))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();const LN=["alt","control","meta","shift"],oQ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},sQ={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let aQ=(()=>{class n extends AN{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Qr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),LN.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=oQ[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),LN.forEach(s=>{s!==i&&(0,sQ[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(E(fe))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();const BN=[{provide:Zc,useValue:wN},{provide:DO,useValue:function lQ(){yb.makeCurrent()},multi:!0},{provide:fe,useFactory:function uQ(){return function FW(n){Iy=n}(document),document},deps:[]}],dQ=PO(B7,"browser",BN),UN=new M(""),jN=[{provide:Sf,useClass:class YY{addToWindow(e){Ue.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},Ue.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ue.getAllAngularRootElements=()=>e.getAllRootElements(),Ue.frameworkStabilizers||(Ue.frameworkStabilizers=[]),Ue.frameworkStabilizers.push(r=>{const i=Ue.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Qr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:RO,useClass:zv,deps:[se,Gv,Sf]},{provide:zv,useClass:zv,deps:[se,Gv,Sf]}],$N=[{provide:Ny,useValue:"root"},{provide:Zi,useFactory:function cQ(){return new Zi},deps:[]},{provide:Gf,useClass:iQ,multi:!0,deps:[fe,se,Zc]},{provide:Gf,useClass:aQ,multi:!0,deps:[fe]},{provide:Wf,useClass:Wf,deps:[qf,su,Xc]},{provide:kc,useExisting:Wf},{provide:MN,useExisting:su},{provide:su,useClass:su,deps:[fe]},{provide:qf,useClass:qf,deps:[Gf,se]},{provide:class _Y{},useClass:QY,deps:[]},[]];let HN=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Xc,useValue:t.appId},{provide:SN,useExisting:Xc},KY]}}}return n.\u0275fac=function(t){return new(t||n)(E(UN,12))},n.\u0275mod=Te({type:n}),n.\u0275inj=De({providers:[...$N,...jN],imports:[$f,U7]}),n})(),zN=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(E(fe))},n.\u0275prov=R({token:n,factory:function(t){let r=null;return r=t?new t:function fQ(){return new zN(E(fe))}(),r},providedIn:"root"}),n})();function H(...n){return gt(n,cc(n))}typeof window<"u"&&window;class mr extends Me{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Kf=ac(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:wQ}=Array,{getPrototypeOf:EQ,prototype:xQ,keys:CQ}=Object;function KN(n){if(1===n.length){const e=n[0];if(wQ(e))return{args:e,keys:null};if(function DQ(n){return n&&"object"==typeof n&&EQ(n)===xQ}(e)){const t=CQ(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:IQ}=Array;function Ib(n){return X(e=>function TQ(n,e){return IQ(e)?n(...e):n(e)}(n,e))}function YN(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Tb(...n){const e=cc(n),t=hA(n),{args:r,keys:i}=KN(n);if(0===r.length)return gt([],e);const o=new Ne(function SQ(n,e,t=Wi){return r=>{QN(e,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)QN(e,()=>{const c=gt(n[l],e);let u=!1;c.subscribe(Ke(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>YN(i,s):Wi));return t?o.pipe(Ib(t)):o}function QN(n,e,t){n?hi(t,n,e):e()}function Yf(...n){return function AQ(){return ra(1)}()(gt(n,cc(n)))}function Qf(n){return new Ne(e=>{In(n()).subscribe(e)})}function za(n,e){const t=Ce(n)?n:()=>n,r=i=>i.error(t());return new Ne(e?i=>e.schedule(r,0,i):r)}function Sb(){return nt((n,e)=>{let t=null;n._refCount++;const r=Ke(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class XN extends Ne{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,XS(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ut;const t=this.getSubject();e.add(this.source.subscribe(Ke(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ut.EMPTY)}return e}refCount(){return Sb()(this)}}function Xr(n,e){return nt((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(Ke(r,l=>{i?.unsubscribe();let c=0;const u=o++;In(n(l,u)).subscribe(i=Ke(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Nr(n){return n<=0?()=>Vr:nt((e,t)=>{let r=0;e.subscribe(Ke(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function au(...n){const e=cc(n);return nt((t,r)=>{(e?Yf(n,t,e):Yf(n,t)).subscribe(r)})}function vn(n,e){return nt((t,r)=>{let i=0;t.subscribe(Ke(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Xf(n){return nt((e,t)=>{let r=!1;e.subscribe(Ke(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ZN(n=MQ){return nt((e,t)=>{let r=!1;e.subscribe(Ke(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function MQ(){return new Kf}function ro(n,e){const t=arguments.length>=2;return r=>r.pipe(n?vn((i,o)=>n(i,o,r)):Wi,Nr(1),t?Xf(e):ZN(()=>new Kf))}function io(n,e){return Ce(e)?Ot(n,e,1):Ot(n,1)}function bt(n,e,t){const r=Ce(n)||e||t?{next:n,error:e,complete:t}:n;return r?nt((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Ke(o,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),o.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Wi}function Ii(n){return nt((e,t)=>{let o,r=null,i=!1;r=e.subscribe(Ke(t,void 0,void 0,s=>{o=In(n(s,Ii(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function kQ(n,e,t,r,i){return(o,s)=>{let a=t,l=e,c=0;o.subscribe(Ke(s,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function JN(n,e){return nt(kQ(n,e,arguments.length>=2,!0))}function Ab(n){return n<=0?()=>Vr:nt((e,t)=>{let r=[];e.subscribe(Ke(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function eF(n,e){const t=arguments.length>=2;return r=>r.pipe(n?vn((i,o)=>n(i,o,r)):Wi,Ab(1),t?Xf(e):ZN(()=>new Kf))}function Zf(n){return nt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const ae="primary",lu=Symbol("RouteTitle");class NQ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ga(n){return new NQ(n)}function FQ(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Zr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!tF(n[i],e[i]))return!1;return!0}function tF(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function nF(n){return Array.prototype.concat.apply([],n)}function rF(n){return n.length>0?n[n.length-1]:null}function zt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function oo(n){return cv(n)?n:Lc(n)?gt(Promise.resolve(n)):H(n)}const Jf=!1,LQ={exact:function sF(n,e,t){if(!ns(n.segments,e.segments)||!ep(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!sF(n.children[r],e.children[r],t))return!1;return!0},subset:aF},iF={exact:function VQ(n,e){return Zr(n,e)},subset:function BQ(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>tF(n[t],e[t]))},ignored:()=>!0};function oF(n,e,t){return LQ[t.paths](n.root,e.root,t.matrixParams)&&iF[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function aF(n,e,t){return lF(n,e,e.segments,t)}function lF(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!ns(i,t)||e.hasChildren()||!ep(i,t,r))}if(n.segments.length===t.length){if(!ns(n.segments,t)||!ep(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!aF(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(ns(n.segments,i)&&ep(n.segments,i,r)&&n.children[ae])&&lF(n.children[ae],e,o,r)}}function ep(n,e,t){return e.every((r,i)=>iF[t](n[i].parameters,r.parameters))}class ts{constructor(e=new pe([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ga(this.queryParams)),this._queryParamMap}toString(){return $Q.serialize(this)}}class pe{constructor(e,t){this.segments=e,this.children=t,this.parent=null,zt(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tp(this)}}class cu{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ga(this.parameters)),this._parameterMap}toString(){return dF(this)}}function ns(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let uu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=R({token:n,factory:function(){return new Mb},providedIn:"root"}),n})();class Mb{parse(e){const t=new XQ(e);return new ts(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${du(e.root,!0)}`,r=function GQ(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${np(t)}=${np(i)}`).join("&"):`${np(t)}=${np(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function HQ(n){return encodeURI(n)}(e.fragment)}`:""}`}}const $Q=new Mb;function tp(n){return n.segments.map(e=>dF(e)).join("/")}function du(n,e){if(!n.hasChildren())return tp(n);if(e){const t=n.children[ae]?du(n.children[ae],!1):"",r=[];return zt(n.children,(i,o)=>{o!==ae&&r.push(`${o}:${du(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function jQ(n,e){let t=[];return zt(n.children,(r,i)=>{i===ae&&(t=t.concat(e(r,i)))}),zt(n.children,(r,i)=>{i!==ae&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===ae?[du(n.children[ae],!1)]:[`${i}:${du(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ae]?`${tp(n)}/${t[0]}`:`${tp(n)}/(${t.join("//")})`}}function cF(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function np(n){return cF(n).replace(/%3B/gi,";")}function kb(n){return cF(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rp(n){return decodeURIComponent(n)}function uF(n){return rp(n.replace(/\+/g,"%20"))}function dF(n){return`${kb(n.path)}${function zQ(n){return Object.keys(n).map(e=>`;${kb(e)}=${kb(n[e])}`).join("")}(n.parameters)}`}const qQ=/^[^\/()?;=#]+/;function ip(n){const e=n.match(qQ);return e?e[0]:""}const WQ=/^[^=?&#]+/,YQ=/^[^&#]+/;class XQ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pe([],{}):new pe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ae]=new pe(e,t)),r}parseSegment(){const e=ip(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new D(4009,Jf);return this.capture(e),new cu(rp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ip(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=ip(this.remaining);i&&(r=i,this.capture(r))}e[rp(t)]=rp(r)}parseQueryParam(e){const t=function KQ(n){const e=n.match(WQ);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function QQ(n){const e=n.match(YQ);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=uF(t),o=uF(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ip(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new D(4010,Jf);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ae);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[ae]:new pe([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new D(4011,Jf)}}function Rb(n){return n.segments.length>0?new pe([],{[ae]:n}):n}function op(n){const e={};for(const r of Object.keys(n.children)){const o=op(n.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function ZQ(n){if(1===n.numberOfChildren&&n.children[ae]){const e=n.children[ae];return new pe(n.segments.concat(e.segments),e.children)}return n}(new pe(n.segments,e))}function rs(n){return n instanceof ts}function tX(n,e,t,r,i){if(0===t.length)return qa(e.root,e.root,e.root,r,i);const o=function pF(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new fF(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return zt(o.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new fF(t,e,r)}(t);return o.toRoot()?qa(e.root,e.root,new pe([],{}),r,i):function s(l){const c=function rX(n,e,t,r){if(n.isAbsolute)return new Wa(e.root,!0,0);if(-1===r)return new Wa(t,t===e.root,0);return function mF(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new D(4005,!1);i=r.segments.length}return new Wa(r,!1,i-o)}(t,r+(hu(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,e,n.snapshot?._urlSegment,l),u=c.processChildren?Ka(c.segmentGroup,c.index,o.commands):Nb(c.segmentGroup,c.index,o.commands);return qa(e.root,c.segmentGroup,u,r,i)}(n.snapshot?._lastPathIndex)}function hu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function fu(n){return"object"==typeof n&&null!=n&&n.outlets}function qa(n,e,t,r,i){let s,o={};r&&zt(r,(l,c)=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),s=n===e?t:hF(n,e,t);const a=Rb(op(s));return new ts(a,o,i)}function hF(n,e,t){const r={};return zt(n.children,(i,o)=>{r[o]=i===e?t:hF(i,e,t)}),new pe(n.segments,r)}class fF{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&hu(r[0]))throw new D(4003,!1);const i=r.find(fu);if(i&&i!==rF(r))throw new D(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wa{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Nb(n,e,t){if(n||(n=new pe([],{})),0===n.segments.length&&n.hasChildren())return Ka(n,e,t);const r=function oX(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const s=n.segments[i],a=t[r];if(fu(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!_F(l,c,s))return o;r+=2}else{if(!_F(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new pe(n.segments.slice(0,r.pathIndex),{});return o.children[ae]=new pe(n.segments.slice(r.pathIndex),n.children),Ka(o,0,i)}return r.match&&0===i.length?new pe(n.segments,{}):r.match&&!n.hasChildren()?Fb(n,e,t):r.match?Ka(n,0,i):Fb(n,e,t)}function Ka(n,e,t){if(0===t.length)return new pe(n.segments,{});{const r=function iX(n){return fu(n[0])?n[0].outlets:{[ae]:n}}(t),i={};return!r[ae]&&n.children[ae]&&1===n.numberOfChildren&&0===n.children[ae].segments.length?Ka(n.children[ae],e,t):(zt(r,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=Nb(n.children[s],e,o))}),zt(n.children,(o,s)=>{void 0===r[s]&&(i[s]=o)}),new pe(n.segments,i))}}function Fb(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(fu(o)){const l=sX(o.outlets);return new pe(r,l)}if(0===i&&hu(t[0])){r.push(new cu(n.segments[e].path,gF(t[0]))),i++;continue}const s=fu(o)?o.outlets[ae]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&hu(a)?(r.push(new cu(s,gF(a))),i+=2):(r.push(new cu(s,{})),i++)}return new pe(r,{})}function sX(n){const e={};return zt(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Fb(new pe([],{}),0,t))}),e}function gF(n){const e={};return zt(n,(t,r)=>e[r]=`${t}`),e}function _F(n,e,t){return n==t.path&&Zr(e,t.parameters)}const pu="imperative";class Jr{constructor(e,t){this.id=e,this.url=t}}class Pb extends Jr{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class is extends Jr{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class sp extends Jr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class yF extends Jr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class vF extends Jr{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class aX extends Jr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lX extends Jr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cX extends Jr{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class uX extends Jr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dX extends Jr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hX{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class fX{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pX{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mX{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gX{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _X{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bF{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let vX=(()=>{class n{createUrlTree(t,r,i,o,s,a){return tX(t||r.root,i,o,s,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})(),bX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=R({token:n,factory:function(e){return vX.\u0275fac(e)},providedIn:"root"}),n})();class wF{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Lb(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Lb(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Vb(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Vb(e,this._root).map(t=>t.value)}}function Lb(n,e){if(n===e.value)return e;for(const t of e.children){const r=Lb(n,t);if(r)return r}return null}function Vb(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Vb(n,t);if(r.length)return r.unshift(e),r}return[]}class Ti{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ya(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class EF extends wF{constructor(e,t){super(e),this.snapshot=t,Bb(this,e)}toString(){return this.snapshot.toString()}}function xF(n,e){const t=function wX(n,e){const s=new ap([],{},{},"",{},ae,e,null,n.root,-1,{});return new DF("",new Ti(s,[]))}(n,e),r=new mr([new cu("",{})]),i=new mr({}),o=new mr({}),s=new mr({}),a=new mr(""),l=new Qa(r,i,s,a,o,ae,e,t.root);return l.snapshot=t.root,new EF(new Ti(l,[]),t)}class Qa{constructor(e,t,r,i,o,s,a,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.title=this.data?.pipe(X(c=>c[lu]))??H(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(X(e=>Ga(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(X(e=>Ga(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function CF(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function EX(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class ap{get title(){return this.data?.[lu]}constructor(e,t,r,i,o,s,a,l,c,u,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ga(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ga(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class DF extends wF{constructor(e,t){super(t),this.url=e,Bb(this,t)}toString(){return IF(this._root)}}function Bb(n,e){e.value._routerState=n,e.children.forEach(t=>Bb(n,t))}function IF(n){const e=n.children.length>0?` { ${n.children.map(IF).join(", ")} } `:"";return`${n.value}${e}`}function Ub(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Zr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Zr(e.params,t.params)||n.params.next(t.params),function PQ(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Zr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Zr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function jb(n,e){const t=Zr(n.params,e.params)&&function UQ(n,e){return ns(n,e)&&n.every((t,r)=>Zr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||jb(n.parent,e.parent))}function mu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function CX(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return mu(n,r,i);return mu(n,r)})}(n,e,t);return new Ti(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>mu(n,a)),s}}const r=function DX(n){return new Qa(new mr(n.url),new mr(n.params),new mr(n.queryParams),new mr(n.fragment),new mr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>mu(n,o));return new Ti(r,i)}}const $b="ngNavigationCancelingError";function TF(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=rs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=SF(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function SF(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[$b]=!0,r.cancellationCode=e,t&&(r.url=t),r}function AF(n){return MF(n)&&rs(n.url)}function MF(n){return n&&n[$b]}class IX{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new gu,this.attachRef=null}}let gu=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new IX,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lp=!1;let Hb=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ae,this.activateEvents=new Ge,this.deactivateEvents=new Ge,this.attachEvents=new Ge,this.detachEvents=new Ge,this.parentContexts=de(gu),this.location=de(hr),this.changeDetector=de(Jc),this.environmentInjector=de(vi)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new D(4012,lp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new D(4012,lp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new D(4012,lp);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new D(4013,lp);this._activatedRoute=t;const i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new TX(t,a,i.injector);if(r&&function SX(n){return!!n.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(s);this.activated=i.createComponent(c,i.length,l)}else this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=q({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ar]}),n})();class TX{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Qa?this.route:e===gu?this.childContexts:this.parent.get(e,t)}}let zb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=sr({type:n,selectors:[["ng-component"]],standalone:!0,features:[Iv],decls:1,vars:0,template:function(t,r){1&t&&dr(0,"router-outlet")},dependencies:[Hb],encapsulation:2}),n})();function kF(n,e){return n.providers&&!n._injector&&(n._injector=wf(n.providers,e,`Route: ${n.path}`)),n._injector??e}function qb(n){const e=n.children&&n.children.map(qb),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ae&&(t.component=zb),t}function gr(n){return n.outlet||ae}function RF(n,e){const t=n.filter(r=>gr(r)===e);return t.push(...n.filter(r=>gr(r)!==e)),t}function _u(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class OX{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Ub(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Ya(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),zt(i,(o,s)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ya(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ya(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Ya(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new _X(o.value.snapshot))}),e.children.length&&this.forwardEvent(new mX(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(Ub(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Ub(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=_u(i.snapshot),l=a?.get(Wo)??null;s.attachRef=null,s.route=i,s.resolver=l,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class OF{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class cp{constructor(e,t){this.component=e,this.route=t}}function NX(n,e,t){const r=n._root;return yu(r,e?e._root:null,t,[r.value])}function Xa(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function Aq(n){return null!==vh(n)}(n)?e.get(n):n:r}function yu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ya(e);return n.children.forEach(s=>{(function PX(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function LX(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ns(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ns(n.url,e.url)||!Zr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jb(n,e)||!Zr(n.queryParams,e.queryParams);default:return!jb(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new OF(r)):(o.data=s.data,o._resolvedData=s._resolvedData),yu(n,e,o.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new cp(a.outlet.component,s))}else s&&vu(e,a,i),i.canActivateChecks.push(new OF(r)),yu(n,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),zt(o,(s,a)=>vu(s,t.getContext(a),i)),i}function vu(n,e,t){const r=Ya(n),i=n.value;zt(r,(o,s)=>{vu(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new cp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function bu(n){return"function"==typeof n}function Wb(n){return n instanceof Kf||"EmptyError"===n?.name}const up=Symbol("INITIAL_VALUE");function Za(){return Xr(n=>Tb(n.map(e=>e.pipe(Nr(1),au(up)))).pipe(X(e=>{for(const t of e)if(!0!==t){if(t===up)return up;if(!1===t||t instanceof ts)return t}return!0}),vn(e=>e!==up),Nr(1)))}function NF(n){return function XG(...n){return KS(n)}(bt(e=>{if(rs(e))throw TF(0,e)}),X(e=>!0===e))}const Kb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function FF(n,e,t,r,i){const o=Yb(n,e,t);return o.matched?function eZ(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?H(i.map(s=>{const a=Xa(s,n);return oo(function HX(n){return n&&bu(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Za(),NF()):H(!0)}(r=kF(e,r),e,t).pipe(X(s=>!0===s?o:{...Kb})):H(o)}function Yb(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Kb}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||FQ)(t,n,e);if(!i)return{...Kb};const o={};zt(i.posParams,(a,l)=>{o[l]=a.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function dp(n,e,t,r){if(t.length>0&&function rZ(n,e,t){return t.some(r=>hp(n,e,r)&&gr(r)!==ae)}(n,t,r)){const o=new pe(e,function nZ(n,e,t,r){const i={};i[ae]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&gr(o)!==ae){const s=new pe([],{});s._sourceSegment=n,s._segmentIndexShift=e.length,i[gr(o)]=s}return i}(n,e,r,new pe(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function iZ(n,e,t){return t.some(r=>hp(n,e,r))}(n,t,r)){const o=new pe(n.segments,function tZ(n,e,t,r,i){const o={};for(const s of r)if(hp(n,t,s)&&!i[gr(s)]){const a=new pe([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,o[gr(s)]=a}return{...i,...o}}(n,e,t,r,n.children));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const i=new pe(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function hp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function PF(n,e,t,r){return!!(gr(n)===r||r!==ae&&hp(e,t,n))&&("**"===n.path||Yb(e,n,t).matched)}function LF(n,e,t){return 0===e.length&&!n.children[t]}const fp=!1;class pp{constructor(e){this.segmentGroup=e||null}}class VF{constructor(e){this.urlTree=e}}function wu(n){return za(new pp(n))}function BF(n){return za(new VF(n))}class lZ{constructor(e,t,r,i,o){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const e=dp(this.urlTree.root,[],[],this.config).segmentGroup,t=new pe(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,ae).pipe(X(o=>this.createUrlTree(op(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ii(o=>{if(o instanceof VF)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof pp?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ae).pipe(X(i=>this.createUrlTree(op(i),e.queryParams,e.fragment))).pipe(Ii(i=>{throw i instanceof pp?this.noMatchError(i):i}))}noMatchError(e){return new D(4002,fp)}createUrlTree(e,t,r){const i=Rb(e);return new ts(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(X(o=>new pe([],o))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return gt(i).pipe(io(o=>{const s=r.children[o],a=RF(t,o);return this.expandSegmentGroup(e,a,s,o).pipe(X(l=>({segment:l,outlet:o})))}),JN((o,s)=>(o[s.outlet]=s.segment,o),{}),eF())}expandSegment(e,t,r,i,o,s){return gt(r).pipe(io(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,o,s).pipe(Ii(c=>{if(c instanceof pp)return H(null);throw c}))),ro(a=>!!a),Ii((a,l)=>{if(Wb(a))return LF(t,i,o)?H(new pe([],{})):wu(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,o,s,a){return PF(i,t,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s):wu(t):wu(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?BF(o):this.lineralizeSegments(r,o).pipe(Ot(s=>{const a=new pe(s,{});return this.expandSegment(e,a,t,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=Yb(t,i,o);if(!a)return wu(t);const d=this.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?BF(d):this.lineralizeSegments(i,d).pipe(Ot(h=>this.expandSegment(e,t,r,h.concat(c),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){return"**"===r.path?(e=kF(r,e),r.loadChildren?(r._loadedRoutes?H({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(X(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new pe(i,{})))):H(new pe(i,{}))):FF(t,r,i,e).pipe(Xr(({matched:s,consumedSegments:a,remainingSegments:l})=>s?this.getChildConfig(e=r._injector??e,r,i).pipe(Ot(u=>{const d=u.injector??e,h=u.routes,{segmentGroup:f,slicedSegments:p}=dp(t,a,l,h),m=new pe(f.segments,f.children);if(0===p.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe(X(v=>new pe(a,v)));if(0===h.length&&0===p.length)return H(new pe(a,{}));const g=gr(r)===o;return this.expandSegment(d,m,h,p,g?ae:o,!0).pipe(X(C=>new pe(a.concat(C.segments),C.children)))})):wu(t)))}getChildConfig(e,t,r){return t.children?H({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?H({routes:t._loadedRoutes,injector:t._loadedInjector}):function JX(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?H(!0):H(i.map(s=>{const a=Xa(s,n);return oo(function BX(n){return n&&bu(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Za(),NF())}(e,t,r).pipe(Ot(i=>i?this.configLoader.loadChildren(e,t).pipe(bt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function sZ(n){return za(SF(fp,3))}())):H({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return H(r);if(i.numberOfChildren>1||!i.children[ae])return za(new D(4e3,fp));i=i.children[ae]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new ts(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return zt(e,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=t[a]}else r[o]=i}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let s={};return zt(t.children,(a,l)=>{s[l]=this.createSegmentGroup(e,a,r,i)}),new pe(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new D(4001,fp);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class uZ{}class fZ{constructor(e,t,r,i,o,s,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a}recognize(){const e=dp(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ae).pipe(X(t=>{if(null===t)return null;const r=new ap([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ae,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ti(r,t),o=new DF(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,r=CF(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return gt(Object.keys(r.children)).pipe(io(i=>{const o=r.children[i],s=RF(t,i);return this.processSegmentGroup(e,s,o,i)}),JN((i,o)=>i&&o?(i.push(...o),i):null),function RQ(n,e=!1){return nt((t,r)=>{let i=0;t.subscribe(Ke(r,o=>{const s=n(o,i++);(s||e)&&r.next(o),!s&&r.complete()}))})}(i=>null!==i),Xf(null),eF(),X(i=>{if(null===i)return null;const o=jF(i);return function pZ(n){n.sort((e,t)=>e.value.outlet===ae?-1:t.value.outlet===ae?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,r,i,o){return gt(t).pipe(io(s=>this.processSegmentAgainstRoute(s._injector??e,s,r,i,o)),ro(s=>!!s),Ii(s=>{if(Wb(s))return LF(r,i,o)?H([]):H(null);throw s}))}processSegmentAgainstRoute(e,t,r,i,o){if(t.redirectTo||!PF(t,r,i,o))return H(null);let s;if("**"===t.path){const a=i.length>0?rF(i).parameters:{},l=HF(r)+i.length;s=H({snapshot:new ap(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,zF(t),gr(t),t.component??t._loadedComponent??null,t,$F(r),l,GF(t)),consumedSegments:[],remainingSegments:[]})}else s=FF(r,t,i,e).pipe(X(({matched:a,consumedSegments:l,remainingSegments:c,parameters:u})=>{if(!a)return null;const d=HF(r)+l.length;return{snapshot:new ap(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,zF(t),gr(t),t.component??t._loadedComponent??null,t,$F(r),d,GF(t)),consumedSegments:l,remainingSegments:c}}));return s.pipe(Xr(a=>{if(null===a)return H(null);const{snapshot:l,consumedSegments:c,remainingSegments:u}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function mZ(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:p}=dp(r,c,u,h.filter(g=>void 0===g.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(X(g=>null===g?null:[new Ti(l,g)]));if(0===h.length&&0===p.length)return H([new Ti(l,[])]);const m=gr(t)===o;return this.processSegment(d,h,f,p,m?ae:o).pipe(X(g=>null===g?null:[new Ti(l,g)]))}))}}function gZ(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function jF(n){const e=[],t=new Set;for(const r of n){if(!gZ(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=jF(r.children);e.push(new Ti(r.value,i))}return e.filter(r=>!t.has(r))}function $F(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function HF(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function zF(n){return n.data||{}}function GF(n){return n.resolve||{}}function qF(n){return"string"==typeof n.title||null===n.title}function Qb(n){return Xr(e=>{const t=n(e);return t?gt(t).pipe(X(()=>e)):H(e)})}const Ja=new M("ROUTES");let Xb=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return H(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=oo(t.loadComponent()).pipe(X(KF),bt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Zf(()=>{this.componentLoaders.delete(t)})),i=new XN(r,()=>new Me).pipe(Sb());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return H({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(X(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,c,u=!1;Array.isArray(a)?c=a:(l=a.create(t).injector,c=nF(l.get(Ja,[],Q.Self|Q.Optional)));return{routes:c.map(qb),injector:l}}),Zf(()=>{this.childrenLoaders.delete(r)})),s=new XN(o,()=>new Me).pipe(Sb());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(t){return oo(t()).pipe(X(KF),Ot(i=>i instanceof V1||Array.isArray(i)?H(i):gt(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(E(_t),E(TO))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function KF(n){return function DZ(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let gp=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Me,this.configLoader=de(Xb),this.environmentInjector=de(vi),this.urlSerializer=de(uu),this.rootContexts=de(gu),this.navigationId=0,this.afterPreactivation=()=>H(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new fX(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new hX(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new mr({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:pu,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(vn(r=>0!==r.id),X(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Xr(r=>{let i=!1,o=!1;return H(r).pipe(bt(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Xr(s=>{const a=t.browserUrlTree.toString(),l=!t.navigated||s.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!l&&"reload"!==(s.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const u="";return this.events.next(new yF(s.id,t.serializeUrl(r.rawUrl),u,0)),t.rawUrlTree=s.rawUrl,s.resolve(null),Vr}if(t.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return YF(s.source)&&(t.browserUrlTree=s.extractedUrl),H(s).pipe(Xr(u=>{const d=this.transitions?.getValue();return this.events.next(new Pb(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),d!==this.transitions?.getValue()?Vr:Promise.resolve(u)}),function cZ(n,e,t,r){return Xr(i=>function aZ(n,e,t,r,i){return new lZ(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(X(o=>({...i,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),bt(u=>{this.currentNavigation={...this.currentNavigation,finalUrl:u.urlAfterRedirects},r.urlAfterRedirects=u.urlAfterRedirects}),function yZ(n,e,t,r,i){return Ot(o=>function hZ(n,e,t,r,i,o,s="emptyOnly"){return new fZ(n,e,t,r,i,s,o).recognize().pipe(Xr(a=>null===a?function dZ(n){return new Ne(e=>e.error(n))}(new uZ):H(a)))}(n,e,t,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i).pipe(X(s=>({...o,targetSnapshot:s}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),bt(u=>{if(r.targetSnapshot=u.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!u.extras.skipLocationChange){const h=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);t.setBrowserUrl(h,u)}t.browserUrlTree=u.urlAfterRedirects}const d=new aX(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(l&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:u,extractedUrl:d,source:h,restoredState:f,extras:p}=s,m=new Pb(u,this.urlSerializer.serialize(d),h,f);this.events.next(m);const g=xF(d,this.rootComponentType).snapshot;return H(r={...s,targetSnapshot:g,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const u="";return this.events.next(new yF(s.id,t.serializeUrl(r.extractedUrl),u,1)),t.rawUrlTree=s.rawUrl,s.resolve(null),Vr}}),bt(s=>{const a=new lX(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),X(s=>r={...s,guards:NX(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function GX(n,e){return Ot(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?H({...t,guardsResult:!0}):function qX(n,e,t,r){return gt(n).pipe(Ot(i=>function ZX(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?H(o.map(a=>{const l=_u(e)??i,c=Xa(a,l);return oo(function $X(n){return n&&bu(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):l.runInContext(()=>c(n,e,t,r))).pipe(ro())})).pipe(Za()):H(!0)}(i.component,i.route,t,e,r)),ro(i=>!0!==i,!0))}(s,r,i,n).pipe(Ot(a=>a&&function VX(n){return"boolean"==typeof n}(a)?function WX(n,e,t,r){return gt(e).pipe(io(i=>Yf(function YX(n,e){return null!==n&&e&&e(new pX(n)),H(!0)}(i.route.parent,r),function KX(n,e){return null!==n&&e&&e(new gX(n)),H(!0)}(i.route,r),function XX(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function FX(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>Qf(()=>H(s.guards.map(l=>{const c=_u(s.node)??t,u=Xa(l,c);return oo(function jX(n){return n&&bu(n.canActivateChild)}(u)?u.canActivateChild(r,n):c.runInContext(()=>u(r,n))).pipe(ro())})).pipe(Za())));return H(o).pipe(Za())}(n,i.path,t),function QX(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return H(!0);const i=r.map(o=>Qf(()=>{const s=_u(e)??t,a=Xa(o,s);return oo(function UX(n){return n&&bu(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(ro())}));return H(i).pipe(Za())}(n,i.route,t))),ro(i=>!0!==i,!0))}(r,o,n,e):H(a)),X(a=>({...t,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),bt(s=>{if(r.guardsResult=s.guardsResult,rs(s.guardsResult))throw TF(0,s.guardsResult);const a=new cX(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),vn(s=>!!s.guardsResult||(t.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),Qb(s=>{if(s.guards.canActivateChecks.length)return H(s).pipe(bt(a=>{const l=new uX(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Xr(a=>{let l=!1;return H(a).pipe(function vZ(n,e){return Ot(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return H(t);let o=0;return gt(i).pipe(io(s=>function bZ(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!qF(i)&&(o[lu]=i.title),function wZ(n,e,t,r){const i=function EZ(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return H({});const o={};return gt(i).pipe(Ot(s=>function xZ(n,e,t,r){const i=_u(e)??r,o=Xa(n,i);return oo(o.resolve?o.resolve(e,t):i.runInContext(()=>o(e,t)))}(n[s],e,t,r).pipe(ro(),bt(a=>{o[s]=a}))),Ab(1),function OQ(n){return X(()=>n)}(o),Ii(s=>Wb(s)?Vr:za(s)))}(o,n,e,r).pipe(X(s=>(n._resolvedData=s,n.data=CF(n,t).resolve,i&&qF(i)&&(n.data[lu]=i.title),null)))}(s.route,r,n,e)),bt(()=>o++),Ab(1),Ot(s=>o===i.length?H(t):Vr))})}(t.paramsInheritanceStrategy,this.environmentInjector),bt({next:()=>l=!0,complete:()=>{l||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),bt(a=>{const l=new dX(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),Qb(s=>{const a=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(bt(u=>{l.component=u}),X(()=>{})));for(const u of l.children)c.push(...a(u));return c};return Tb(a(s.targetSnapshot.root)).pipe(Xf(),Nr(1))}),Qb(()=>this.afterPreactivation()),X(s=>{const a=function xX(n,e,t){const r=mu(n,e._root,t?t._root:void 0);return new EF(r,e)}(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return r={...s,targetRouterState:a}}),bt(s=>{t.currentUrlTree=s.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),t.routerState=s.targetRouterState,"deferred"===t.urlUpdateStrategy&&(s.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,s),t.browserUrlTree=s.urlAfterRedirects)}),((n,e,t)=>X(r=>(new OX(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s)),bt({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new is(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Zf(()=>{i||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Ii(s=>{if(o=!0,MF(s)){AF(s)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new sp(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),AF(s)){const l=t.urlHandlingStrategy.merge(s.url,t.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||YF(r.source)};t.scheduleNavigation(l,pu,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new vF(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(s))}catch(l){r.reject(l)}}return Vr}))}))}cancelNavigationTransition(t,r,i){const o=new sp(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function YF(n){return n!==pu}let QF=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ae);return r}getResolvedTitleForRoute(t){return t.data[lu]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=R({token:n,factory:function(){return de(IZ)},providedIn:"root"}),n})(),IZ=(()=>{class n extends QF{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(E(zN))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=R({token:n,factory:function(){return de(AZ)},providedIn:"root"}),n})();class SZ{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let AZ=(()=>{class n extends SZ{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ht(n)))(r||n)}}(),n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _p=new M("",{providedIn:"root",factory:()=>({})});let kZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=R({token:n,factory:function(){return de(RZ)},providedIn:"root"}),n})(),RZ=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function OZ(n){throw n}function NZ(n,e,t){return e.parse("/")}const FZ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},PZ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Wn=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=de(s7),this.isNgZoneEnabled=!1,this.options=de(_p,{optional:!0})||{},this.errorHandler=this.options.errorHandler||OZ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||NZ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=de(kZ),this.routeReuseStrategy=de(TZ),this.urlCreationStrategy=de(bX),this.titleStrategy=de(QF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=nF(de(Ja,{optional:!0})??[]),this.navigationTransitions=de(gp),this.urlSerializer=de(uu),this.location=de(tu),this.isNgZoneEnabled=de(se)instanceof se&&se.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ts,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=xF(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),pu,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(qb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s;let u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}return null!==u&&(u=this.removeEmptyProps(u)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=rs(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,pu,null,r)}navigate(t,r={skipLocationChange:!1}){return function LZ(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new D(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...FZ}:!1===r?{...PZ}:r,rs(t))return oF(this.currentUrlTree,t,i);const o=this.parseUrl(t);return oF(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c,u;return s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,l=h}),u="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:u,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ZF{}let UZ=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(vn(t=>t instanceof is),io(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=wf(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?i.push(this.preloadConfig(s,o)):(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return gt(i).pipe(ra())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):H(null);const o=i.pipe(Ot(s=>null===s?H(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?gt([o,this.loader.loadComponent(r)]).pipe(ra()):o})}}return n.\u0275fac=function(t){return new(t||n)(E(Wn),E(TO),E(vi),E(ZF),E(Xb))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Jb=new M("");let JF=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Pb?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof is&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof bF&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new bF(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){nf()},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();function os(n,e){return{\u0275kind:n,\u0275providers:e}}function tP(){const n=de(_t);return e=>{const t=n.get($a);if(e!==t.components[0])return;const r=n.get(Wn),i=n.get(nP);1===n.get(t0)&&r.initialNavigation(),n.get(rP,null,Q.Optional)?.setUpPreloading(),n.get(Jb,null,Q.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const nP=new M("",{factory:()=>new Me}),t0=new M("",{providedIn:"root",factory:()=>1});const rP=new M("");function GZ(n){return os(0,[{provide:rP,useExisting:UZ},{provide:ZF,useExisting:n}])}const iP=new M("ROUTER_FORROOT_GUARD"),qZ=[tu,{provide:uu,useClass:Mb},Wn,gu,{provide:Qa,useFactory:function eP(n){return n.routerState.root},deps:[Wn]},Xb,[]];function WZ(){return new NO("Router",Wn)}let oP=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[qZ,[],{provide:Ja,multi:!0,useValue:t},{provide:iP,useFactory:XZ,deps:[[Wn,new Dt,new va]]},{provide:_p,useValue:r||{}},r?.useHash?{provide:es,useClass:W7}:{provide:es,useClass:rN},{provide:Jb,useFactory:()=>{const n=de(pY),e=de(se),t=de(_p),r=de(gp),i=de(uu);return t.scrollOffset&&n.setOffset(t.scrollOffset),new JF(i,r,n,e,t)}},r?.preloadingStrategy?GZ(r.preloadingStrategy).\u0275providers:[],{provide:NO,multi:!0,useFactory:WZ},r?.initialNavigation?ZZ(r):[],[{provide:sP,useFactory:tP},{provide:IO,multi:!0,useExisting:sP}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Ja,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(E(iP,8))},n.\u0275mod=Te({type:n}),n.\u0275inj=De({imports:[zb]}),n})();function XZ(n){return"guarded"}function ZZ(n){return["disabled"===n.initialNavigation?os(3,[{provide:If,multi:!0,useFactory:()=>{const e=de(Wn);return()=>{e.setUpLocationChangeListener()}}},{provide:t0,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?os(2,[{provide:t0,useValue:0},{provide:If,multi:!0,deps:[_t],useFactory:e=>{const t=e.get(G7,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const o=e.get(Wn),s=e.get(nP);(function r(i){e.get(Wn).events.pipe(vn(s=>s instanceof is||s instanceof sp||s instanceof vF),X(s=>s instanceof is||s instanceof sp&&(0===s.code||1===s.code)&&null),vn(s=>null!==s),Nr(1)).subscribe(()=>{i()})})(()=>{i(!0)}),e.get(gp).afterPreactivation=()=>(i(!0),s.closed?H(void 0):s),o.initialNavigation()}))}}]).\u0275providers:[]]}const sP=new M("");function aP(n,e,t,r,i,o,s){try{var a=n[o](s),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function _(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function s(l){aP(o,r,i,s,a,"next",l)}function a(l){aP(o,r,i,s,a,"throw",l)}s(void 0)})}}let cP=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(b(bi),b(Ye))},n.\u0275dir=q({type:n}),n})(),ss=(()=>{class n extends cP{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ht(n)))(r||n)}}(),n.\u0275dir=q({type:n,features:[me]}),n})();const ei=new M("NgValueAccessor"),tJ={provide:ei,useExisting:Be(()=>yp),multi:!0},rJ=new M("CompositionEventMode");let yp=(()=>{class n extends cP{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function nJ(){const n=Qr()?Qr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(b(bi),b(Ye),b(rJ,8))},n.\u0275dir=q({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&gn("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[ze([tJ]),me]}),n})();const an=new M("NgValidators"),ao=new M("NgAsyncValidators");function bP(n){return null!=n}function wP(n){return Lc(n)?gt(n):n}function EP(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function xP(n,e){return e.map(t=>t(n))}function CP(n){return n.map(e=>function sJ(n){return!n.validate}(e)?e:t=>e.validate(t))}function n0(n){return null!=n?function DP(n){if(!n)return null;const e=n.filter(bP);return 0==e.length?null:function(t){return EP(xP(t,e))}}(CP(n)):null}function IP(n){if(!n)return null;const e=n.filter(bP);return 0==e.length?null:function(t){return function lP(...n){const e=hA(n),{args:t,keys:r}=KN(n),i=new Ne(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let u=0;u<s;u++){let d=!1;In(t[u]).subscribe(Ke(o,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?YN(r,a):a),o.complete())}))}});return e?i.pipe(Ib(e)):i}(xP(t,e).map(wP)).pipe(X(EP))}}function r0(n){return null!=n?IP(CP(n)):null}function TP(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function SP(n){return n._rawValidators}function AP(n){return n._rawAsyncValidators}function o0(n){return n?Array.isArray(n)?n:[n]:[]}function bp(n,e){return Array.isArray(n)?n.includes(e):n===e}function MP(n,e){const t=o0(e);return o0(n).forEach(i=>{bp(t,i)||t.push(i)}),t}function kP(n,e){return o0(e).filter(t=>!bp(n,t))}class RP{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=n0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=r0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class bn extends RP{get formDirective(){return null}get path(){return null}}class lo extends RP{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class OP{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let NP=(()=>{class n extends OP{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(b(lo,2))},n.\u0275dir=q({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Gr("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[me]}),n})(),FP=(()=>{class n extends OP{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(b(bn,10))},n.\u0275dir=q({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&Gr("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[me]}),n})();const xu="VALID",Ep="INVALID",tl="PENDING",Cu="DISABLED";function c0(n){return(xp(n)?n.validators:n)||null}function u0(n,e){return(xp(e)?e.asyncValidators:n)||null}function xp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class BP{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===xu}get invalid(){return this.status===Ep}get pending(){return this.status==tl}get disabled(){return this.status===Cu}get enabled(){return this.status!==Cu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(MP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(MP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(kP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(kP(e,this._rawAsyncValidators))}hasValidator(e){return bp(this._rawValidators,e)}hasAsyncValidator(e){return bp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=tl,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Cu,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=xu,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xu||this.status===tl)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Cu:xu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=tl,this._hasOwnPendingAsyncValidator=!0;const t=wP(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ge,this.statusChanges=new Ge}_calculateStatus(){return this._allControlsDisabled()?Cu:this.errors?Ep:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(tl)?tl:this._anyControlsHaveStatus(Ep)?Ep:xu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){xp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function fJ(n){return Array.isArray(n)?n0(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function pJ(n){return Array.isArray(n)?r0(n):n||null}(this._rawAsyncValidators)}}class Cp extends BP{constructor(e,t,r){super(c0(t),u0(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function VP(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new D(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function LP(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new D(1e3,"");if(!r[t])throw new D(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const nl=new M("CallSetDisabledState",{providedIn:"root",factory:()=>Dp}),Dp="always";function Du(n,e,t=Dp){d0(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function _J(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&UP(n,e)})}(n,e),function vJ(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function yJ(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&UP(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function gJ(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Tp(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Ap(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Sp(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function d0(n,e){const t=SP(n);null!==e.validator?n.setValidators(TP(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=AP(n);null!==e.asyncValidator?n.setAsyncValidators(TP(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Sp(e._rawValidators,i),Sp(e._rawAsyncValidators,i)}function Ap(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=SP(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const i=AP(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}const r=()=>{};return Sp(e._rawValidators,r),Sp(e._rawAsyncValidators,r),t}function UP(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function HP(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function zP(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Tu=class extends BP{constructor(e=null,t,r){super(c0(t),u0(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xp(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=zP(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){HP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){HP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){zP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let YP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=q({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),XP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=De({}),n})();const g0=new M("NgModelWithFormControlWarning"),OJ={provide:bn,useExisting:Be(()=>Mp)};let Mp=(()=>{class n extends bn{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ge,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ap(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Du(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Tp(t.control||null,t,!1),function xJ(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function $P(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Tp(r||null,t),(n=>n instanceof Tu)(i)&&(Du(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function jP(n,e){d0(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function bJ(n,e){return Ap(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){d0(this.form,this),this._oldForm&&Ap(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(b(an,10),b(ao,10),b(nl,8))},n.\u0275dir=q({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&gn("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ze([OJ]),me,ar]}),n})();const PJ={provide:lo,useExisting:Be(()=>v0)};let v0=(()=>{class n extends lo{set isDisabled(t){}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new Ge,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function p0(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===yp?t=o:function EJ(n){return Object.getPrototypeOf(n.constructor)===ss}(o)?r=o:i=o}),i||r||t||null}(0,o)}ngOnChanges(t){this._added||this._setUpControl(),function f0(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Ip(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(b(bn,13),b(an,10),b(ao,10),b(ei,10),b(g0,8))},n.\u0275dir=q({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[ze([PJ]),me,ar]}),n})(),fL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=De({imports:[XP]}),n})(),ZJ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:nl,useValue:t.callSetDisabledState??Dp}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=De({imports:[fL]}),n})(),JJ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:g0,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:nl,useValue:t.callSetDisabledState??Dp}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=De({imports:[fL]}),n})();const pL=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},C0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],s=i+1<n.length,a=s?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,s||(h=64)),r.push(t[o>>2],t[(3&o)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(pL(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const l=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const o=n[t++],s=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==d)throw Error();r.push(o<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},kp=function(n){return function(n){const e=pL(n);return C0.encodeByteArray(e,!0)}(n).replace(/\./g,"")},Rp=function(n){try{return C0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Op=()=>{try{return function oee(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Rp(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}};class Np{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Kn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function D0(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function ls(){try{return"object"==typeof indexedDB}catch{return!1}}function Su(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(t){e(t)}})}function I0(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Fr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ti.prototype.create)}}class ti{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function yee(n,e){return n.replace(vee,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new Fr(i,`${this.serviceName}: ${s} (${i}).`,r)}}const vee=/\{\$([^}]+)}/g;function T0(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],s=e[i];if(_L(o)&&_L(s)){if(!T0(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function _L(n){return null!==n&&"object"==typeof n}function yL(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class wee{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function Eee(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=S0),void 0===i.error&&(i.error=S0),void 0===i.complete&&(i.complete=S0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function S0(){}function M0(n,e=1e3,t=2){const r=e*Math.pow(t,n),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function _r(n){return n&&n._delegate?n._delegate:n}class ln{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const cs="[DEFAULT]";class See{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Np;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Mee(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:cs})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=cs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return _(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=cs){return this.instances.has(e)}getOptions(e=cs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===cs?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=cs){return this.component?this.component.multipleInstances?e:cs:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class kee{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new See(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const k0=[];var we=(()=>{return(n=we||(we={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",we;var n})();const vL={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},Ree=we.INFO,Oee={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},Nee=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=Oee[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class rl{constructor(e){this.name=e,this._logLevel=Ree,this._logHandler=Nee,this._userLogHandler=null,k0.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?vL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}let bL,wL;const EL=new WeakMap,R0=new WeakMap,xL=new WeakMap,O0=new WeakMap,N0=new WeakMap;let F0={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return R0.get(n);if("objectStoreNames"===e)return n.objectStoreNames||xL.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Si(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function $ee(n){return"function"==typeof n?function jee(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Lee(){return wL||(wL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(P0(this),e),Si(EL.get(this))}:function(...e){return Si(n.apply(P0(this),e))}:function(e,...t){const r=n.call(P0(this),e,...t);return xL.set(r,e.sort?e.sort():[e]),Si(r)}}(n):(n instanceof IDBTransaction&&function Bee(n){if(R0.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});R0.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function Pee(){return bL||(bL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,F0):n)}function Si(n){if(n instanceof IDBRequest)return function Vee(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Si(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&EL.set(t,n)}).catch(()=>{}),N0.set(e,n),e}(n);if(O0.has(n))return O0.get(n);const e=$ee(n);return e!==n&&(O0.set(n,e),N0.set(e,n)),e}const P0=n=>N0.get(n);function Pp(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(n,e),a=Si(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Si(s.result),l.oldVersion,l.newVersion,Si(s.transaction))}),t&&s.addEventListener("blocked",()=>t()),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function L0(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),Si(t).then(()=>{})}const Hee=["get","getKey","getAll","getAllKeys","count"],zee=["put","add","delete","clear"],V0=new Map;function CL(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(V0.get(e))return V0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=zee.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Hee.includes(t))return;const o=function(){var s=_(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),i&&c.done]))[0]});return function(l){return s.apply(this,arguments)}}();return V0.set(e,o),o}!function Uee(n){F0=n(F0)}(n=>({...n,get:(e,t,r)=>CL(e,t)||n.get(e,t,r),has:(e,t)=>!!CL(e,t)||n.has(e,t)}));class Gee{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function qee(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const B0="@firebase/app",us=new rl("@firebase/app"),Lp="[DEFAULT]",yte={[B0]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ds=new Map,Vp=new Map;function vte(n,e){try{n.container.addComponent(e)}catch(t){us.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function wn(n){const e=n.name;if(Vp.has(e))return us.debug(`There were multiple attempts to register component ${e}.`),!1;Vp.set(e,n);for(const t of ds.values())vte(t,n);return!0}function Bp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const Ai=new ti("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class wte{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ln("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ai.create("app-deleted",{appName:this._name})}}const Up="9.16.0";function IL(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Lp,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ai.create("bad-app-name",{appName:String(i)});if(t||(t=(()=>{var n;return null===(n=Op())||void 0===n?void 0:n.config})()),!t)throw Ai.create("no-options");const o=ds.get(i);if(o){if(T0(t,o.options)&&T0(r,o.config))return o;throw Ai.create("duplicate-app",{appName:i})}const s=new kee(i);for(const l of Vp.values())s.addComponent(l);const a=new wte(t,r,s);return ds.set(i,a),a}function TL(n=Lp){const e=ds.get(n);if(!e&&n===Lp)return IL();if(!e)throw Ai.create("no-app",{appName:n});return e}function SL(){return Array.from(ds.values())}function dt(n,e,t){var r;let i=null!==(r=yte[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void us.warn(a.join(" "))}wn(new ln(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Au="firebase-heartbeat-store";let j0=null;function AL(){return j0||(j0=Pp("firebase-heartbeat-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Au)}}).catch(n=>{throw Ai.create("idb-open",{originalErrorMessage:n.message})})),j0}function $0(){return($0=_(function*(n){try{return(yield AL()).transaction(Au).objectStore(Au).get(kL(n))}catch(e){if(e instanceof Fr)us.warn(e.message);else{const t=Ai.create("idb-get",{originalErrorMessage:e?.message});us.warn(t.message)}}})).apply(this,arguments)}function ML(n,e){return H0.apply(this,arguments)}function H0(){return(H0=_(function*(n,e){try{const r=(yield AL()).transaction(Au,"readwrite");return yield r.objectStore(Au).put(e,kL(n)),r.done}catch(t){if(t instanceof Fr)us.warn(t.message);else{const r=Ai.create("idb-set",{originalErrorMessage:t?.message});us.warn(r.message)}}})).apply(this,arguments)}function kL(n){return`${n.name}!${n.options.appId}`}class Tte{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ate(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return _(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=RL();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(o=>o.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return _(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=RL(),{heartbeatsToSend:r,unsentEntries:i}=function Ste(n,e=1024){const t=[];let r=n.slice();for(const i of n){const o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),OL(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),OL(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=kp(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function RL(){return(new Date).toISOString().substring(0,10)}class Ate{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(function*(){return!!ls()&&Su().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return _(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Cte(n){return $0.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return _(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return ML(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return _(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return ML(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function OL(n){return kp(JSON.stringify({version:2,heartbeats:n})).length}!function Mte(n){wn(new ln("platform-logger",e=>new Gee(e),"PRIVATE")),wn(new ln("heartbeat",e=>new Tte(e),"PRIVATE")),dt(B0,"0.9.1",n),dt(B0,"0.9.1","esm2017"),dt("fire-js","")}(""),dt("firebase","9.16.0","app");const NL="@firebase/installations",z0="0.6.1",PL=`w:${z0}`,LL="FIS_v2",Mi=new ti("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function VL(n){return n instanceof Fr&&n.code.includes("request-failed")}function G0({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function BL(n){return{token:n.token,requestStatus:2,expiresIn:Vte(n.expiresIn),creationTime:Date.now()}}function q0(n,e){return W0.apply(this,arguments)}function W0(){return(W0=_(function*(n,e){const r=(yield e.json()).error;return Mi.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function UL({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function jL(n,{refreshToken:e}){const t=UL(n);return t.append("Authorization",function Bte(n){return`${LL} ${n}`}(e)),t}function K0(n){return Y0.apply(this,arguments)}function Y0(){return(Y0=_(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function Vte(n){return Number(n.replace("s","000"))}function Ute(n,e){return Q0.apply(this,arguments)}function Q0(){return(Q0=_(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=G0(n),i=UL(n),o=e.getImmediate({optional:!0});if(o){const c=yield o.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:LL,appId:n.appId,sdkVersion:PL})},l=yield K0(()=>fetch(r,a));if(l.ok){const c=yield l.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:BL(c.authToken)}}throw yield q0("Create Installation",l)})).apply(this,arguments)}function $L(n){return new Promise(e=>{setTimeout(e,n)})}const $te=/^[cdef][\w-]{21}$/;function Hte(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function zte(n){return function jte(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return $te.test(t)?t:""}catch{return""}}function il(n){return`${n.appName}!${n.appId}`}const ol=new Map;function HL(n,e){const t=il(n);zL(t,e),function Wte(n,e){const t=function GL(){return!hs&&"BroadcastChannel"in self&&(hs=new BroadcastChannel("[Firebase] FID Change"),hs.onmessage=n=>{zL(n.data.key,n.data.fid)}),hs}();t&&t.postMessage({key:n,fid:e}),function qL(){0===ol.size&&hs&&(hs.close(),hs=null)}()}(t,e)}function zL(n,e){const t=ol.get(n);if(t)for(const r of t)r(e)}let hs=null;const fs="firebase-installations-store";let Z0=null;function J0(){return Z0||(Z0=Pp("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(fs)}})),Z0}function jp(n,e){return ew.apply(this,arguments)}function ew(){return(ew=_(function*(n,e){const t=il(n),i=(yield J0()).transaction(fs,"readwrite"),o=i.objectStore(fs),s=yield o.get(t);return yield o.put(e,t),yield i.done,(!s||s.fid!==e.fid)&&HL(n,e.fid),e})).apply(this,arguments)}function tw(n){return nw.apply(this,arguments)}function nw(){return(nw=_(function*(n){const e=il(n),r=(yield J0()).transaction(fs,"readwrite");yield r.objectStore(fs).delete(e),yield r.done})).apply(this,arguments)}function Mu(n,e){return rw.apply(this,arguments)}function rw(){return(rw=_(function*(n,e){const t=il(n),i=(yield J0()).transaction(fs,"readwrite"),o=i.objectStore(fs),s=yield o.get(t),a=e(s);return void 0===a?yield o.delete(t):yield o.put(a,t),yield i.done,a&&(!s||s.fid!==a.fid)&&HL(n,a.fid),a})).apply(this,arguments)}function iw(n){return ow.apply(this,arguments)}function ow(){return(ow=_(function*(n){let e;const t=yield Mu(n.appConfig,r=>{const i=Qte(r),o=Xte(n,i);return e=o.registrationPromise,o.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function Qte(n){return KL(n||{fid:Hte(),registrationStatus:0})}function Xte(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Mi.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Zte(n,e){return sw.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Jte(n)}:{installationEntry:e}}function sw(){return(sw=_(function*(n,e){try{const t=yield Ute(n,e);return jp(n.appConfig,t)}catch(t){throw VL(t)&&409===t.customData.serverCode?yield tw(n.appConfig):yield jp(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function Jte(n){return aw.apply(this,arguments)}function aw(){return(aw=_(function*(n){let e=yield WL(n.appConfig);for(;1===e.registrationStatus;)yield $L(100),e=yield WL(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield iw(n);return r||t}return e})).apply(this,arguments)}function WL(n){return Mu(n,e=>{if(!e)throw Mi.create("installation-not-found");return KL(e)})}function KL(n){return function ene(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function tne(n,e){return lw.apply(this,arguments)}function lw(){return(lw=_(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=nne(n,t),i=jL(n,t),o=e.getImmediate({optional:!0});if(o){const c=yield o.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:PL,appId:n.appId}})},l=yield K0(()=>fetch(r,a));if(l.ok)return BL(yield l.json());throw yield q0("Generate Auth Token",l)})).apply(this,arguments)}function nne(n,{fid:e}){return`${G0(n)}/${e}/authTokens:generate`}function cw(n){return uw.apply(this,arguments)}function uw(){return(uw=_(function*(n,e=!1){let t;const r=yield Mu(n.appConfig,o=>{if(!QL(o))throw Mi.create("not-registered");const s=o.authToken;if(!e&&one(s))return o;if(1===s.requestStatus)return t=rne(n,e),o;{if(!navigator.onLine)throw Mi.create("app-offline");const a=ane(o);return t=ine(n,a),a}});return t?yield t:r.authToken})).apply(this,arguments)}function rne(n,e){return dw.apply(this,arguments)}function dw(){return(dw=_(function*(n,e){let t=yield YL(n.appConfig);for(;1===t.authToken.requestStatus;)yield $L(100),t=yield YL(n.appConfig);const r=t.authToken;return 0===r.requestStatus?cw(n,e):r})).apply(this,arguments)}function YL(n){return Mu(n,e=>{if(!QL(e))throw Mi.create("not-registered");return function lne(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function ine(n,e){return hw.apply(this,arguments)}function hw(){return(hw=_(function*(n,e){try{const t=yield tne(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield jp(n.appConfig,r),t}catch(t){if(!VL(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield jp(n.appConfig,r)}else yield tw(n.appConfig);throw t}})).apply(this,arguments)}function QL(n){return void 0!==n&&2===n.registrationStatus}function one(n){return 2===n.requestStatus&&!function sne(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function ane(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function fw(){return(fw=_(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield iw(e);return r?r.catch(console.error):cw(e).catch(console.error),t.fid})).apply(this,arguments)}function pw(){return(pw=_(function*(n,e=!1){const t=n;return yield dne(t),(yield cw(t,e)).token})).apply(this,arguments)}function dne(n){return mw.apply(this,arguments)}function mw(){return(mw=_(function*(n){const{registrationPromise:e}=yield iw(n);e&&(yield e)})).apply(this,arguments)}function yw(n){return Mi.create("missing-app-config-values",{valueName:n})}const XL="installations",gne=n=>{const e=n.getProvider("app").getImmediate(),t=function pne(n){if(!n||!n.options)throw yw("App Configuration");if(!n.name)throw yw("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw yw(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:Bp(e,"heartbeat"),_delete:()=>Promise.resolve()}},_ne=n=>{const t=Bp(n.getProvider("app").getImmediate(),XL).getImmediate();return{getId:()=>function cne(n){return fw.apply(this,arguments)}(t),getToken:i=>function une(n){return pw.apply(this,arguments)}(t,i)}};(function yne(){wn(new ln(XL,gne,"PUBLIC")),wn(new ln("installations-internal",_ne,"PRIVATE"))})(),dt(NL,z0),dt(NL,z0,"esm2017");const vw="@firebase/remote-config",Rn=new ti("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ane{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return _(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const o=yield t.client.fetch(e),s=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(t.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function Mne(n=navigator){return n.languages&&n.languages[0]||n.language}class kne{constructor(e,t,r,i,o,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=s}fetch(e){var t=this;return _(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},l={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:Mne()},c={method:"POST",headers:a,body:JSON.stringify(l)},u=fetch(s,c),d=new Promise((y,C)=>{e.signal.addEventListener(()=>{const v=new Error("The operation was aborted.");v.name="AbortError",C(v)})});let h;try{yield Promise.race([u,d]),h=yield u}catch(y){let C="fetch-client-network";throw"AbortError"===y?.name&&(C="fetch-timeout"),Rn.create(C,{originalErrorMessage:y?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,g;if(200===h.status){let y;try{y=yield h.json()}catch(C){throw Rn.create("fetch-client-parse",{originalErrorMessage:C?.message})}m=y.entries,g=y.state}if("INSTANCE_STATE_UNSPECIFIED"===g?f=500:"NO_CHANGE"===g?f=304:("NO_TEMPLATE"===g||"EMPTY_CONFIG"===g)&&(m={}),304!==f&&200!==f)throw Rn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class Nne{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return _(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return _(function*(){yield function Rne(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(Rn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const o=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),o}catch(o){if(!function One(n){if(!(n instanceof Fr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const s={throttleEndTimeMillis:Date.now()+M0(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(s),i.attemptFetch(e,s)}})()}}class Lne{constructor(e,t,r,i,o){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Hp(n,e){const t=n.target.error||void 0;return Rn.create(e,{originalErrorMessage:t&&t?.message})}const ps="app_namespace_store";class jne{constructor(e,t,r,i=function Une(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(Hp(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ps,{keyPath:"compositeKey"})}}catch(t){e(Rn.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return _(function*(){const r=yield t.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([ps],"readonly").objectStore(ps),l=t.createCompositeKey(e);try{const c=a.get(l);c.onerror=u=>{o(Hp(u,"storage-get"))},c.onsuccess=u=>{const d=u.target.result;i(d?d.value:void 0)}}catch(c){o(Rn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,t){var r=this;return _(function*(){const i=yield r.openDbPromise;return new Promise((o,s)=>{const l=i.transaction([ps],"readwrite").objectStore(ps),c=r.createCompositeKey(e);try{const u=l.put({compositeKey:c,value:t});u.onerror=d=>{s(Hp(d,"storage-set"))},u.onsuccess=()=>{o()}}catch(u){s(Rn.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(e){var t=this;return _(function*(){const r=yield t.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([ps],"readwrite").objectStore(ps),l=t.createCompositeKey(e);try{const c=a.delete(l);c.onerror=u=>{o(Hp(u,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){o(Rn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class $ne{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return _(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),o=yield t;o&&(e.lastFetchStatus=o);const s=yield r;s&&(e.lastSuccessfulFetchTimestampMillis=s);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function zne(){return Cw.apply(this,arguments)}function Cw(){return(Cw=_(function*(){if(!ls())return!1;try{return yield Su()}catch{return!1}})).apply(this,arguments)}!function Hne(){wn(new ln("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Rn.create("registration-window");if(!ls())throw Rn.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=r.options;if(!o)throw Rn.create("registration-project-id");if(!s)throw Rn.create("registration-api-key");if(!a)throw Rn.create("registration-app-id");const l=new jne(a,r.name,t=t||"firebase"),c=new $ne(l),u=new rl(vw);u.logLevel=we.ERROR;const d=new kne(i,Up,t,o,s,a),h=new Nne(d,l),f=new Ane(h,l,c,u),p=new Lne(r,f,c,l,u);return function Ine(n){const e=_r(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),dt(vw,"0.4.1"),dt(vw,"0.4.1","esm2017")}();const Gne="/firebase-messaging-sw.js",qne="/firebase-cloud-messaging-push-scope",tV="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",nV="google.c.a.c_id",Kne="google.c.a.c_l",Yne="google.c.a.ts",Qne="google.c.a.e";var sl=(()=>{return(n=sl||(sl={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",sl;var n})();function ki(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Xne(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}const Dw="fcm_token_details_db",rV="fcm_token_object_Store";function Jne(n){return Iw.apply(this,arguments)}function Iw(){return Iw=_(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(Dw))return null;let e=null;return(yield Pp(Dw,5,{upgrade:(r=_(function*(i,o,s,a){var l;if(o<2||!i.objectStoreNames.contains(rV))return;const c=a.objectStore(rV),u=yield c.index("fcmSenderId").get(n);if(yield c.clear(),u)if(2===o){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(l=d.createTime)&&void 0!==l?l:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:ki(d.vapidKey)}}}else if(3===o){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ki(d.auth),p256dh:ki(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ki(d.vapidKey)}}}else if(4===o){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ki(d.auth),p256dh:ki(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ki(d.vapidKey)}}}}),function(o,s,a,l){return r.apply(this,arguments)})})).close(),yield L0(Dw),yield L0("fcm_vapid_details_db"),yield L0("undefined"),ere(e)?e:null;var r}),Iw.apply(this,arguments)}function ere(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const ms="firebase-messaging-store";let Tw=null;function Sw(){return Tw||(Tw=Pp("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(ms)}})),Tw}function iV(n){return Aw.apply(this,arguments)}function Aw(){return(Aw=_(function*(n){const e=Ow(n),r=yield(yield Sw()).transaction(ms).objectStore(ms).get(e);if(r)return r;{const i=yield Jne(n.appConfig.senderId);if(i)return yield Mw(n,i),i}})).apply(this,arguments)}function Mw(n,e){return kw.apply(this,arguments)}function kw(){return(kw=_(function*(n,e){const t=Ow(n),i=(yield Sw()).transaction(ms,"readwrite");return yield i.objectStore(ms).put(e,t),yield i.done,e})).apply(this,arguments)}function rre(n){return Rw.apply(this,arguments)}function Rw(){return(Rw=_(function*(n){const e=Ow(n),r=(yield Sw()).transaction(ms,"readwrite");yield r.objectStore(ms).delete(e),yield r.done})).apply(this,arguments)}function Ow({appConfig:n}){return n.appId}const Gt=new ti("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ore(n,e){return Nw.apply(this,arguments)}function Nw(){return(Nw=_(function*(n,e){const t=yield Vw(n),r=sV(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(Lw(n.appConfig),i)).json()}catch(s){throw Gt.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error)throw Gt.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw Gt.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function sre(n,e){return Fw.apply(this,arguments)}function Fw(){return(Fw=_(function*(n,e){const t=yield Vw(n),r=sV(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(`${Lw(n.appConfig)}/${e.token}`,i)).json()}catch(s){throw Gt.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error)throw Gt.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw Gt.create("token-update-no-token");return o.token})).apply(this,arguments)}function oV(n,e){return Pw.apply(this,arguments)}function Pw(){return(Pw=_(function*(n,e){const r={method:"DELETE",headers:yield Vw(n)};try{const o=yield(yield fetch(`${Lw(n.appConfig)}/${e}`,r)).json();if(o.error)throw Gt.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(i){throw Gt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function Lw({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function Vw(n){return Bw.apply(this,arguments)}function Bw(){return(Bw=_(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function sV({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==tV&&(i.web.applicationPubKey=r),i}function lre(n){return Uw.apply(this,arguments)}function Uw(){return(Uw=_(function*(n){const e=yield ure(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:ki(e.getKey("auth")),p256dh:ki(e.getKey("p256dh"))},r=yield iV(n.firebaseDependencies);if(r){if(dre(r.subscriptionOptions,t))return Date.now()>=r.createTime+6048e5?cre(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield oV(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return lV(n.firebaseDependencies,t)}return lV(n.firebaseDependencies,t)})).apply(this,arguments)}function aV(n){return jw.apply(this,arguments)}function jw(){return(jw=_(function*(n){const e=yield iV(n.firebaseDependencies);e&&(yield oV(n.firebaseDependencies,e.token),yield rre(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function cre(n,e){return $w.apply(this,arguments)}function $w(){return($w=_(function*(n,e){try{const t=yield sre(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield Mw(n.firebaseDependencies,r),t}catch(t){throw yield aV(n),t}})).apply(this,arguments)}function lV(n,e){return Hw.apply(this,arguments)}function Hw(){return(Hw=_(function*(n,e){const r={token:yield ore(n,e),createTime:Date.now(),subscriptionOptions:e};return yield Mw(n,r),r.token})).apply(this,arguments)}function ure(n,e){return zw.apply(this,arguments)}function zw(){return(zw=_(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Xne(e)})})).apply(this,arguments)}function dre(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function cV(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function hre(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const o=e.notification.icon;o&&(n.notification.icon=o)}(e,n),function fre(n,e){e.data&&(n.data=e.data)}(e,n),function pre(n,e){var t,r,i,o,s;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=e.notification)||void 0===o?void 0:o.click_action;a&&(n.fcmOptions.link=a);const l=null===(s=e.fcmOptions)||void 0===s?void 0:s.analytics_label;l&&(n.fcmOptions.analyticsLabel=l)}(e,n),e}function mre(n){return"object"==typeof n&&!!n&&nV in n}function uV(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function Gw(n){return Gt.create("missing-app-config-values",{valueName:n})}uV("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),uV("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class _re{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function gre(n){if(!n||!n.options)throw Gw("App Configuration Object");if(!n.name)throw Gw("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw Gw(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function dV(n){return qw.apply(this,arguments)}function qw(){return(qw=_(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(Gne,{scope:qne}),n.swRegistration.update().catch(()=>{})}catch(e){throw Gt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function yre(n,e){return Ww.apply(this,arguments)}function Ww(){return(Ww=_(function*(n,e){if(!e&&!n.swRegistration&&(yield dV(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Gt.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function vre(n,e){return Kw.apply(this,arguments)}function Kw(){return(Kw=_(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=tV)})).apply(this,arguments)}function Yw(){return(Yw=_(function*(n,e){if(!navigator)throw Gt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Gt.create("permission-blocked");return yield vre(n,e?.vapidKey),yield yre(n,e?.serviceWorkerRegistration),lre(n)})).apply(this,arguments)}function bre(n,e,t){return Qw.apply(this,arguments)}function Qw(){return(Qw=_(function*(n,e,t){const r=wre(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[nV],message_name:t[Kne],message_time:t[Yne],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function wre(n){switch(n){case sl.NOTIFICATION_CLICKED:return"notification_open";case sl.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Xw(){return(Xw=_(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===sl.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(cV(t)):n.onMessageHandler.next(cV(t)));const r=t.data;mre(r)&&"1"===r[Qne]&&(yield bre(n,t.messageType,r))})).apply(this,arguments)}const fV="@firebase/messaging",xre=n=>{const e=new _re(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function Ere(n,e){return Xw.apply(this,arguments)}(e,t)),e},Cre=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function hV(n,e){return Yw.apply(this,arguments)}(e,r)}};function mV(){return Zw.apply(this,arguments)}function Zw(){return(Zw=_(function*(){try{yield Su()}catch{return!1}return typeof window<"u"&&ls()&&I0()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Dre(){wn(new ln("messaging",xre,"PUBLIC")),wn(new ln("messaging-internal",Cre,"PRIVATE")),dt(fV,"0.12.1"),dt(fV,"0.12.1","esm2017")}();const zp="analytics",Sre="firebase_id",kre="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",gV="https://www.googletagmanager.com/gtag/js",qt=new rl("@firebase/analytics");function _V(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Rre(n,e){const t=document.createElement("script");t.src=`${gV}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function Nre(n,e,t,r,i,o){return tE.apply(this,arguments)}function tE(){return(tE=_(function*(n,e,t,r,i,o){const s=r[i];try{if(s)yield e[s];else{const l=(yield _V(t)).find(c=>c.measurementId===i);l&&(yield e[l.appId])}}catch(a){qt.error(a)}n("config",i,o)})).apply(this,arguments)}function Fre(n,e,t,r,i){return nE.apply(this,arguments)}function nE(){return(nE=_(function*(n,e,t,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=yield _V(t);for(const l of s){const c=a.find(d=>d.measurementId===l),u=c&&e[c.appId];if(!u){o=[];break}o.push(u)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),n("event",r,i||{})}catch(o){qt.error(o)}})).apply(this,arguments)}function Vre(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(gV)&&t.src.includes(n))return t;return null}const Yn=new ti("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),yV=new class $re{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Hre(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function zre(n){return rE.apply(this,arguments)}function rE(){return(rE=_(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:Hre(r)},o=kre.replace("{app-id}",t),s=yield fetch(o,i);if(200!==s.status&&304!==s.status){let a="";try{const l=yield s.json();null!==(e=l.error)&&void 0!==e&&e.message&&(a=l.error.message)}catch{}throw Yn.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function Gre(n){return iE.apply(this,arguments)}function iE(){return(iE=_(function*(n,e=yV,t){const{appId:r,apiKey:i,measurementId:o}=n.options;if(!r)throw Yn.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Yn.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Kre;return setTimeout(_(function*(){a.abort()}),void 0!==t?t:6e4),vV({appId:r,apiKey:i,measurementId:o},s,a,e)})).apply(this,arguments)}function vV(n,e,t){return oE.apply(this,arguments)}function oE(){return(oE=_(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=yV){var o;const{appId:s,measurementId:a}=n;try{yield qre(r,e)}catch(l){if(a)return qt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:s,measurementId:a};throw l}try{const l=yield zre(n);return i.deleteThrottleMetadata(s),l}catch(l){const c=l;if(!Wre(c)){if(i.deleteThrottleMetadata(s),a)return qt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw l}const u=503===Number(null===(o=c?.customData)||void 0===o?void 0:o.httpStatus)?M0(t,i.intervalMillis,30):M0(t,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return i.setThrottleMetadata(s,d),qt.debug(`Calling attemptFetch again in ${u} millis`),vV(n,d,r,i)}})).apply(this,arguments)}function qre(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(Yn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Wre(n){if(!(n instanceof Fr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class Kre{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let sE,hE;function aE(){return(aE=_(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const o=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:o}))}})).apply(this,arguments)}function bV(n){hE=n}function wV(n){sE=n}function eie(){return fE.apply(this,arguments)}function fE(){return(fE=_(function*(){if(!ls())return qt.warn(Yn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Su()}catch(n){return qt.warn(Yn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function pE(){return(pE=_(function*(n,e,t,r,i,o,s){var a;const l=Gre(n);l.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&qt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>qt.error(f)),e.push(l);const c=eie().then(f=>{if(f)return r.getId()}),[u,d]=yield Promise.all([l,c]);Vre(o)||Rre(o,u.measurementId),hE&&(i("consent","default",hE),bV(void 0)),i("js",new Date);const h=null!==(a=s?.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[Sre]=d),i("config",u.measurementId,h),sE&&(i("set",sE),wV(void 0)),u.measurementId})).apply(this,arguments)}class nie{constructor(e){this.app=e}_delete(){return delete Ri[this.app.options.appId],Promise.resolve()}}let Ri={},EV=[];const xV={};let DV,Oi,Gp="dataLayer",mE=!1;function iie(n,e,t){!function rie(){const n=[];if(D0()&&n.push("This is a browser extension environment."),I0()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Yn.create("invalid-analytics-context",{errorInfo:e});qt.warn(t.message)}}();const r=n.options.appId;if(!r)throw Yn.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Yn.create("no-api-key");qt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ri[r])throw Yn.create("already-exists",{id:r});if(!mE){!function Ore(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Gp);const{wrappedGtag:o,gtagCore:s}=function Lre(n,e,t,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function Pre(n,e,t,r){function o(){return(o=_(function*(s,a,l){try{"event"===s?yield Fre(n,e,t,a,l):"config"===s?yield Nre(n,e,t,r,a,l):"consent"===s?n("consent","update",l):n("set",a)}catch(c){qt.error(c)}})).apply(this,arguments)}return function i(s,a,l){return o.apply(this,arguments)}}(o,n,e,t),{gtagCore:o,wrappedGtag:window[i]}}(Ri,EV,xV,Gp,"gtag");Oi=o,DV=s,mE=!0}return Ri[r]=function tie(n,e,t,r,i,o,s){return pE.apply(this,arguments)}(n,EV,xV,e,DV,Gp,t),new nie(n)}function sie(){return gE.apply(this,arguments)}function gE(){return(gE=_(function*(){if(D0()||!I0()||!ls())return!1;try{return yield Su()}catch{return!1}})).apply(this,arguments)}const IV="@firebase/analytics";!function lie(){wn(new ln(zp,(e,{options:t})=>iie(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),wn(new ln("analytics-internal",function n(e){try{const t=e.getProvider(zp).getImmediate();return{logEvent:(r,i,o)=>function aie(n,e,t,r){n=_r(n),function Yre(n,e,t,r,i){return aE.apply(this,arguments)}(Oi,Ri[n.app.options.appId],e,t,r).catch(i=>qt.error(i))}(t,r,i,o)}}catch(t){throw Yn.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),dt(IV,"0.9.1"),dt(IV,"0.9.1","esm2017")}();class cie extends Ut{constructor(e,t){super()}schedule(e,t=0){return this}}const qp={setInterval(n,e,...t){const{delegate:r}=qp;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=qp;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class Wp extends cie{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return qp.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&qp.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,na(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const SV={now:()=>(SV.delegate||Date).now(),delegate:void 0};class ku{constructor(e,t=ku.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}ku.now=SV.now;class Kp extends ku{constructor(e,t=ku.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const hie=new class die extends Kp{}(class uie extends Wp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),Yp=new Kp(Wp),fie=Yp,_E=new Xi("7.5.0"),yE="__angularfire_symbol__analyticsIsSupportedValue",vE="__angularfire_symbol__analyticsIsSupported",bE="__angularfire_symbol__remoteConfigIsSupportedValue",wE="__angularfire_symbol__remoteConfigIsSupported",EE="__angularfire_symbol__messagingIsSupportedValue",xE="__angularfire_symbol__messagingIsSupported";globalThis[vE]||(globalThis[vE]=sie().then(n=>globalThis[yE]=n).catch(()=>globalThis[yE]=!1)),globalThis[xE]||(globalThis[xE]=mV().then(n=>globalThis[EE]=n).catch(()=>globalThis[EE]=!1)),globalThis[wE]||(globalThis[wE]=zne().then(n=>globalThis[bE]=n).catch(()=>globalThis[bE]=!1));const IE=(n,e)=>{const t=e?[e]:SL(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};function al(){}class AV{constructor(e,t=hie){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},t,r)}}class pie{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",al,{},al,al)),t.pipe(bt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let MV=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new AV(Zone.current)),this.insideAngular=t.run(()=>new AV(Zone.current,Yp)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(E(se))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gs(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function mie(n){return gs().ngZone.runOutsideAngular(()=>n())}function _s(n){return gs().ngZone.run(()=>n())}function gie(n){return gs(),function _ie(n){return function(t){return(t=t.lift(new pie(n.ngZone))).pipe(mh(n.outsideAngular),ph(n.insideAngular))}}(gs())(n)}const yie=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),_s(()=>n.apply(void 0,r))},Qp=(n,e)=>function(){let t;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(t||(t=_s(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",al,{},al,al)))),r[o]=yie(r[o],t));const i=mie(()=>n.apply(this,r));if(!e){if(i instanceof Ne){const o=gs();return i.pipe(mh(o.outsideAngular),ph(o.insideAngular))}return _s(()=>i)}return i instanceof Ne?i.pipe(gie):i instanceof Promise?_s(()=>new Promise((o,s)=>i.then(a=>_s(()=>o(a)),a=>_s(()=>s(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:_s(()=>i)};class ll{constructor(e){return e}}class kV{constructor(){return SL()}}const TE=new M("angularfire2._apps"),bie={provide:ll,useFactory:function vie(n){return n&&1===n.length?n[0]:new ll(TL())},deps:[[new Dt,TE]]},wie={provide:kV,deps:[[new Dt,TE]]};function Eie(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new ll(r)}}let xie=(()=>{class n{constructor(t){dt("angularfire",_E.full,"core"),dt("angularfire",_E.full,"app"),dt("angular",wk.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(E(Zc))},n.\u0275mod=Te({type:n}),n.\u0275inj=De({providers:[bie,wie]}),n})();const Die=Qp(IL,!0);const Iie=function RV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},OV=new ti("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),NV=new rl("@firebase/auth");function Xp(n,...e){NV.logLevel<=we.ERROR&&NV.error(`Auth (${Up}): ${n}`,...e)}function On(n,...e){throw SE(n,...e)}function ni(n,...e){return SE(n,...e)}function FV(n,e,t){const r=Object.assign(Object.assign({},Iie()),{[e]:t});return new ti("auth","Firebase",r).create(e,{appName:n.name})}function SE(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return OV.create(n,...e)}function O(n,e,...t){if(!n)throw SE(e,...t)}function ri(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Xp(e),new Error(e)}function co(n,e){n||ri(e)}const PV=new Map;function Ni(n){co(n instanceof Function,"Expected a class definition");let e=PV.get(n);return e?(co(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,PV.set(n,e),e)}function LV(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Ou{constructor(e,t){this.shortDelay=e,this.longDelay=t,co(t>e,"Short delay should be less than long delay!"),this.isMobile=function pee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kn())}()||function gee(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Aie(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function AE(){return"http:"===LV()||"https:"===LV()}()||D0()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class VV{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const kie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Rie=new Ou(3e4,6e4);function Nt(n,e,t,r){return kE.apply(this,arguments)}function kE(){return(kE=_(function*(n,e,t,r,i={}){return BV(n,i,_(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=yL(Object.assign({key:n.config.apiKey},s)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),VV.fetch()(UV(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function BV(n,e,t){return RE.apply(this,arguments)}function RE(){return(RE=_(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},kie),e);try{const i=new Oie(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw Nu(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw Nu(n,"credential-already-in-use",s);if("EMAIL_EXISTS"===l)throw Nu(n,"email-already-in-use",s);if("USER_DISABLED"===l)throw Nu(n,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw FV(n,u,c);On(n,u)}}catch(i){if(i instanceof Fr)throw i;On(n,"network-request-failed")}})).apply(this,arguments)}function UV(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?function ME(n,e){co(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,i):`${n.config.apiScheme}://${i}`}class Oie{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ni(this.auth,"network-request-failed")),Rie.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Nu(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=ni(n,e,r);return i.customData._tokenResponse=t,i}function NE(){return(NE=_(function*(n,e){return Nt(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Pie(n,e){return PE.apply(this,arguments)}function PE(){return(PE=_(function*(n,e){return Nt(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Fu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function LE(){return(LE=_(function*(n,e=!1){const t=_r(n),r=yield t.getIdToken(e),i=Zp(r);O(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Fu(VE(i.auth_time)),issuedAtTime:Fu(VE(i.iat)),expirationTime:Fu(VE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function VE(n){return 1e3*Number(n)}function Zp(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return Xp("JWT malformed, contained fewer than 3 sections"),null;try{const i=Rp(t);return i?JSON.parse(i):(Xp("Failed to decode base64 JWT payload"),null)}catch(i){return Xp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Pi(n,e){return BE.apply(this,arguments)}function BE(){return(BE=_(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Fr&&Bie(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function Bie({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class Uie{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(_(function*(){yield t.iteration()}),r)}iteration(){var e=this;return _(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class jV{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fu(this.lastLoginAt),this.creationTime=Fu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Pu(n){return UE.apply(this,arguments)}function UE(){return(UE=_(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Pi(n,Pie(t,{idToken:r}));O(i?.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?Hie(o.providerUserInfo):[],a=$ie(n.providerData,s),u=!!n.isAnonymous&&!(n.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new jV(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(n,d)})).apply(this,arguments)}function jE(){return(jE=_(function*(n){const e=_r(n);yield Pu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function $ie(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Hie(n){return n.map(e=>{var{providerId:t}=e,r=JS(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function $E(){return($E=_(function*(n,e){const t=yield BV(n,{},_(function*(){const r=yL({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=UV(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",VV.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Lu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){O(e.idToken,"internal-error"),O(typeof e.idToken<"u","internal-error"),O(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Vie(n){const e=Zp(n);return O(e,"internal-error"),O(typeof e.exp<"u","internal-error"),O(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return _(function*(){return O(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return _(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function zie(n,e){return $E.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new Lu;return r&&(O("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(O("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(O("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lu,this.toJSON())}_performRefresh(){return ri("not implemented")}}function uo(n,e){O("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class ys{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=JS(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Uie(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new jV(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var t=this;return _(function*(){const r=yield Pi(t,t.stsTokenManager.getToken(t.auth,e));return O(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function Lie(n){return LE.apply(this,arguments)}(this,e)}reload(){return function jie(n){return jE.apply(this,arguments)}(this)}_assign(e){this!==e&&(O(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ys(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){O(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return _(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Pu(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return _(function*(){const t=yield e.getIdToken();return yield Pi(e,function Nie(n,e){return NE.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,l,c,u;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,y=null!==(c=t.createdAt)&&void 0!==c?c:void 0,C=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:k,isAnonymous:U,providerData:V,stsTokenManager:_e}=t;O(v&&_e,e,"internal-error");const en=Lu.fromJSON(this.name,_e);O("string"==typeof v,e,"internal-error"),uo(d,e.name),uo(h,e.name),O("boolean"==typeof k,e,"internal-error"),O("boolean"==typeof U,e,"internal-error"),uo(f,e.name),uo(p,e.name),uo(m,e.name),uo(g,e.name),uo(y,e.name),uo(C,e.name);const nr=new ys({uid:v,auth:e,email:h,emailVerified:k,displayName:d,isAnonymous:U,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:en,createdAt:y,lastLoginAt:C});return V&&Array.isArray(V)&&(nr.providerData=V.map(Lr=>Object.assign({},Lr))),g&&(nr._redirectEventId=g),nr}static _fromIdTokenResponse(e,t,r=!1){return _(function*(){const i=new Lu;i.updateFromServerResponse(t);const o=new ys({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Pu(o),o})()}}const $V=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(function*(){return!0})()}_set(t,r){var i=this;return _(function*(){i.storage[t]=r})()}_get(t){var r=this;return _(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return _(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Jp(n,e,t){return`firebase:${n}:${e}:${t}`}class ul{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Jp(this.userKey,i.apiKey,o),this.fullPersistenceKey=Jp("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return _(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?ys._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return _(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return _(function*(){if(!t.length)return new ul(Ni($V),e,r);const i=(yield Promise.all(t.map(function(){var c=_(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let o=i[0]||Ni($V);const s=Jp(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=yield c._get(s);if(u){const d=ys._fromJSON(e,u);c!==o&&(a=d),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return o._shouldAllowMigration&&l.length?(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(function(){var c=_(function*(u){if(u!==o)try{yield u._remove(s)}catch{}});return function(u){return c.apply(this,arguments)}}())),new ul(o,e,r)):new ul(o,e,r)})()}}function HV(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function qV(n=Kn()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function zV(n=Kn()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function KV(n=Kn()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function YV(n=Kn()){return/webos/i.test(n)}(e))return"Webos";if(function HE(n=Kn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function GV(n=Kn()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function WV(n=Kn()){return/android/i.test(n)}(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function QV(n,e=[]){let t;switch(n){case"Browser":t=HV(Kn());break;case"Worker":t=`${HV(Kn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Up}/${r}`}class Wie{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return _(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Kie{constructor(e,t,r){this.app=e,this.heartbeatServiceProvider=t,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new XV(this),this.idTokenSubscription=new XV(this),this.beforeStateQueue=new Wie(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OV,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Ni(t)),this._initializationPromise=this.queue(_(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield ul.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return _(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return _(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,l=o?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(o=c.user,s=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield t.beforeStateQueue.runMiddleware(o)}catch(a){o=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return O(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var t=this;return _(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return _(function*(){try{yield Pu(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Mie(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return _(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return _(function*(){const r=e?_r(e):null;return r&&O(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return _(function*(){if(!r._deleted)return e&&O(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(_(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return _(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(_(function*(){yield t.assertedPersistence.setPersistence(Ni(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ti("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return _(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return _(function*(){if(!t.redirectPersistenceManager){const r=e&&Ni(e)||t._popupRedirectResolver;O(r,t,"argument-error"),t.redirectPersistenceManager=yield ul.create(t,[Ni(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return _(function*(){var r,i;return t._isInitialized&&(yield t.queue(_(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return _(function*(){if(e===t.currentUser)return t.queue(_(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return O(s,this,"internal-error"),s.then(()=>o(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return _(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return O(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return _(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}class XV{constructor(e){this.auth=e,this.observer=null,this.addObserver=function bee(n,e){const t=new wee(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return O(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function _2(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new Ou(3e4,6e4),new Ou(2e3,1e4),new Ou(3e4,6e4),new Ou(5e3,15e3);var A2="@firebase/auth";class Use{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return _(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){O(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Op(),function $se(n){wn(new ln("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:o,authDomain:s}=r.options;return((a,l)=>{O(o&&!o.includes(":"),"invalid-api-key",{appName:a.name}),O(!s?.includes(":"),"argument-error",{appName:a.name});const c={apiKey:o,authDomain:s,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QV(n)},u=new Kie(a,l,c);return function Sie(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ni);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,t),u})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),wn(new ln("auth-internal",e=>{const t=function Nn(n){return _r(n)}(e.getProvider("auth").getImmediate());return new Use(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),dt(A2,"0.21.1",function jse(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),dt(A2,"0.21.1","esm2017")}("Browser");class O2{constructor(){return IE("auth")}}const DC=new Map,N2={activated:!1,tokenObservers:[]},Yse={initialized:!1,enabled:!1};function Wt(n){return DC.get(n)||Object.assign({},N2)}function dm(){return Yse}class tae{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return _(function*(){t.stop();try{t.pending=new Np,yield function nae(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Np,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const En=new ti("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function P2(n){if(!Wt(n).activated)throw En.create("use-before-activation",{appName:n.name})}function SC(n,e){return AC.apply(this,arguments)}function AC(){return AC=_(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(e),headers:r};let s,a;try{s=yield fetch(n,o)}catch(d){throw En.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==s.status)throw En.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(d){throw En.create("fetch-parse-error",{originalErrorMessage:d?.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw En.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(l[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+c,issuedAtTimeMillis:u}}),AC.apply(this,arguments)}function sae(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const $u="firebase-app-check-store";let pm=null;function V2(){return pm||(pm=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(En.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore($u,{keyPath:"compositeKey"})}}catch(t){e(En.create("storage-open",{originalErrorMessage:t?.message}))}}),pm)}function MC(){return MC=_(function*(n,e){const r=(yield V2()).transaction($u,"readwrite"),o=r.objectStore($u).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=l=>{s()},r.onerror=l=>{var c;a(En.create("storage-set",{originalErrorMessage:null===(c=l.target.error)||void 0===c?void 0:c.message}))}})}),MC.apply(this,arguments)}const Hu=new rl("@firebase/app-check");function OC(n,e){return ls()?function uae(n,e){return function B2(n,e){return MC.apply(this,arguments)}(function j2(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Hu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function $2(){return dm().enabled}function H2(){return FC.apply(this,arguments)}function FC(){return FC=_(function*(){const n=dm();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),FC.apply(this,arguments)}const gae={error:"UNKNOWN_ERROR"};function _ae(n){return C0.encodeString(JSON.stringify(n),!1)}function mm(n){return PC.apply(this,arguments)}function PC(){return PC=_(function*(n,e=!1){const t=n.app;P2(t);const r=Wt(t);let o,i=r.token;if(i&&!dl(i)&&(r.token=void 0,i=void 0),!i){const l=yield r.cachedTokenPromise;l&&(dl(l)?i=l:yield OC(t,void 0))}if(!e&&i&&dl(i))return{token:i.token};let a,s=!1;if($2()){r.exchangeTokenPromise||(r.exchangeTokenPromise=SC(sae(t,yield H2()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);const l=yield r.exchangeTokenPromise;return yield OC(t,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield Wt(t).exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?Hu.warn(l.message):Hu.error(l),o=l}return i?o?a=dl(i)?{token:i.token,internalError:o}:q2(o):(a={token:i.token},r.token=i,yield OC(t,i)):a=q2(o),s&&G2(t,a),a}),PC.apply(this,arguments)}function VC(n,e){const t=Wt(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function z2(n){const{app:e}=n,t=Wt(e);let r=t.tokenRefresher;r||(r=function yae(n){const{app:e}=n;return new tae(_(function*(){let r;if(r=Wt(e).token?yield mm(n,!0):yield mm(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Wt(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function G2(n,e){const t=Wt(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function dl(n){return n.expireTimeMillis-Date.now()>0}function q2(n){return{token:_ae(gae),error:n}}class vae{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Wt(this.app);for(const t of e)VC(this.app,t.next);return Promise.resolve()}}const eB="app-check-internal";!function Oae(){wn(new ln("app-check",n=>function bae(n,e){return new vae(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(eB).initialize()})),wn(new ln(eB,n=>function wae(n){return{getToken:e=>mm(n,e),addTokenListener:e=>function LC(n,e,t,r){const{app:i}=n,o=Wt(i);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:r,type:e}],o.token&&dl(o.token)){const a=o.token;Promise.resolve().then(()=>{t({token:a.token}),z2(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>z2(n))}(n,"INTERNAL",e),removeTokenListener:e=>VC(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),dt("@firebase/app-check","0.6.1")}();class nB{constructor(){return IE("app-check")}}typeof window<"u"&&window;var z,Vae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Vi={},HC=HC||{},te=Vae||self;function _m(){}function ym(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function zu(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var zC="closure_uid_"+(1e9*Math.random()>>>0),Uae=0;function jae(n,e,t){return n.call.apply(n.bind,arguments)}function $ae(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function cn(n,e,t){return(cn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?jae:$ae).apply(null,arguments)}function vm(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Kt(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function ho(){this.s=this.s,this.o=this.o}ho.prototype.s=!1,ho.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Bae(n){Object.prototype.hasOwnProperty.call(n,zC)&&n[zC]||(n[zC]=++Uae)}(this)},ho.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const rB=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function GC(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function iB(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(ym(r)){const i=n.length||0,o=r.length||0;n.length=i+o;for(let s=0;s<o;s++)n[i+s]=r[s]}else n.push(r)}}function un(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}un.prototype.h=function(){this.defaultPrevented=!0};var zae=function(){if(!te.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{te.addEventListener("test",_m,e),te.removeEventListener("test",_m,e)}catch{}return n}();function bm(n){return/^[\s\xa0]*$/.test(n)}var oB=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function qC(n,e){return n<e?-1:n>e?1:0}function wm(){var n=te.navigator;return n&&(n=n.userAgent)?n:""}function ii(n){return-1!=wm().indexOf(n)}function WC(n){return WC[" "](n),n}WC[" "]=_m;var Em,qae=ii("Opera"),hl=ii("Trident")||ii("MSIE"),sB=ii("Edge"),KC=sB||hl,aB=ii("Gecko")&&!(-1!=wm().toLowerCase().indexOf("webkit")&&!ii("Edge"))&&!(ii("Trident")||ii("MSIE"))&&!ii("Edge"),Wae=-1!=wm().toLowerCase().indexOf("webkit")&&!ii("Edge");function lB(){var n=te.document;return n?n.documentMode:void 0}e:{var YC="",QC=function(){var n=wm();return aB?/rv:([^\);]+)(\)|;)/.exec(n):sB?/Edge\/([\d\.]+)/.exec(n):hl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Wae?/WebKit\/(\S+)/.exec(n):qae?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(QC&&(YC=QC?QC[1]:""),hl){var XC=lB();if(null!=XC&&XC>parseFloat(YC)){Em=String(XC);break e}}Em=YC}var Kae={};var Qae=te.document&&hl&&(lB()||parseInt(Em,10))||void 0;function Gu(n,e){if(un.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(aB){e:{try{WC(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Xae[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Gu.X.h.call(this)}}Kt(Gu,un);var Xae={2:"touch",3:"pen",4:"mouse"};Gu.prototype.h=function(){Gu.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var qu="closure_listenable_"+(1e6*Math.random()|0),Zae=0;function Jae(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++Zae,this.ba=this.ea=!1}function xm(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function JC(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function uB(n){const e={};for(const t in n)e[t]=n[t];return e}const dB="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hB(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let o=0;o<dB.length;o++)t=dB[o],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Cm(n){this.src=n,this.g={},this.h=0}function eD(n,e){var t=e.type;if(t in n.g){var o,r=n.g[t],i=rB(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(xm(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function tD(n,e,t,r){for(var i=0;i<n.length;++i){var o=n[i];if(!o.ba&&o.listener==e&&o.capture==!!t&&o.ha==r)return i}return-1}Cm.prototype.add=function(n,e,t,r,i){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=tD(n,e,r,i);return-1<s?(e=n[s],t||(e.ea=!1)):((e=new Jae(e,this.src,o,!!r,i)).ea=t,n.push(e)),e};var nD="closure_lm_"+(1e6*Math.random()|0),rD={};function fB(n,e,t,r,i){if(r&&r.once)return mB(n,e,t,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)fB(n,e[o],t,r,i);return null}return t=aD(t),n&&n[qu]?n.N(e,t,zu(r)?!!r.capture:!!r,i):pB(n,e,t,!1,r,i)}function pB(n,e,t,r,i,o){if(!e)throw Error("Invalid event type");var s=zu(i)?!!i.capture:!!i,a=oD(n);if(a||(n[nD]=a=new Cm(n)),(t=a.add(e,t,r,s,o)).proxy)return t;if(r=function ele(){const e=tle;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)zae||(i=s),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(_B(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function mB(n,e,t,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)mB(n,e[o],t,r,i);return null}return t=aD(t),n&&n[qu]?n.O(e,t,zu(r)?!!r.capture:!!r,i):pB(n,e,t,!0,r,i)}function gB(n,e,t,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)gB(n,e[o],t,r,i);else r=zu(r)?!!r.capture:!!r,t=aD(t),n&&n[qu]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=tD(o=n.g[e],t,r,i))&&(xm(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=oD(n))&&(e=n.g[e.toString()],n=-1,e&&(n=tD(e,t,r,i)),(t=-1<n?e[n]:null)&&iD(t))}function iD(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[qu])eD(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(_B(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=oD(e))?(eD(t,n),0==t.h&&(t.src=null,e[nD]=null)):xm(n)}}}function _B(n){return n in rD?rD[n]:rD[n]="on"+n}function tle(n,e){if(n.ba)n=!0;else{e=new Gu(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&iD(n),n=t.call(r,e)}return n}function oD(n){return(n=n[nD])instanceof Cm?n:null}var sD="__closure_events_fn_"+(1e9*Math.random()>>>0);function aD(n){return"function"==typeof n?n:(n[sD]||(n[sD]=function(e){return n.handleEvent(e)}),n[sD])}function Ft(){ho.call(this),this.i=new Cm(this),this.P=this,this.I=null}function Yt(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new un(e,n);else if(e instanceof un)e.target=e.target||n;else{var i=e;hB(e=new un(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];i=Dm(s,r,!0,e)&&i}if(i=Dm(s=e.g=n,r,!0,e)&&i,i=Dm(s,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Dm(s=e.g=t[o],r,!1,e)&&i}function Dm(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ba&&s.capture==t){var a=s.listener,l=s.ha||s.src;s.ea&&eD(n.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Kt(Ft,ho),Ft.prototype[qu]=!0,Ft.prototype.removeEventListener=function(n,e,t,r){gB(this,n,e,t,r)},Ft.prototype.M=function(){if(Ft.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)xm(t[r]);delete n.g[e],n.h--}}this.I=null},Ft.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ft.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var lD=te.JSON.stringify;function nle(){var n=bB;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var cD,yB=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new ile,n=>n.reset());class ile{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ole(n){te.setTimeout(()=>{throw n},0)}function vB(n,e){cD||function sle(){var n=te.Promise.resolve(void 0);cD=function(){n.then(ale)}}(),uD||(cD(),uD=!0),bB.add(n,e)}var uD=!1,bB=new class rle{constructor(){this.h=this.g=null}add(e,t){const r=yB.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function ale(){for(var n;n=nle();){try{n.h.call(n.g)}catch(t){ole(t)}var e=yB;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}uD=!1}function Im(n,e){Ft.call(this),this.h=n||1,this.g=e||te,this.j=cn(this.lb,this),this.l=Date.now()}function dD(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function hD(n,e,t){if("function"==typeof n)t&&(n=cn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=cn(n.handleEvent,n)}return 2147483647<Number(e)?-1:te.setTimeout(n,e||0)}function wB(n){n.g=hD(()=>{n.g=null,n.i&&(n.i=!1,wB(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Kt(Im,Ft),(z=Im.prototype).ca=!1,z.R=null,z.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Yt(this,"tick"),this.ca&&(dD(this),this.start()))}},z.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},z.M=function(){Im.X.M.call(this),dD(this),delete this.g};class lle extends ho{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:wB(this)}M(){super.M(),this.g&&(te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wu(n){ho.call(this),this.h=n,this.g={}}Kt(Wu,ho);var EB=[];function xB(n,e,t,r){Array.isArray(t)||(t&&(EB[0]=t.toString()),t=EB);for(var i=0;i<t.length;i++){var o=fB(e,t[i],r||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function CB(n){JC(n.g,function(e,t){this.g.hasOwnProperty(t)&&iD(e)},n),n.g={}}function Tm(){this.g=!0}function fl(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function hle(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return lD(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Wu.prototype.M=function(){Wu.X.M.call(this),CB(this)},Wu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Tm.prototype.Aa=function(){this.g=!1},Tm.prototype.info=function(){};var Es={},DB=null;function Sm(){return DB=DB||new Ft}function IB(n){un.call(this,Es.Pa,n)}function Ku(n){const e=Sm();Yt(e,new IB(e))}function TB(n,e){un.call(this,Es.STAT_EVENT,n),this.stat=e}function xn(n){const e=Sm();Yt(e,new TB(e,n))}function SB(n,e){un.call(this,Es.Qa,n),this.size=e}function Yu(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return te.setTimeout(function(){n()},e)}Es.Pa="serverreachability",Kt(IB,un),Es.STAT_EVENT="statevent",Kt(TB,un),Es.Qa="timingevent",Kt(SB,un);var Am={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},AB={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function fD(){}function kB(){}fD.prototype.h=null;var gD,Qu={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function pD(){un.call(this,"d")}function mD(){un.call(this,"c")}function Mm(){}function Xu(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Wu(this),this.O=fle,this.T=new Im(n=KC?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new RB}function RB(){this.i=null,this.g="",this.h=!1}Kt(pD,un),Kt(mD,un),Kt(Mm,fD),Mm.prototype.g=function(){return new XMLHttpRequest},Mm.prototype.i=function(){return{}},gD=new Mm;var fle=45e3,_D={},km={};function yD(n,e,t){n.K=1,n.v=Fm(Bi(e)),n.s=t,n.P=!0,OB(n,null)}function OB(n,e){n.F=Date.now(),Zu(n),n.A=Bi(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),HB(t.i,"t",r),n.C=0,t=n.l.H,n.h=new RB,n.g=fU(n.l,t?e:null,!n.s),0<n.N&&(n.L=new lle(cn(n.La,n,n.g),n.N)),xB(n.S,n.g,"readystatechange",n.ib),e=n.H?uB(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Ku(),function cle(n,e,t,r,i,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.u,n.A,n.m,n.U,n.s)}function NB(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function FB(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=ple(n,t),i==km){4==e&&(n.o=4,xn(14),r=!1),fl(n.j,n.m,null,"[Incomplete Response]");break}if(i==_D){n.o=4,xn(15),fl(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}fl(n.j,n.m,i,null),vD(n,i)}NB(n)&&i!=km&&i!=_D&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,xn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),TD(e),e.K=!0,xn(11))):(fl(n.j,n.m,t,"[Invalid Chunked Response]"),xs(n),Ju(n))}function ple(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?km:(t=Number(e.substring(t,r)),isNaN(t)?_D:(r+=1)+t>e.length?km:(e=e.substr(r,t),n.C=r+t,e))}function Zu(n){n.V=Date.now()+n.O,PB(n,n.O)}function PB(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Yu(cn(n.gb,n),e)}function Rm(n){n.B&&(te.clearTimeout(n.B),n.B=null)}function Ju(n){0==n.l.G||n.I||cU(n.l,n)}function xs(n){Rm(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,dD(n.T),CB(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function vD(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||bD(t.h,n)))if(!n.J&&bD(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;jm(t),Bm(t)}ID(t),xn(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=Yu(cn(t.cb,t),6e3));if(1>=qB(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Ds(t,11)}else if((n.J||t.g==n)&&jm(t),!bm(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.T=c[0],c=c[1],2==t.G)if("c"==c[0]){t.I=c[1],t.ka=c[2];const u=c[3];null!=u&&(t.ma=u,t.j.info("VER="+t.ma));const d=c[4];null!=d&&(t.Ca=d,t.j.info("SVER="+t.Ca));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.J=r=1.5*h,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=r.h;o.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(wD(o,o.h),o.h=null))}if(r.D){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.za=m,Qe(r.F,r.D,m))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var s=n;if((r=t).sa=hU(r,r.H?r.ka:null,r.V),s.J){WB(r.h,s);var a=s,l=r.J;l&&a.setTimeout(l),a.B&&(Rm(a),Zu(a)),r.g=s}else aU(r);0<t.i.length&&Um(t)}else"stop"!=c[0]&&"close"!=c[0]||Ds(t,7);else 3==t.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Ds(t,7):DD(t):"noop"!=c[0]&&t.l&&t.l.wa(c),t.A=0)}Ku()}catch{}}function LB(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(ym(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function gle(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(ym(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function mle(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(ym(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],t&&t[o],n)}(z=Xu.prototype).setTimeout=function(n){this.O=n},z.ib=function(n){n=n.target;const e=this.L;e&&3==Ui(n)?e.l():this.La(n)},z.La=function(n){try{if(n==this.g)e:{const u=Ui(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>u)&&(3!=u||KC||this.g&&(this.h.h||this.g.fa()||tU(this.g)))){this.I||4!=u||7==e||Ku(),Rm(this);var t=this.g.aa();this.Y=t;t:if(NB(this)){var r=tU(this.g);n="";var i=r.length,o=4==Ui(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){xs(this),Ju(this);var s="";break t}this.h.i=new te.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==t,function ule(n,e,t,r,i,o,s){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.U,u,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bm(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,xn(12),xs(this),Ju(this);break e}fl(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,vD(this,t)}this.P?(FB(this,u,s),KC&&this.i&&3==u&&(xB(this.S,this.T,"tick",this.hb),this.T.start())):(fl(this.j,this.m,s,null),vD(this,s)),4==u&&xs(this),this.i&&!this.I&&(4==u?cU(this.l,this):(this.i=!1,Zu(this)))}else 400==t&&0<s.indexOf("Unknown SID")?(this.o=3,xn(12)):(this.o=0,xn(13)),xs(this),Ju(this)}}}catch{}},z.hb=function(){if(this.g){var n=Ui(this.g),e=this.g.fa();this.C<e.length&&(Rm(this),FB(this,n,e),this.i&&4!=n&&Zu(this))}},z.cancel=function(){this.I=!0,xs(this)},z.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function dle(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ku(),xn(17)),xs(this),this.o=2,Ju(this)):PB(this,this.V-n)};var VB=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cs(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Cs){this.h=void 0!==e?e:n.h,Om(this,n.j),this.s=n.s,this.g=n.g,Nm(this,n.m),this.l=n.l,e=n.i;var t=new nd;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),BB(this,t),this.o=n.o}else n&&(t=String(n).match(VB))?(this.h=!!e,Om(this,t[1]||"",!0),this.s=ed(t[2]||""),this.g=ed(t[3]||"",!0),Nm(this,t[4]),this.l=ed(t[5]||"",!0),BB(this,t[6]||"",!0),this.o=ed(t[7]||"")):(this.h=!!e,this.i=new nd(null,this.h))}function Bi(n){return new Cs(n)}function Om(n,e,t){n.j=t?ed(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Nm(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function BB(n,e,t){e instanceof nd?(n.i=e,function xle(n,e){e&&!n.j&&(fo(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(jB(this,r),HB(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=td(e,wle)),n.i=new nd(e,n.h))}function Qe(n,e,t){n.i.set(e,t)}function Fm(n){return Qe(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ed(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function td(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,yle),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function yle(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Cs.prototype.toString=function(){var n=[],e=this.j;e&&n.push(td(e,UB,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(td(e,UB,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(td(t,"/"==t.charAt(0)?ble:vle,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",td(t,Ele)),n.join("")};var UB=/[#\/\?@]/g,vle=/[#\?:]/g,ble=/[#\?]/g,wle=/[#\?@]/g,Ele=/#/g;function nd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function fo(n){n.g||(n.g=new Map,n.h=0,n.i&&function _le(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var o=n[t].substring(0,r);i=n[t].substring(r+1)}else o=n[t];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function jB(n,e){fo(n),e=pl(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function $B(n,e){return fo(n),e=pl(n,e),n.g.has(e)}function HB(n,e,t){jB(n,e),0<t.length&&(n.i=null,n.g.set(pl(n,e),GC(t)),n.h+=t.length)}function pl(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function zB(n){this.l=n||Dle,n=te.PerformanceNavigationTiming?0<(n=te.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(te.g&&te.g.Ga&&te.g.Ga()&&te.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(z=nd.prototype).add=function(n,e){fo(this),this.i=null,n=pl(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},z.forEach=function(n,e){fo(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},z.oa=function(){fo(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let o=0;o<i.length;o++)t.push(e[r])}return t},z.W=function(n){fo(this);let e=[];if("string"==typeof n)$B(this,n)&&(e=e.concat(this.g.get(pl(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},z.set=function(n,e){return fo(this),this.i=null,$B(this,n=pl(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},z.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},z.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const o=encodeURIComponent(String(r)),s=this.W(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),n.push(i)}}return this.i=n.join("&")};var Dle=10;function GB(n){return!!n.h||!!n.g&&n.g.size>=n.j}function qB(n){return n.h?1:n.g?n.g.size:0}function bD(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function wD(n,e){n.g?n.g.add(e):n.h=e}function WB(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function KB(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return GC(n.i)}function ED(){}function Ile(){this.g=new ED}function Tle(n,e,t){const r=t||"";try{LB(n,function(i,o){let s=i;zu(i)&&(s=lD(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Pm(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function rd(n){this.l=n.ac||null,this.j=n.jb||!1}function Lm(n,e){Ft.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=xD,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}zB.prototype.cancel=function(){if(this.i=KB(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},ED.prototype.stringify=function(n){return te.JSON.stringify(n,void 0)},ED.prototype.parse=function(n){return te.JSON.parse(n,void 0)},Kt(rd,fD),rd.prototype.g=function(){return new Lm(this.l,this.j)},rd.prototype.i=function(n){return function(){return n}}({}),Kt(Lm,Ft);var xD=0;function YB(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function id(n){n.readyState=4,n.l=null,n.j=null,n.A=null,od(n)}function od(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(z=Lm.prototype).open=function(n,e){if(this.readyState!=xD)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,od(this)},z.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||te).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,id(this)),this.readyState=xD},z.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,od(this)),this.g&&(this.readyState=3,od(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof te.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;YB(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},z.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?id(this):od(this),3==this.readyState&&YB(this)}},z.Va=function(n){this.g&&(this.response=this.responseText=n,id(this))},z.Ua=function(n){this.g&&(this.response=n,id(this))},z.ga=function(){this.g&&id(this)},z.setRequestHeader=function(n,e){this.v.append(n,e)},z.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},z.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Lm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Ale=te.JSON.parse;function ot(n){Ft.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=QB,this.K=this.L=!1}Kt(ot,Ft);var QB="",Mle=/^https?$/i,kle=["POST","PUT"];function XB(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,ZB(n),Vm(n)}function ZB(n){n.D||(n.D=!0,Yt(n,"complete"),Yt(n,"error"))}function JB(n){if(n.h&&typeof HC<"u"&&(!n.C[1]||4!=Ui(n)||2!=n.aa()))if(n.v&&4==Ui(n))hD(n.Ha,0,n);else if(Yt(n,"readystatechange"),4==Ui(n)){n.h=!1;try{const a=n.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===a){var i=String(n.H).match(VB)[1]||null;if(!i&&te.self&&te.self.location){var o=te.self.location.protocol;i=o.substr(0,o.length-1)}r=!Mle.test(i?i.toLowerCase():"")}t=r}if(t)Yt(n,"complete"),Yt(n,"success");else{n.m=6;try{var s=2<Ui(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.aa()+"]",ZB(n)}}finally{Vm(n)}}}function Vm(n,e){if(n.g){eU(n);const t=n.g,r=n.C[0]?_m:null;n.g=null,n.C=null,e||Yt(n,"ready");try{t.onreadystatechange=r}catch{}}}function eU(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(te.clearTimeout(n.A),n.A=null)}function Ui(n){return n.g?n.g.readyState:0}function tU(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case QB:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function nU(n){let e="";return JC(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function CD(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=nU(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Qe(n,e,t))}function sd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function rU(n){this.Ca=0,this.i=[],this.j=new Tm,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=sd("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=sd("baseRetryDelayMs",5e3,n),this.bb=sd("retryDelaySeedMs",1e4,n),this.$a=sd("forwardChannelMaxRetries",2,n),this.ta=sd("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new zB(n&&n.concurrentRequestLimit),this.Fa=new Ile,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function DD(n){if(iU(n),3==n.G){var e=n.U++,t=Bi(n.F);Qe(t,"SID",n.I),Qe(t,"RID",e),Qe(t,"TYPE","terminate"),ad(n,t),(e=new Xu(n,n.j,e,void 0)).K=2,e.v=Fm(Bi(t)),t=!1,te.navigator&&te.navigator.sendBeacon&&(t=te.navigator.sendBeacon(e.v.toString(),"")),!t&&te.Image&&((new Image).src=e.v,t=!0),t||(e.g=fU(e.l,null),e.g.da(e.v)),e.F=Date.now(),Zu(e)}dU(n)}function Bm(n){n.g&&(TD(n),n.g.cancel(),n.g=null)}function iU(n){Bm(n),n.u&&(te.clearTimeout(n.u),n.u=null),jm(n),n.h.cancel(),n.m&&("number"==typeof n.m&&te.clearTimeout(n.m),n.m=null)}function Um(n){GB(n.h)||n.m||(n.m=!0,vB(n.Ja,n),n.C=0)}function oU(n,e){var t;t=e?e.m:n.U++;const r=Bi(n.F);Qe(r,"SID",n.I),Qe(r,"RID",t),Qe(r,"AID",n.T),ad(n,r),n.o&&n.s&&CD(r,n.o,n.s),t=new Xu(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=sU(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),wD(n.h,t),yD(t,r,e)}function ad(n,e){n.ia&&JC(n.ia,function(t,r){Qe(e,r,t)}),n.l&&LB({},function(t,r){Qe(e,r,t)})}function sU(n,e,t){t=Math.min(n.i.length,t);var r=n.l?cn(n.l.Ra,n.l,n):null;e:{var i=n.i;let o=-1;for(;;){const s=["count="+t];-1==o?0<t?(o=i[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<t;l++){let c=i[l].h;const u=i[l].g;if(c-=o,0>c)o=Math.max(0,i[l].h-100),a=!1;else try{Tle(u,s,"req"+c+"_")}catch{r&&r(u)}}if(a){r=s.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function aU(n){n.g||n.u||(n.Z=1,vB(n.Ia,n),n.A=0)}function ID(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Yu(cn(n.Ia,n),uU(n,n.A)),n.A++,0))}function TD(n){null!=n.B&&(te.clearTimeout(n.B),n.B=null)}function lU(n){n.g=new Xu(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Bi(n.sa);Qe(e,"RID","rpc"),Qe(e,"SID",n.I),Qe(e,"CI",n.L?"0":"1"),Qe(e,"AID",n.T),Qe(e,"TYPE","xmlhttp"),ad(n,e),n.o&&n.s&&CD(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Fm(Bi(e)),t.s=null,t.P=!0,OB(t,n)}function jm(n){null!=n.v&&(te.clearTimeout(n.v),n.v=null)}function cU(n,e){var t=null;if(n.g==e){jm(n),TD(n),n.g=null;var r=2}else{if(!bD(n.h,e))return;t=e.D,WB(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Yt(r=Sm(),new SB(r,t)),Um(n)}else aU(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function Ole(n,e){return!(qB(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Yu(cn(n.Ja,n,e),uU(n,n.C)),n.C++,0)))}(n,e)||2==r&&ID(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Ds(n,5);break;case 4:Ds(n,10);break;case 3:Ds(n,6);break;default:Ds(n,2)}}function uU(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Ds(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=cn(n.kb,n);t||(t=new Cs("//www.google.com/images/cleardot.gif"),te.location&&"http"==te.location.protocol||Om(t,"https"),Fm(t)),function Sle(n,e){const t=new Tm;if(te.Image){const r=new Image;r.onload=vm(Pm,t,r,"TestLoadImage: loaded",!0,e),r.onerror=vm(Pm,t,r,"TestLoadImage: error",!1,e),r.onabort=vm(Pm,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=vm(Pm,t,r,"TestLoadImage: timeout",!1,e),te.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else xn(2);n.G=0,n.l&&n.l.va(e),dU(n),iU(n)}function dU(n){if(n.G=0,n.la=[],n.l){const e=KB(n.h);(0!=e.length||0!=n.i.length)&&(iB(n.la,e),iB(n.la,n.i),n.h.i.length=0,GC(n.i),n.i.length=0),n.l.ua()}}function hU(n,e,t){var r=t instanceof Cs?Bi(t):new Cs(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Nm(r,r.m);else{var i=te.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Cs(null,void 0);r&&Om(o,r),e&&(o.g=e),i&&Nm(o,i),t&&(o.l=t),r=o}return e=n.za,(t=n.D)&&e&&Qe(r,t,e),Qe(r,"VER",n.ma),ad(n,r),r}function fU(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ot(t&&n.Da&&!n.ra?new rd({jb:!0}):n.ra)).Ka(n.H),e}function pU(){}function $m(){if(hl&&!(10<=Number(Qae)))throw Error("Environmental error: no available transport.")}function Qn(n,e){Ft.call(this),this.g=new rU(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!bm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!bm(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ml(this)}function mU(n){pD.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function gU(){mD.call(this),this.status=1}function ml(n){this.g=n}(z=ot.prototype).Ka=function(n){this.L=n},z.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():gD.g(),this.C=function MB(n){return n.h||(n.h=n.i())}(this.u?this.u:gD),this.g.onreadystatechange=cn(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(o){return void XB(this,o)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())t.set(o,r.get(o))}r=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),i=te.FormData&&n instanceof te.FormData,!(0<=rB(kle,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of t)this.g.setRequestHeader(o,s);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{eU(this),0<this.B&&((this.K=function Rle(n){return hl&&function Yae(){return function Gae(n){var e=Kae;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=oB(String(Em)).split("."),t=oB("9").split("."),r=Math.max(e.length,t.length);for(let s=0;0==n&&s<r;s++){var i=e[s]||"",o=t[s]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==i[0].length&&0==o[0].length)break;n=qC(0==i[1].length?0:parseInt(i[1],10),0==o[1].length?0:parseInt(o[1],10))||qC(0==i[2].length,0==o[2].length)||qC(i[2],o[2]),i=i[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=cn(this.qa,this)):this.A=hD(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){XB(this,o)}},z.qa=function(){typeof HC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yt(this,"timeout"),this.abort(8))},z.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Yt(this,"complete"),Yt(this,"abort"),Vm(this))},z.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vm(this,!0)),ot.X.M.call(this)},z.Ha=function(){this.s||(this.F||this.v||this.l?JB(this):this.fb())},z.fb=function(){JB(this)},z.aa=function(){try{return 2<Ui(this)?this.g.status:-1}catch{return-1}},z.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},z.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Ale(e)}},z.Ea=function(){return this.m},z.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(z=rU.prototype).ma=8,z.G=1,z.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new Xu(this,this.j,n,void 0);let o=this.s;if(this.S&&(o?(o=uB(o),hB(o,this.S)):o=this.S),null!==this.o||this.N||(i.H=o,o=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=sU(this,i,e),Qe(t=Bi(this.F),"RID",n),Qe(t,"CVER",22),this.D&&Qe(t,"X-HTTP-Session-Id",this.D),ad(this,t),o&&(this.N?e="headers="+encodeURIComponent(String(nU(o)))+"&"+e:this.o&&CD(t,this.o,o)),wD(this.h,i),this.Ya&&Qe(t,"TYPE","init"),this.O?(Qe(t,"$req",e),Qe(t,"SID","null"),i.Z=!0,yD(i,t,null)):yD(i,t,e),this.G=2}}else 3==this.G&&(n?oU(this,n):0==this.i.length||GB(this.h)||oU(this))},z.Ia=function(){if(this.u=null,lU(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Yu(cn(this.eb,this),n)}},z.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,xn(10),Bm(this),lU(this))},z.cb=function(){null!=this.v&&(this.v=null,Bm(this),ID(this),xn(19))},z.kb=function(n){n?(this.j.info("Successfully pinged google.com"),xn(2)):(this.j.info("Failed to ping google.com"),xn(1))},(z=pU.prototype).xa=function(){},z.wa=function(){},z.va=function(){},z.ua=function(){},z.Ra=function(){},$m.prototype.g=function(n,e){return new Qn(n,e)},Kt(Qn,Ft),Qn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;xn(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=hU(n,null,n.V),Um(n)},Qn.prototype.close=function(){DD(this.g)},Qn.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=lD(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Um(e)},Qn.prototype.M=function(){this.g.l=null,delete this.j,DD(this.g),delete this.g,Qn.X.M.call(this)},Kt(mU,pD),Kt(gU,mD),Kt(ml,pU),ml.prototype.xa=function(){Yt(this.g,"a")},ml.prototype.wa=function(n){Yt(this.g,new mU(n))},ml.prototype.va=function(n){Yt(this.g,new gU)},ml.prototype.ua=function(){Yt(this.g,"b")},$m.prototype.createWebChannel=$m.prototype.g,Qn.prototype.send=Qn.prototype.u,Qn.prototype.open=Qn.prototype.m,Qn.prototype.close=Qn.prototype.close,Am.NO_ERROR=0,Am.TIMEOUT=8,Am.HTTP_ERROR=6,AB.COMPLETE="complete",kB.EventType=Qu,Qu.OPEN="a",Qu.CLOSE="b",Qu.ERROR="c",Qu.MESSAGE="d",Ft.prototype.listen=Ft.prototype.N,ot.prototype.listenOnce=ot.prototype.O,ot.prototype.getLastError=ot.prototype.Oa,ot.prototype.getLastErrorCode=ot.prototype.Ea,ot.prototype.getStatus=ot.prototype.aa,ot.prototype.getResponseJson=ot.prototype.Sa,ot.prototype.getResponseText=ot.prototype.fa,ot.prototype.send=ot.prototype.da,ot.prototype.setWithCredentials=ot.prototype.Ka;var Nle=Vi.createWebChannelTransport=function(){return new $m},Fle=Vi.getStatEventTarget=function(){return Sm()},SD=Vi.ErrorCode=Am,Ple=Vi.EventType=AB,Lle=Vi.Event=Es,_U=Vi.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Vle=Vi.FetchXmlHttpFactory=rd,Hm=Vi.WebChannel=kB,Ble=Vi.XhrIo=ot;const yU="@firebase/firestore";class Pt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pt.UNAUTHENTICATED=new Pt(null),Pt.GOOGLE_CREDENTIALS=new Pt("google-credentials-uid"),Pt.FIRST_PARTY=new Pt("first-party-uid"),Pt.MOCK_USER=new Pt("mock-user");let gl="9.16.0";const po=new rl("@firebase/firestore");function AD(){return po.logLevel}function S(n,...e){if(po.logLevel<=we.DEBUG){const t=e.map(MD);po.debug(`Firestore (${gl}): ${n}`,...t)}}function ht(n,...e){if(po.logLevel<=we.ERROR){const t=e.map(MD);po.error(`Firestore (${gl}): ${n}`,...t)}}function _l(n,...e){if(po.logLevel<=we.WARN){const t=e.map(MD);po.warn(`Firestore (${gl}): ${n}`,...t)}}function MD(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function B(n="Unexpected state"){const e=`FIRESTORE (${gl}) INTERNAL ASSERTION FAILED: `+n;throw ht(e),new Error(e)}function $(n,e){n||B()}function F(n,e){return n}const x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class T extends Fr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class kt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class vU{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ule{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Pt.UNAUTHENTICATED))}shutdown(){}}class jle{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class $le{constructor(e){this.t=e,this.currentUser=Pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const o=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let s=new kt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new kt,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(_(function*(){yield c.promise,yield o(r.currentUser)}))},l=c=>{S("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new kt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($("string"==typeof r.accessToken),new vU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return $(null===e||"string"==typeof e),new Pt(e)}}class Hle{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Pt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():($(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class zle{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new Hle(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Gle{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=o=>{null!=o.error&&S("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.A;return this.A=o.token,S("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{S("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.T.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.T.getImmediate({optional:!0});o?i(o):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($("string"==typeof t.token),this.A=t.token,new bU(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function qle(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class wU{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=qle(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}}function ne(n,e){return n<e?-1:n>e?1:0}function yl(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class et{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new T(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new T(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new T(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new T(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new et(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ne(this.nanoseconds,e.nanoseconds):ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class G{constructor(e){this.timestamp=e}static fromTimestamp(e){return new G(e)}static min(){return new G(new et(0,0))}static max(){return new G(new et(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ld{constructor(e,t,r){void 0===t?t=0:t>e.length&&B(),void 0===r?r=e.length-t:r>e.length-t&&B(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===ld.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ld?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ee extends ld{construct(e,t,r){return new Ee(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new T(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ee(t)}static emptyPath(){return new Ee([])}}const Wle=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ft extends ld{construct(e,t,r){return new ft(e,t,r)}static isValidIdentifier(e){return Wle.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ft(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(0===r.length)throw new T(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new T(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new T(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new T(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ft(t)}static emptyPath(){return new ft([])}}class N{constructor(e){this.path=e}static fromPath(e){return new N(Ee.fromString(e))}static fromName(e){return new N(Ee.fromString(e).popFirst(5))}static empty(){return new N(Ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ee.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ee.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new N(new Ee(e.slice()))}}function CU(n){return new Xn(n.readTime,n.key,-1)}class Xn{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Xn(G.min(),N.empty(),-1)}static max(){return new Xn(G.max(),N.empty(),-1)}}function RD(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=N.comparator(n.documentKey,e.documentKey),0!==t?t:ne(n.largestBatchId,e.largestBatchId))}const DU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qle{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function mo(n){return OD.apply(this,arguments)}function OD(){return OD=_(function*(n){if(n.code!==x.FAILED_PRECONDITION||n.message!==DU)throw n;S("LocalStore","Unexpectedly lost primary lease")}),OD.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&B(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof w?t:w.resolve(t)}catch(t){return w.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):w.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):w.reject(t)}static resolve(e){return new w((t,r)=>{t(e)})}static reject(e){return new w((t,r)=>{r(e)})}static waitFor(e){return new w((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},l=>r(l))}),s=!0,o===i&&t()})}static or(e){let t=w.resolve(!1);for(const r of e)t=t.next(i=>i?w.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new w((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;t(e[c]).next(u=>{s[c]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,t){return new w((r,i)=>{const o=()=>{!0===e()?t().next(()=>{o()},i):r()};o()})}}function go(n){return"IndexedDbTransactionError"===n.name}let Zn=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class tce{constructor(e,t,r,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Ss{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ss("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ss&&e.projectId===this.projectId&&e.database===this.database}}function TU(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function As(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function SU(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function dd(n){return null==n}function hd(n){return 0===n&&1/n==-1/0}class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Rt(t)}static fromUint8Array(e){const t=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new Rt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const nce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _o(n){if($(!!n),"string"==typeof n){let e=0;const t=nce.exec(n);if($(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:st(n.seconds),nanos:st(n.nanos)}}function st(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ms(n){return"string"==typeof n?Rt.fromBase64String(n):Rt.fromUint8Array(n)}function FD(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function MU(n){const e=n.mapValue.fields.__previous_value__;return FD(e)?MU(e):e}function fd(n){const e=_o(n.mapValue.fields.__local_write_time__.timestampValue);return new et(e.seconds,e.nanos)}const yo_mapValue={fields:{__type__:{stringValue:"__max__"}}};function ks(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?FD(n)?4:NU(n)?9007199254740991:10:B()}function oi(n,e){if(n===e)return!0;const t=ks(n);if(t!==ks(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return fd(n).isEqual(fd(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=_o(r.timestampValue),s=_o(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Ms(n.bytesValue).isEqual(Ms(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return st(r.geoPointValue.latitude)===st(i.geoPointValue.latitude)&&st(r.geoPointValue.longitude)===st(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return st(r.integerValue)===st(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=st(r.doubleValue),s=st(i.doubleValue);return o===s?hd(o)===hd(s):isNaN(o)&&isNaN(s)}return!1}(n,e);case 9:return yl(n.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:return function(r,i){const o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(TU(o)!==TU(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(void 0===s[a]||!oi(o[a],s[a])))return!1;return!0}(n,e);default:return B()}var i}function pd(n,e){return void 0!==(n.values||[]).find(t=>oi(t,e))}function vo(n,e){if(n===e)return 0;const t=ks(n),r=ks(e);if(t!==r)return ne(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ne(n.booleanValue,e.booleanValue);case 2:return function(i,o){const s=st(i.integerValue||i.doubleValue),a=st(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(n,e);case 3:return kU(n.timestampValue,e.timestampValue);case 4:return kU(fd(n),fd(e));case 5:return ne(n.stringValue,e.stringValue);case 6:return function(i,o){const s=Ms(i),a=Ms(o);return s.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,o){const s=i.split("/"),a=o.split("/");for(let l=0;l<s.length&&l<a.length;l++){const c=ne(s[l],a[l]);if(0!==c)return c}return ne(s.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,o){const s=ne(st(i.latitude),st(o.latitude));return 0!==s?s:ne(st(i.longitude),st(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,o){const s=i.values||[],a=o.values||[];for(let l=0;l<s.length&&l<a.length;++l){const c=vo(s[l],a[l]);if(c)return c}return ne(s.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===yo_mapValue&&o===yo_mapValue)return 0;if(i===yo_mapValue)return 1;if(o===yo_mapValue)return-1;const s=i.fields||{},a=Object.keys(s),l=o.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const d=ne(a[u],c[u]);if(0!==d)return d;const h=vo(s[a[u]],l[c[u]]);if(0!==h)return h}return ne(a.length,c.length)}(n.mapValue,e.mapValue);default:throw B()}}function kU(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return ne(n,e);const t=_o(n),r=_o(e),i=ne(t.seconds,r.seconds);return 0!==i?i:ne(t.nanos,r.nanos)}function vl(n){return PD(n)}function PD(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=_o(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ms(n.bytesValue).toBase64():"referenceValue"in n?N.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",o=!0;for(const s of r.values||[])o?o=!1:i+=",",i+=PD(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",s=!0;for(const a of i)s?s=!1:o+=",",o+=`${a}:${PD(r.fields[a])}`;return o+"}"}(n.mapValue):B();var e}function LD(n){return!!n&&"integerValue"in n}function md(n){return!!n&&"arrayValue"in n}function RU(n){return!!n&&"nullValue"in n}function OU(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Km(n){return!!n&&"mapValue"in n}function gd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return As(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=gd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=gd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function NU(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class bo{constructor(e,t){this.position=e,this.inclusive=t}}function LU(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],s=n.position[i];if(r=o.field.isKeyField()?N.comparator(N.fromName(s.referenceValue),t.key):vo(s,t.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function VU(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!oi(n.position[t],e.position[t]))return!1;return!0}class BU{}class ye extends BU{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new oce(e,t,r):"array-contains"===t?new lce(e,r):"in"===t?new GU(e,r):"not-in"===t?new cce(e,r):"array-contains-any"===t?new uce(e,r):new ye(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new sce(e,r):new ace(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(vo(t,this.value)):null!==t&&ks(this.value)===ks(t)&&this.matchesComparison(vo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return B()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Fe extends BU{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Fe(e,t)}matches(e){return bl(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function bl(n){return"and"===n.op}function BD(n){return function UU(n){for(const e of n.filters)if(e instanceof Fe)return!1;return!0}(n)&&bl(n)}function UD(n){if(n instanceof ye)return n.field.canonicalString()+n.op.toString()+vl(n.value);if(BD(n))return n.filters.map(e=>UD(e)).join(",");{const e=n.filters.map(t=>UD(t)).join(",");return`${n.op}(${e})`}}function jU(n,e){return n instanceof ye?(t=n,(r=e)instanceof ye&&t.op===r.op&&t.field.isEqual(r.field)&&oi(t.value,r.value)):n instanceof Fe?function(t,r){return r instanceof Fe&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,o,s)=>i&&jU(o,r.filters[s]),!0)}(n,e):void B();var t,r}function HU(n){return n instanceof ye?function(e){return`${e.field.canonicalString()} ${e.op} ${vl(e.value)}`}(n):n instanceof Fe?function(e){return e.op.toString()+" {"+e.getFilters().map(HU).join(" ,")+"}"}(n):"Filter"}class oce extends ye{constructor(e,t,r){super(e,t,r),this.key=N.fromName(r.referenceValue)}matches(e){const t=N.comparator(e.key,this.key);return this.matchesComparison(t)}}class sce extends ye{constructor(e,t){super(e,"in",t),this.keys=zU(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ace extends ye{constructor(e,t){super(e,"not-in",t),this.keys=zU(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function zU(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>N.fromName(r.referenceValue))}class lce extends ye{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return md(t)&&pd(t.arrayValue,this.value)}}class GU extends ye{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&pd(this.value.arrayValue,t)}}class cce extends ye{constructor(e,t){super(e,"not-in",t)}matches(e){if(pd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!pd(this.value.arrayValue,t)}}class uce extends ye{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!md(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>pd(this.value.arrayValue,r))}}class wl{constructor(e,t="asc"){this.field=e,this.dir=t}}function dce(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class at{constructor(e,t){this.comparator=e,this.root=t||Qt.EMPTY}insert(e,t){return new at(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ym(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ym(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ym(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ym(this.root,e,this.comparator,!0)}}class Ym{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Qt.RED,this.left=i??Qt.EMPTY,this.right=o??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Qt(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Qt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw B();const e=this.left.check();if(e!==this.right.check())throw B();return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1,Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw B()}get value(){throw B()}get color(){throw B()}get left(){throw B()}get right(){throw B()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Qt(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pe{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qU(this.data.getIterator())}getIteratorFrom(e){return new qU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Pe)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Pe(this.comparator);return t.data=e,t}}class qU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Fn{constructor(e){this.fields=e,e.sort(ft.comparator)}static empty(){return new Fn([])}unionWith(e){let t=new Pe(ft.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Fn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return yl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Xt{constructor(e){this.value=e}static empty(){return new Xt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Km(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=gd(t)}setAll(e){let t=ft.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=gd(s):i.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());Km(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Km(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){As(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Xt(gd(this.value))}}function WU(n){const e=[];return As(n.fields,(t,r)=>{const i=new ft([t]);if(Km(r)){const o=WU(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Fn(e)}class qe{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new qe(e,0,G.min(),G.min(),G.min(),Xt.empty(),0)}static newFoundDocument(e,t,r,i){return new qe(e,1,t,G.min(),r,i,0)}static newNoDocument(e,t){return new qe(e,2,t,G.min(),G.min(),Xt.empty(),0)}static newUnknownDocument(e,t){return new qe(e,3,t,G.min(),G.min(),Xt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(G.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=G.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hce{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ft=null}}function jD(n,e=null,t=[],r=[],i=null,o=null,s=null){return new hce(n,e,t,r,i,o,s)}function Os(n){const e=F(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>UD(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),dd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>vl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>vl(r)).join(",")),e.ft=t}return e.ft}function _d(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!dce(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!jU(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!VU(n.startAt,e.startAt)&&VU(n.endAt,e.endAt)}function Qm(n){return N.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class ji{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.dt=null,this._t=null}}function xl(n){return new ji(n)}function XU(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Ns(n){const e=F(n);if(null===e.dt){e.dt=[];const t=function Zm(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),r=function $D(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new wl(t)),e.dt.push(new wl(ft.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.dt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new wl(ft.keyField(),o))}}}return e.dt}function Cn(n){const e=F(n);if(!e._t)if("F"===e.limitType)e._t=jD(e.path,e.collectionGroup,Ns(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of Ns(e))t.push(new wl(o.field,"desc"===o.dir?"asc":"desc"));const r=e.endAt?new bo(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new bo(e.startAt.position,e.startAt.inclusive):null;e._t=jD(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function Jm(n,e,t){return new ji(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function yd(n,e){return _d(Cn(n),Cn(e))&&n.limitType===e.limitType}function ZU(n){return`${Os(Cn(n))}|lt:${n.limitType}`}function GD(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>HU(r)).join(", ")}]`),dd(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>vl(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>vl(r)).join(",")),`Target(${t})`}(Cn(n))}; limitType=${n.limitType})`}function qD(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):N.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Ns(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,o,s){const a=LU(i,o,s);return i.inclusive?a<=0:a<0}(t.startAt,Ns(t),r)||t.endAt&&!function(i,o,s){const a=LU(i,o,s);return i.inclusive?a>=0:a>0}(t.endAt,Ns(t),r)));var t,r}function ej(n){return(e,t)=>{let r=!1;for(const i of Ns(n)){const o=fce(i,e,t);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function fce(n,e,t){const r=n.field.isKeyField()?N.comparator(e.key,t.key):function(i,o,s){const a=o.data.field(i),l=s.data.field(i);return null!==a&&null!==l?vo(a,l):B()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return B()}}function tj(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hd(e)?"-0":e}}function nj(n){return{integerValue:""+n}}function rj(n,e){return function AU(n){return"number"==typeof n&&Number.isInteger(n)&&!hd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?nj(e):tj(n,e)}class eg{constructor(){this._=void 0}}function pce(n,e,t){return n instanceof Cl?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(o.fields.__previous_value__=i),{mapValue:o}}(t,e):n instanceof Fs?oj(n,e):n instanceof Ps?sj(n,e):function(r,i){const o=ij(r,i),s=aj(o)+aj(r.gt);return LD(o)&&LD(r.gt)?nj(s):tj(r.yt,s)}(n,e)}function mce(n,e,t){return n instanceof Fs?oj(n,e):n instanceof Ps?sj(n,e):t}function ij(n,e){return n instanceof Dl?LD(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Cl extends eg{}class Fs extends eg{constructor(e){super(),this.elements=e}}function oj(n,e){const t=lj(e);for(const r of n.elements)t.some(i=>oi(i,r))||t.push(r);return{arrayValue:{values:t}}}class Ps extends eg{constructor(e){super(),this.elements=e}}function sj(n,e){let t=lj(e);for(const r of n.elements)t=t.filter(i=>!oi(i,r));return{arrayValue:{values:t}}}class Dl extends eg{constructor(e,t){super(),this.yt=e,this.gt=t}}function aj(n){return st(n.integerValue||n.doubleValue)}function lj(n){return md(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class _ce{constructor(e,t){this.version=e,this.transformResults=t}}class Xe{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Xe}static exists(e){return new Xe(void 0,e)}static updateTime(e){return new Xe(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class ng{}function cj(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Tl(n.key,Xe.none()):new Il(n.key,n.data,Xe.none());{const t=n.data,r=Xt.empty();let i=new Pe(ft.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new $i(n.key,r,new Fn(i.toArray()),Xe.none())}}function yce(n,e,t){n instanceof Il?function(r,i,o){const s=r.value.clone(),a=hj(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(n,e,t):n instanceof $i?function(r,i,o){if(!tg(r.precondition,i))return void i.convertToUnknownDocument(o.version);const s=hj(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(dj(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function bd(n,e,t,r){return n instanceof Il?function(i,o,s,a){if(!tg(i.precondition,o))return s;const l=i.value.clone(),c=fj(i.fieldTransforms,a,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof $i?function(i,o,s,a){if(!tg(i.precondition,o))return s;const l=fj(i.fieldTransforms,a,o),c=o.data;return c.setAll(dj(i)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null===s?null:s.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(n,e,t,r):(s=t,tg(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s);var o,s}function vce(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=ij(r.transform,i||null);null!=o&&(null===t&&(t=Xt.empty()),t.set(r.field,o))}return t||null}function uj(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&yl(t,r,(i,o)=>function gce(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Fs&&r instanceof Fs||t instanceof Ps&&r instanceof Ps?yl(t.elements,r.elements,oi):t instanceof Dl&&r instanceof Dl?oi(t.gt,r.gt):t instanceof Cl&&r instanceof Cl);var t,r}(i,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Il extends ng{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class $i extends ng{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function dj(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function hj(n,e,t){const r=new Map;$(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,mce(s,a,t[i]))}return r}function fj(n,e,t){const r=new Map;for(const i of n){const o=i.transform,s=t.data.field(i.field);r.set(i.field,pce(o,s,e))}return r}class Tl extends ng{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WD extends ng{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bce{constructor(e){this.count=e}}var wt,xe;function pj(n){switch(n){default:return B();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}function mj(n){if(void 0===n)return ht("GRPC error has no .code"),x.UNKNOWN;switch(n){case wt.OK:return x.OK;case wt.CANCELLED:return x.CANCELLED;case wt.UNKNOWN:return x.UNKNOWN;case wt.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case wt.INTERNAL:return x.INTERNAL;case wt.UNAVAILABLE:return x.UNAVAILABLE;case wt.UNAUTHENTICATED:return x.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case wt.NOT_FOUND:return x.NOT_FOUND;case wt.ALREADY_EXISTS:return x.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return x.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case wt.ABORTED:return x.ABORTED;case wt.OUT_OF_RANGE:return x.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return x.UNIMPLEMENTED;case wt.DATA_LOSS:return x.DATA_LOSS;default:return B()}}(xe=wt||(wt={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";class wo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){As(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return SU(this.inner)}size(){return this.innerSize}}const wce=new at(N.comparator);function Pn(){return wce}const gj=new at(N.comparator);function wd(...n){let e=gj;for(const t of n)e=e.insert(t.key,t);return e}function _j(n){let e=gj;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function si(){return Ed()}function yj(){return Ed()}function Ed(){return new wo(n=>n.toString(),(n,e)=>n.isEqual(e))}const Ece=new at(N.comparator),xce=new Pe(N.comparator);function le(...n){let e=xce;for(const t of n)e=e.add(t);return e}const Cce=new Pe(ne);function rg(){return Cce}class xd{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Cd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new xd(G.min(),i,rg(),Pn(),le())}}class Cd{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Cd(r,t,le(),le(),le())}}class ig{constructor(e,t,r,i){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=i}}class vj{constructor(e,t){this.targetId=e,this.Et=t}}class bj{constructor(e,t,r=Rt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class wj{constructor(){this.At=0,this.Rt=xj(),this.bt=Rt.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=le(),t=le(),r=le();return this.Rt.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:B()}}),new Cd(this.bt,this.Pt,e,t,r)}xt(){this.vt=!1,this.Rt=xj()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class Dce{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Pn(),this.qt=Ej(),this.Ut=new Pe(ne)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const r=this.Wt(t);switch(e.state){case 0:this.zt(t)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:B()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,i)=>{this.zt(i)&&t(i)})}Jt(e){const t=e.targetId,r=e.Et.count,i=this.Yt(t);if(i){const o=i.target;if(Qm(o))if(0===r){const s=new N(o.path);this.Qt(t,s,qe.newNoDocument(s,G.min()))}else $(1===r);else this.Xt(t)!==r&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((o,s)=>{const a=this.Yt(s);if(a){if(o.current&&Qm(a.target)){const l=new N(a.target.path);null!==this.Lt.get(l)||this.te(s,l)||this.Qt(s,l,qe.newNoDocument(l,e))}o.St&&(t.set(s,o.Ct()),o.xt())}});let r=le();this.qt.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Yt(l);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.Lt.forEach((o,s)=>s.setReadTime(e));const i=new xd(e,t,this.Ut,this.Lt,r);return this.Lt=Pn(),this.qt=Ej(),this.Ut=new Pe(ne),i}Gt(e,t){if(!this.zt(e))return;const r=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,t)?i.Nt(t,1):i.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new wj,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new Pe(ne),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||S("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new wj),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function Ej(){return new at(N.comparator)}function xj(){return new at(N.comparator)}const Ice={asc:"ASCENDING",desc:"DESCENDING"},Tce={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sce={and:"AND",or:"OR"};class Ace{constructor(e,t){this.databaseId=e,this.wt=t}}function Sl(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Cj(n,e){return n.wt?e.toBase64():e.toUint8Array()}function Mce(n,e){return Sl(n,e.toTimestamp())}function pt(n){return $(!!n),G.fromTimestamp(function(e){const t=_o(e);return new et(t.seconds,t.nanos)}(n))}function KD(n,e){return(t=n,new Ee(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Dj(n){const e=Ee.fromString(n);return $(Nj(e)),e}function Dd(n,e){return KD(n.databaseId,e.path)}function ai(n,e){const t=Dj(e);if(t.get(1)!==n.databaseId.projectId)throw new T(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new T(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new N(Tj(t))}function YD(n,e){return KD(n.databaseId,e)}function Id(n){return new Ee(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Tj(n){return $(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Sj(n,e,t){return{name:Dd(n,e),fields:t.value.mapValue.fields}}function Mj(n,e){return{documents:[YD(n,e.path)]}}function XD(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=YD(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=YD(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(0!==l.length)return Oj(Fe.create(l,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const o=function(l){if(0!==l.length)return l.map(c=>{return{field:Al((u=c).field),direction:Fce(u.dir)};var u})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const s=(c=e.limit,n.wt||dd(c)?c:{value:c});var c,a,l;return null!==s&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(l=e.endAt).inclusive,values:l.position}),t}function kj(n){let e=function Ij(n){const e=Dj(n);return 4===e.length?Ee.emptyPath():Tj(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){$(1===r);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];t.where&&(o=function(u){const d=Rj(u);return d instanceof Fe&&BD(d)?d.getFilters():[d]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(u=>{return new wl(Ml((d=u).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(u){let d;return d="object"==typeof u?u.value:u,dd(d)?null:d}(t.limit));let l=null;var u;t.startAt&&(l=new bo((u=t.startAt).values||[],!!u.before));let c=null;return t.endAt&&(c=function(u){return new bo(u.values||[],!u.before)}(t.endAt)),function QU(n,e,t,r,i,o,s,a){return new ji(n,e,t,r,i,o,s,a)}(e,i,s,o,a,"F",l,c)}function Rj(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ml(e.unaryFilter.field);return ye.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Ml(e.unaryFilter.field);return ye.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ml(e.unaryFilter.field);return ye.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ml(e.unaryFilter.field);return ye.create(o,"!=",{nullValue:"NULL_VALUE"});default:return B()}}(n):void 0!==n.fieldFilter?function(e){return ye.create(Ml(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return B()}}(e.fieldFilter.op),e.fieldFilter.value)}(n):void 0!==n.compositeFilter?function(e){return Fe.create(e.compositeFilter.filters.map(t=>Rj(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return B()}}(e.compositeFilter.op))}(n):B()}function Fce(n){return Ice[n]}function Pce(n){return Tce[n]}function Lce(n){return Sce[n]}function Al(n){return{fieldPath:n.canonicalString()}}function Ml(n){return ft.fromServerFormat(n.fieldPath)}function Oj(n){return n instanceof ye?function(e){if("=="===e.op){if(OU(e.value))return{unaryFilter:{field:Al(e.field),op:"IS_NAN"}};if(RU(e.value))return{unaryFilter:{field:Al(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(OU(e.value))return{unaryFilter:{field:Al(e.field),op:"IS_NOT_NAN"}};if(RU(e.value))return{unaryFilter:{field:Al(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Al(e.field),op:Pce(e.op),value:e.value}}}(n):n instanceof Fe?function(e){const t=e.getFilters().map(r=>Oj(r));return 1===t.length?t[0]:{compositeFilter:{op:Lce(e.op),filters:t}}}(n):B()}function Vce(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Nj(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class JD{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&yce(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=bd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=bd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=yj();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;const l=cj(s,a);null!==l&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(G.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),le())}isEqual(e){return this.batchId===e.batchId&&yl(this.mutations,e.mutations,(t,r)=>uj(t,r))&&yl(this.baseMutations,e.baseMutations,(t,r)=>uj(t,r))}}class eI{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){$(e.mutations.length===r.length);let i=Ece;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new eI(e,t,r,i)}}class tI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Eo{constructor(e,t,r,i,o=G.min(),s=G.min(),a=Rt.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a}withSequenceNumber(e){return new Eo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Eo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class jj{constructor(e){this.ie=e}}function nI(n){const e=kj({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Jm(e,e.limit,"L"):e}class Us{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(st(e.integerValue));else if("doubleValue"in e){const r=st(e.doubleValue);isNaN(r)?this.he(t,13):(this.he(t,15),hd(r)?t.le(0):t.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe(`${r.seconds||""}`),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(Ms(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(t,45),t.le(r.latitude||0),t.le(r.longitude||0)}else"mapValue"in e?NU(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):B()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const r=e.fields||{};this.he(t,55);for(const i of Object.keys(r))this.de(i,t),this.ce(r[i],t)}ye(e,t){const r=e.values||[];this.he(t,50);for(const i of r)this.ce(i,t)}me(e,t){this.he(t,37),N.fromName(e).path.forEach(r=>{this.he(t,60),this.pe(r,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}Us.Ie=new Us;class due{constructor(){this.Je=new lI}addToCollectionParentIndex(e,t){return this.Je.add(t),w.resolve()}getCollectionParents(e,t){return w.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return w.resolve()}deleteFieldIndex(e,t){return w.resolve()}getDocumentsMatchingTarget(e,t){return w.resolve(null)}getIndexType(e,t){return w.resolve(0)}getFieldIndexes(e,t){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,t){return w.resolve(Xn.min())}getMinOffsetFromCollectionGroup(e,t){return w.resolve(Xn.min())}updateCollectionGroup(e,t,r){return w.resolve()}updateIndexEntries(e,t){return w.resolve()}}class lI{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Pe(Ee.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pe(Ee.comparator)).toArray()}}new Uint8Array(0);class Ln{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ln(e,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(41943040,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);class $s{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new $s(0)}static vn(){return new $s(-1)}}class yue{constructor(){this.changes=new wo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qe.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?w.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wue{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class d${constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&bd(r.mutation,i,Fn.empty(),et.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,t,r=le()){const i=si();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=wd();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const r=si();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,le()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Pn();const s=Ed(),a=Ed();return t.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(void 0===u||u.mutation instanceof $i)?o=o.insert(c.key,c):void 0!==u?(s.set(c.key,u.mutation.getFieldMask()),bd(u.mutation,c,u.mutation.getFieldMask(),et.now())):s.set(c.key,Fn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),t.forEach((c,u)=>{var d;return a.set(c,new wue(u,null!==(d=s.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Ed();let i=new at((s,a)=>s-a),o=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=t.get(l);if(null===c)return;let u=r.get(l)||Fn.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||le()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=yj();u.forEach(h=>{if(!o.has(h)){const f=cj(t.get(h),r.get(h));null!==f&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return w.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return N.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function HD(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):w.resolve(si());let a=-1,l=o;return s.next(c=>w.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(u)?w.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,le())).next(u=>({batchId:a,changes:_j(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new N(t)).next(r=>{let i=wd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let o=wd();return this.indexManager.getCollectionParents(e,i).next(s=>w.forEach(s,a=>{const l=(c=t,u=a.child(i),new ji(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,u;return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((u,d)=>{o=o.insert(u,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(o=>(i=o,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(o=>{o.forEach((a,l)=>{const c=l.getKey();null===i.get(c)&&(i=i.insert(c,qe.newInvalidDocument(c)))});let s=wd();return i.forEach((a,l)=>{const c=o.get(a);void 0!==c&&bd(c.mutation,l,Fn.empty(),et.now()),qD(t,l)&&(s=s.insert(a,l))}),s})}}class Eue{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return w.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:pt(r.createTime)}),w.resolve()}getNamedQuery(e,t){return w.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:nI(r.bundledQuery),readTime:pt(r.readTime)}),w.resolve();var r}}class xue{constructor(){this.overlays=new at(N.comparator),this.es=new Map}getOverlay(e,t){return w.resolve(this.overlays.get(t))}getOverlays(e,t){const r=si();return w.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.oe(e,t,o)}),w.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.es.delete(r)),w.resolve()}getOverlaysForCollection(e,t,r){const i=si(),o=t.length+1,s=new N(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return w.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new at((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=o.get(c.largestBatchId);null===u&&(u=si(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=si(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return w.resolve(a)}oe(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new tI(t,r));let o=this.es.get(t);void 0===o&&(o=le(),this.es.set(t,o)),this.es.set(t,o.add(r.key))}}class cI{constructor(){this.ns=new Pe(Vt.ss),this.rs=new Pe(Vt.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Vt(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Vt(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new N(new Ee([])),r=new Vt(t,e),i=new Vt(t,e+1),o=[];return this.rs.forEachInRange([r,i],s=>{this.cs(s),o.push(s.key)}),o}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new N(new Ee([])),r=new Vt(t,e),i=new Vt(t,e+1);let o=le();return this.rs.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Vt(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Vt{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return N.comparator(e.key,t.key)||ne(e._s,t._s)}static os(e,t){return ne(e._s,t._s)||N.comparator(e.key,t.key)}}class Cue{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Pe(Vt.ss)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const o=this.ws;this.ws++;const s=new JD(o,t,r,i);this.mutationQueue.push(s);for(const a of i)this.gs=this.gs.add(new Vt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(s)}lookupMutationBatch(e,t){return w.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),o=i<0?0:i;return w.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Vt(t,0),i=new Vt(t,Number.POSITIVE_INFINITY),o=[];return this.gs.forEachInRange([r,i],s=>{const a=this.ys(s._s);o.push(a)}),w.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Pe(ne);return t.forEach(i=>{const o=new Vt(i,0),s=new Vt(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([o,s],a=>{r=r.add(a._s)})}),w.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;N.isDocumentKey(o)||(o=o.child(""));const s=new Vt(new N(o),0);let a=new Pe(ne);return this.gs.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l._s)),!0)},s),w.resolve(this.Is(a))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){$(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return w.forEach(t.mutations,i=>{const o=new Vt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Vt(t,0),i=this.gs.firstAfterOrEqual(r);return w.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Due{constructor(e){this.Es=e,this.docs=new at(N.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return w.resolve(r?r.document.mutableCopy():qe.newInvalidDocument(t))}getEntries(e,t){let r=Pn();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():qe.newInvalidDocument(i))}),w.resolve(r)}getAllFromCollection(e,t,r){let i=Pn();const o=new N(t.child("")),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){const{key:a,value:{document:l}}=s.getNext();if(!t.isPrefixOf(a.path))break;a.path.length>t.length+1||RD(CU(l),r)<=0||(i=i.insert(l.key,l.mutableCopy()))}return w.resolve(i)}getAllFromCollectionGroup(e,t,r,i){B()}As(e,t){return w.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Iue(this)}getSize(e){return w.resolve(this.size)}}class Iue extends yue{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),w.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Tue{constructor(e){this.persistence=e,this.Rs=new wo(t=>Os(t),_d),this.lastRemoteSnapshotVersion=G.min(),this.highestTargetId=0,this.bs=0,this.Ps=new cI,this.targetCount=0,this.vs=$s.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),w.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new $s(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,w.resolve()}updateTargetData(e,t){return this.Dn(t),w.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Rs.forEach((s,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Rs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(o).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return w.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),w.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),w.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),w.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return w.resolve(r)}containsKey(e,t){return w.resolve(this.Ps.containsKey(t))}}class h${constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Zn(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Tue(this),this.indexManager=new due,this.remoteDocumentCache=new Due(r=>this.referenceDelegate.xs(r)),this.yt=new jj(t),this.Ns=new Eue(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new xue,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new Cue(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){S("MemoryPersistence","Starting transaction:",e);const i=new Sue(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(o=>this.referenceDelegate.Os(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ms(e,t){return w.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class Sue extends Qle{constructor(e){super(),this.currentSequenceNumber=e}}class pg{constructor(e){this.persistence=e,this.Fs=new cI,this.$s=null}static Bs(e){return new pg(e)}get Ls(){if(this.$s)return this.$s;throw B()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),w.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),w.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Ls.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Ls,r=>{const i=N.fromPath(r);return this.qs(e,i).next(o=>{o||t.removeEntry(i,G.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return w.or([()=>w.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class fI{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=le(),i=le();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new fI(e,t.fromCache,r,i)}}class p${constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(o=>o||this.Oi(e,t,i,r)).next(o=>o||this.Mi(e,t))}ki(e,t){if(XU(t))return w.resolve(null);let r=Cn(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Jm(t,null,"F"),r=Cn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=le(...o);return this.Ni.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Fi(t,a);return this.$i(t,c,s,l.readTime)?this.ki(e,Jm(t,null,"F")):this.Bi(e,c,t,l)}))})))}Oi(e,t,r,i){return XU(t)||i.isEqual(G.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(o=>{const s=this.Fi(t,o);return this.$i(t,s,r,i)?this.Mi(e,t):(AD()<=we.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),GD(t)),this.Bi(e,s,t,function xU(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=G.fromTimestamp(1e9===r?new et(t+1,0):new et(t,r));return new Xn(i,N.empty(),e)}(i,-1)))})}Fi(e,t){let r=new Pe(ej(e));return t.forEach((i,o)=>{qD(e,o)&&(r=r.add(o))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Mi(e,t){return AD()<=we.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",GD(t)),this.Ni.getDocumentsMatchingQuery(e,t,Xn.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class Mue{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.yt=i,this.qi=new at(ne),this.Ui=new wo(o=>Os(o),_d),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new d$(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function g$(n,e){return pI.apply(this,arguments)}function pI(){return pI=_(function*(n,e){const t=F(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=le();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(r,l).next(c=>({ji:c,removedBatchIds:s,addedBatchIds:a}))})})}),pI.apply(this,arguments)}function kue(n,e){const t=F(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.Gi.newChangeBuffer({trackRemovals:!0});return function(s,a,l,c){const u=l.batch,d=u.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=l.docVersions.get(f);$(null!==m),p.version.compareTo(m)<0&&(u.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),c.addEntry(p)))})}),h.next(()=>s.mutationQueue.removeMutationBatch(a,u))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let a=le();for(let l=0;l<s.mutationResults.length;++l)s.mutationResults[l].transformResults.length>0&&(a=a.add(s.batch.mutations[l].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function _$(n){const e=F(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Rue(n,e){const t=F(n),r=e.snapshotVersion;let i=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.qi;const a=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;a.push(t.Cs.removeMatchingKeys(o,u.removedDocuments,d).next(()=>t.Cs.addMatchingKeys(o,u.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);var p,m,g;e.targetMismatches.has(d)?f=f.withResumeToken(Rt.EMPTY_BYTE_STRING,G.min()).withLastLimboFreeSnapshotVersion(G.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(d,f),m=f,g=u,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0)&&a.push(t.Cs.updateTargetData(o,f))});let l=Pn(),c=le();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(function y$(n,e,t){let r=le(),i=le();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Pn();return t.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(G.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):S("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Wi:s,zi:i}})}(o,s,e.documentUpdates).next(u=>{l=u.Wi,c=u.zi})),!r.isEqual(G.min())){const u=t.Cs.getLastRemoteSnapshotVersion(o).next(d=>t.Cs.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return w.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(t.qi=i,o))}function Oue(n,e){const t=F(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ol(n,e){const t=F(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(o=>o?(i=o,w.resolve(i)):t.Cs.allocateTargetId(r).next(s=>(i=new Eo(e,s,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qi=t.qi.insert(r.targetId,r),t.Ui.set(e,r.targetId)),r})}function Nl(n,e,t){return mI.apply(this,arguments)}function mI(){return mI=_(function*(n,e,t){const r=F(n),i=r.qi.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!go(s))throw s;S("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}),mI.apply(this,arguments)}function gg(n,e,t){const r=F(n);let i=G.min(),o=le();return r.persistence.runTransaction("Execute query","readonly",s=>function(a,l,c){const u=F(a),d=u.Ui.get(c);return void 0!==d?w.resolve(u.qi.get(d)):u.Cs.getTargetData(l,c)}(r,s,Cn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Li.getDocumentsMatchingQuery(s,e,t?i:G.min(),t?o:le())).next(a=>(function w$(n,e,t){let r=n.Ki.get(e)||G.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ki.set(e,r)}(r,function JU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,Hi:o})))}class bI{constructor(){this.activeTargetIds=rg()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class C${constructor(){this.Lr=new bI,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new bI,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Pue{Ur(e){}shutdown(){}}class D${constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Lue={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Vue{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Bue extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,o){const s=this.ho(e,t);S("RestConnection","Sending: ",s,r);const a={};return this.lo(a,i,o),this.fo(e,s,a,r).then(l=>(S("RestConnection","Received: ",l),l),l=>{throw _l("RestConnection",`${e} failed with error: `,l,"url: ",s,"request:",r),l})}_o(e,t,r,i,o,s){return this.ao(e,t,r,i,o)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+gl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}ho(e,t){return`${this.oo}/v1/${t}:${Lue[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((o,s)=>{const a=new Ble;a.setWithCredentials(!0),a.listenOnce(Ple.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case SD.NO_ERROR:const c=a.getResponseJson();S("Connection","XHR received:",JSON.stringify(c)),o(c);break;case SD.TIMEOUT:S("Connection",'RPC "'+e+'" timed out'),s(new T(x.DEADLINE_EXCEEDED,"Request time out"));break;case SD.HTTP_ERROR:const u=a.getStatus();if(S("Connection",'RPC "'+e+'" failed with status:',u,"response text:",a.getResponseText()),u>0){let d=a.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d?.error;if(h&&h.status&&h.message){const f=function(p){const m=p.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(m)>=0?m:x.UNKNOWN}(h.status);s(new T(f,h.message))}else s(new T(x.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new T(x.UNAVAILABLE,"Connection failed."));break;default:B()}}finally{S("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(t,"POST",l,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Nle(),s=Fle(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new Vle({})),this.lo(a.initMessageHeaders,t,r),a.encodeInitMessageHeaders=!0;const l=i.join("");S("Connection","Creating WebChannel: "+l,a);const c=o.createWebChannel(l,a);let u=!1,d=!1;const h=new Vue({Hr:p=>{d?S("Connection","Not sending because WebChannel is closed:",p):(u||(S("Connection","Opening WebChannel transport."),c.open(),u=!0),S("Connection","WebChannel sending:",p),c.send(p))},Jr:()=>c.close()}),f=(p,m,g)=>{p.listen(m,y=>{try{g(y)}catch(C){setTimeout(()=>{throw C},0)}})};return f(c,Hm.EventType.OPEN,()=>{d||S("Connection","WebChannel transport opened.")}),f(c,Hm.EventType.CLOSE,()=>{d||(d=!0,S("Connection","WebChannel transport closed"),h.io())}),f(c,Hm.EventType.ERROR,p=>{d||(d=!0,_l("Connection","WebChannel transport errored:",p),h.io(new T(x.UNAVAILABLE,"The operation could not be completed")))}),f(c,Hm.EventType.MESSAGE,p=>{var m;if(!d){const g=p.data[0];$(!!g);const C=g.error||(null===(m=g[0])||void 0===m?void 0:m.error);if(C){S("Connection","WebChannel received error:",C);const v=C.status;let k=function(V){const _e=wt[V];if(void 0!==_e)return mj(_e)}(v),U=C.message;void 0===k&&(k=x.INTERNAL,U="Unknown error status: "+v+" with message "+C.message),d=!0,h.io(new T(k,U)),c.close()}else S("Connection","WebChannel received:",g),h.ro(g)}}),f(s,Lle.STAT_EVENT,p=>{p.stat===_U.PROXY?S("Connection","Detected buffering proxy"):p.stat===_U.NOPROXY&&S("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function vg(){return typeof document<"u"?document:null}function Pd(n){return new Ace(n,!0)}class EI{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=o,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&S("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class T${constructor(e,t,r,i,o,s,a,l){this.Hs=e,this.vo=r,this.Vo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new EI(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return _(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return _(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return _(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===x.RESOURCE_EXHAUSTED?(ht(t.toString()),ht("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===x.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new T(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro(_(function*(){e.state=0,e.start()}))}Qo(e){return S("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Uue extends T${constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.yt=o}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function Rce(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:B(),i=e.targetChange.targetIds||[],o=function(l,c){return l.wt?($(void 0===c||"string"==typeof c),Rt.fromBase64String(c||"")):($(void 0===c||c instanceof Uint8Array),Rt.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const c=void 0===l.code?x.UNKNOWN:mj(l.code);return new T(c,l.message||"")}(s);t=new bj(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=ai(n,r.document.name),o=pt(r.document.updateTime),s=r.document.createTime?pt(r.document.createTime):G.min(),a=new Xt({mapValue:{fields:r.document.fields}}),l=qe.newFoundDocument(i,o,s,a);t=new ig(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const r=e.documentDelete,i=ai(n,r.document),o=r.readTime?pt(r.readTime):G.min(),s=qe.newNoDocument(i,o);t=new ig([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=ai(n,r.document);t=new ig([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return B();{const r=e.filter,o=new bce(r.count||0);t=new vj(r.targetId,o)}}var l;return t}(this.yt,e),r=function(i){if(!("targetChange"in i))return G.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?G.min():o.readTime?pt(o.readTime):G.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=Id(this.yt),t.addTarget=function(i,o){let s;const a=o.target;return s=Qm(a)?{documents:Mj(i,a)}:{query:XD(i,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?s.resumeToken=Cj(i,o.resumeToken):o.snapshotVersion.compareTo(G.min())>0&&(s.readTime=Sl(i,o.snapshotVersion.toTimestamp())),s}(this.yt,e);const r=function Nce(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return B()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=Id(this.yt),t.removeTarget=e,this.Bo(t)}}class jue extends T${constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.yt=o,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if($(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function Oce(n,e){return n&&n.length>0?($(void 0!==e),n.map(t=>function(r,i){let o=pt(r.updateTime?r.updateTime:i);return o.isEqual(G.min())&&(o=pt(i)),new _ce(o,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=pt(e.commitTime);return this.listener.Zo(r,t)}return $(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Id(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Td(n,e){let t;if(e instanceof Il)t={update:Sj(n,e.key,e.value)};else if(e instanceof Tl)t={delete:Dd(n,e.key)};else if(e instanceof $i)t={update:Sj(n,e.key,e.data),updateMask:Vce(e.fieldMask)};else{if(!(e instanceof WD))return B();t={verify:Dd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const s=o.transform;if(s instanceof Cl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Fs)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Ps)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Dl)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw B()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Mce(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:B()),t;var i}(this.yt,r))};this.Bo(t)}}class $ue extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new T(x.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.ao(e,t,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new T(x.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection._o(e,t,r,o,s,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new T(x.UNKNOWN,o.toString())})}terminate(){this.nu=!0}}class zue{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(ht(t),this.ou=!1):S("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Gue{constructor(e,t,r,i,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=o,this.mu.Ur(a=>{r.enqueueAndForget(_(function*(){var l;Hi(s)&&(S("RemoteStore","Restarting streams for network reachability change."),yield(l=_(function*(c){const u=F(c);u._u.add(4),yield Fl(u),u.gu.set("Unknown"),u._u.delete(4),yield Ld(u)}),function(c){return l.apply(this,arguments)})(s))}))}),this.gu=new zue(r,i)}}function Ld(n){return CI.apply(this,arguments)}function CI(){return CI=_(function*(n){if(Hi(n))for(const e of n.wu)yield e(!0)}),CI.apply(this,arguments)}function Fl(n){return DI.apply(this,arguments)}function DI(){return DI=_(function*(n){for(const e of n.wu)yield e(!1)}),DI.apply(this,arguments)}function bg(n,e){const t=F(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),SI(t)?TI(t):Ll(t).ko()&&II(t,e))}function Vd(n,e){const t=F(n),r=Ll(t);t.du.delete(e),r.ko()&&S$(t,e),0===t.du.size&&(r.ko()?r.Fo():Hi(t)&&t.gu.set("Unknown"))}function II(n,e){n.yu.Ot(e.targetId),Ll(n).zo(e)}function S$(n,e){n.yu.Ot(e),Ll(n).Ho(e)}function TI(n){n.yu=new Dce({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),Ll(n).start(),n.gu.uu()}function SI(n){return Hi(n)&&!Ll(n).No()&&n.du.size>0}function Hi(n){return 0===F(n)._u.size}function A$(n){n.yu=void 0}function que(n){return AI.apply(this,arguments)}function AI(){return AI=_(function*(n){n.du.forEach((e,t)=>{II(n,e)})}),AI.apply(this,arguments)}function Wue(n,e){return MI.apply(this,arguments)}function MI(){return MI=_(function*(n,e){A$(n),SI(n)?(n.gu.hu(e),TI(n)):n.gu.set("Unknown")}),MI.apply(this,arguments)}function Kue(n,e,t){return kI.apply(this,arguments)}function kI(){return kI=_(function*(n,e,t){if(n.gu.set("Online"),e instanceof bj&&2===e.state&&e.cause)try{yield(r=_(function*(i,o){const s=o.cause;for(const a of o.targetIds)i.du.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.du.delete(a),i.yu.removeTarget(a))}),function(i,o){return r.apply(this,arguments)})(n,e)}catch(r){S("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield wg(n,r)}else if(e instanceof ig?n.yu.Kt(e):e instanceof vj?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(G.min()))try{const r=yield _$(n.localStore);t.compareTo(r)>=0&&(yield function(i,o){const s=i.yu.Zt(o);return s.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.du.get(l);c&&i.du.set(l,c.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach(a=>{const l=i.du.get(a);if(!l)return;i.du.set(a,l.withResumeToken(Rt.EMPTY_BYTE_STRING,l.snapshotVersion)),S$(i,a);const c=new Eo(l.target,a,1,l.sequenceNumber);II(i,c)}),i.remoteSyncer.applyRemoteEvent(s)}(n,t))}catch(r){S("RemoteStore","Failed to raise snapshot:",r),yield wg(n,r)}var r}),kI.apply(this,arguments)}function wg(n,e,t){return RI.apply(this,arguments)}function RI(){return RI=_(function*(n,e,t){if(!go(e))throw e;n._u.add(1),yield Fl(n),n.gu.set("Offline"),t||(t=()=>_$(n.localStore)),n.asyncQueue.enqueueRetryable(_(function*(){S("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield Ld(n)}))}),RI.apply(this,arguments)}function M$(n,e){return e().catch(t=>wg(n,t,e))}function Pl(n){return OI.apply(this,arguments)}function OI(){return OI=_(function*(n){const e=F(n),t=Io(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Yue(e);)try{const i=yield Oue(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,Que(e,i)}catch(i){yield wg(e,i)}k$(e)&&R$(e)}),OI.apply(this,arguments)}function Yue(n){return Hi(n)&&n.fu.length<10}function Que(n,e){n.fu.push(e);const t=Io(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function k$(n){return Hi(n)&&!Io(n).No()&&n.fu.length>0}function R$(n){Io(n).start()}function Xue(n){return NI.apply(this,arguments)}function NI(){return NI=_(function*(n){Io(n).eu()}),NI.apply(this,arguments)}function Zue(n){return FI.apply(this,arguments)}function FI(){return FI=_(function*(n){const e=Io(n);for(const t of n.fu)e.Xo(t.mutations)}),FI.apply(this,arguments)}function Jue(n,e,t){return PI.apply(this,arguments)}function PI(){return PI=_(function*(n,e,t){const r=n.fu.shift(),i=eI.from(r,e,t);yield M$(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Pl(n)}),PI.apply(this,arguments)}function ede(n,e){return LI.apply(this,arguments)}function LI(){return LI=_(function*(n,e){var t;e&&Io(n).Yo&&(yield(t=_(function*(r,i){if(pj(o=i.code)&&o!==x.ABORTED){const s=r.fu.shift();Io(r).Mo(),yield M$(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Pl(r)}var o}),function(r,i){return t.apply(this,arguments)})(n,e)),k$(n)&&R$(n)}),LI.apply(this,arguments)}function O$(n,e){return VI.apply(this,arguments)}function VI(){return VI=_(function*(n,e){const t=F(n);t.asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials");const r=Hi(t);t._u.add(3),yield Fl(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Ld(t)}),VI.apply(this,arguments)}function UI(){return UI=_(function*(n,e){const t=F(n);e?(t._u.delete(2),yield Ld(t)):e||(t._u.add(2),yield Fl(t),t.gu.set("Unknown"))}),UI.apply(this,arguments)}function Ll(n){return n.pu||(n.pu=function(e,t,r){const i=F(e);return i.su(),new Uue(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:que.bind(null,n),Zr:Wue.bind(null,n),Wo:Kue.bind(null,n)}),n.wu.push(function(){var e=_(function*(t){t?(n.pu.Mo(),SI(n)?TI(n):n.gu.set("Unknown")):(yield n.pu.stop(),A$(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Io(n){return n.Iu||(n.Iu=function(e,t,r){const i=F(e);return i.su(),new jue(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:Xue.bind(null,n),Zr:ede.bind(null,n),tu:Zue.bind(null,n),Zo:Jue.bind(null,n)}),n.wu.push(function(){var e=_(function*(t){t?(n.Iu.Mo(),yield Pl(n)):(yield n.Iu.stop(),n.fu.length>0&&(S("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class jI{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new kt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,t,r,i,o){const s=Date.now()+r,a=new jI(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new T(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vl(n,e){if(ht("AsyncQueue",`${e}: ${n}`),go(n))return new T(x.UNAVAILABLE,`${e}: ${n}`);throw n}class Bl{constructor(e){this.comparator=e?(t,r)=>e(t,r)||N.comparator(t.key,r.key):(t,r)=>N.comparator(t.key,r.key),this.keyedMap=wd(),this.sortedSet=new at(this.comparator)}static emptySet(e){return new Bl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Bl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Bl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class N${constructor(){this.Tu=new at(N.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):B():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ul{constructor(e,t,r,i,o,s,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new Ul(e,t,Bl.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class tde{constructor(){this.Au=void 0,this.listeners=[]}}class nde{constructor(){this.queries=new wo(e=>ZU(e),yd),this.onlineState="Unknown",this.Ru=new Set}}function HI(){return HI=_(function*(n,e){const t=F(n),r=e.query;let i=!1,o=t.queries.get(r);if(o||(i=!0,o=new tde),i)try{o.Au=yield t.onListen(r)}catch(s){const a=Vl(s,`Initialization of query '${GD(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,o),o.listeners.push(e),e.bu(t.onlineState),o.Au&&e.Pu(o.Au)&&qI(t)}),HI.apply(this,arguments)}function GI(){return GI=_(function*(n,e){const t=F(n),r=e.query;let i=!1;const o=t.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),GI.apply(this,arguments)}function rde(n,e){const t=F(n);let r=!1;for(const i of e){const s=t.queries.get(i.query);if(s){for(const a of s.listeners)a.Pu(i)&&(r=!0);s.Au=i}}r&&qI(t)}function ide(n,e,t){const r=F(n),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(t);r.queries.delete(e)}function qI(n){n.Ru.forEach(e=>{e.next()})}class WI{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ul(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Ul.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class L${constructor(e){this.key=e}}class V${constructor(e){this.key=e}}class B${constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=le(),this.mutatedKeys=le(),this.Gu=ej(e),this.Qu=new Bl(this.Gu)}get ju(){return this.qu}Wu(e,t){const r=t?t.zu:new N$,i=t?t.Qu:this.Qu;let o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),f=qD(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let g=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),g=!0):this.Hu(h,f)||(r.track({type:2,doc:f}),g=!0,(l&&this.Gu(f,l)>0||c&&this.Gu(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),g=!0):h&&!f&&(r.track({type:1,doc:h}),g=!0,(l||c)&&(a=!0)),g&&(f?(s=s.add(f),o=m?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const u="F"===this.query.limitType?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{Qu:s,zu:r,$i:a,mutatedKeys:o}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const o=e.zu.Eu();o.sort((c,u)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return B()}};return f(d)-f(h)}(c.type,u.type)||this.Gu(c.doc,u.doc)),this.Ju(r);const s=t?this.Yu():[],a=0===this.Ku.size&&this.current?1:0,l=a!==this.Uu;return this.Uu=a,0!==o.length||l?{snapshot:new Ul(this.query,e.Qu,i,o,e.mutatedKeys,0===a,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:s}:{Xu:s}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new N$,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=le(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new V$(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new L$(r))}),t}tc(e){this.qu=e.Hi,this.Ku=le();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Ul.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class ade{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class lde{constructor(e){this.key=e,this.nc=!1}}class cde{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.sc={},this.ic=new wo(a=>ZU(a),yd),this.rc=new Map,this.oc=new Set,this.uc=new at(N.comparator),this.cc=new Map,this.ac=new cI,this.hc={},this.lc=new Map,this.fc=$s.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function ude(n,e){return KI.apply(this,arguments)}function KI(){return KI=_(function*(n,e){const t=_T(n);let r,i;const o=t.ic.get(e);if(o)r=o.targetId,t.sharedClientState.addLocalQueryTarget(r),i=o.view.ec();else{const s=yield Ol(t.localStore,Cn(e));t.isPrimaryClient&&bg(t.remoteStore,s);const a=t.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield YI(t,e,r,"current"===a,s.resumeToken)}return i}),KI.apply(this,arguments)}function YI(n,e,t,r,i){return QI.apply(this,arguments)}function QI(){return QI=_(function*(n,e,t,r,i){n._c=(d,h,f)=>{return(p=_(function*(m,g,y,C){let v=g.view.Wu(y);v.$i&&(v=yield gg(m.localStore,g.query,!1).then(({documents:V})=>g.view.Wu(V,v)));const k=C&&C.targetChanges.get(g.targetId),U=g.view.applyChanges(v,m.isPrimaryClient,k);return sT(m,g.targetId,U.Xu),U.snapshot}),function(m,g,y,C){return p.apply(this,arguments)})(n,d,h,f);var p};const o=yield gg(n.localStore,e,!0),s=new B$(e,o.Hi),a=s.Wu(o.documents),l=Cd.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=s.applyChanges(a,n.isPrimaryClient,l);sT(n,t,c.Xu);const u=new ade(e,t,s);return n.ic.set(e,u),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),c.snapshot}),QI.apply(this,arguments)}function dde(n,e){return XI.apply(this,arguments)}function XI(){return XI=_(function*(n,e){const t=F(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(o=>!yd(o,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Nl(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Vd(t.remoteStore,r.targetId),jl(t,r.targetId)}).catch(mo))):(jl(t,r.targetId),yield Nl(t.localStore,r.targetId,!0))}),XI.apply(this,arguments)}function ZI(){return ZI=_(function*(n,e,t){const r=yT(n);try{const i=yield function(o,s){const a=F(o),l=et.now(),c=s.reduce((h,f)=>h.add(f.key),le());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Pn(),p=le();return a.Gi.getEntries(h,c).next(m=>{f=m,f.forEach((g,y)=>{y.isValidDocument()||(p=p.add(g))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{u=m;const g=[];for(const y of s){const C=vce(y,u.get(y.key).overlayedDocument);null!=C&&g.push(new $i(y.key,C,WU(C.value.mapValue),Xe.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,g,s)}).next(m=>{d=m;const g=m.applyToLocalDocumentSet(u,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,g)})}).then(()=>({batchId:d.batchId,changes:_j(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,a){let l=o.hc[o.currentUser.toKey()];l||(l=new at(ne)),l=l.insert(s,a),o.hc[o.currentUser.toKey()]=l}(r,i.batchId,t),yield zi(r,i.changes),yield Pl(r.remoteStore)}catch(i){const o=Vl(i,"Failed to persist write");t.reject(o)}}),ZI.apply(this,arguments)}function U$(n,e){return JI.apply(this,arguments)}function JI(){return JI=_(function*(n,e){const t=F(n);try{const r=yield Rue(t.localStore,e);e.targetChanges.forEach((i,o)=>{const s=t.cc.get(o);s&&($(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.nc=!0:i.modifiedDocuments.size>0?$(s.nc):i.removedDocuments.size>0&&($(s.nc),s.nc=!1))}),yield zi(t,r,e)}catch(r){yield mo(r)}}),JI.apply(this,arguments)}function j$(n,e,t){const r=F(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((o,s)=>{const a=s.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(o,s){const a=F(o);a.onlineState=s;let l=!1;a.queries.forEach((c,u)=>{for(const d of u.listeners)d.bu(s)&&(l=!0)}),l&&qI(a)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function fde(n,e,t){return eT.apply(this,arguments)}function eT(){return eT=_(function*(n,e,t){const r=F(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),o=i&&i.key;if(o){let s=new at(N.comparator);s=s.insert(o,qe.newNoDocument(o,G.min()));const a=le().add(o),l=new xd(G.min(),new Map,new Pe(ne),s,a);yield U$(r,l),r.uc=r.uc.remove(o),r.cc.delete(e),aT(r)}else yield Nl(r.localStore,e,!1).then(()=>jl(r,e,t)).catch(mo)}),eT.apply(this,arguments)}function pde(n,e){return tT.apply(this,arguments)}function tT(){return tT=_(function*(n,e){const t=F(n),r=e.batch.batchId;try{const i=yield kue(t.localStore,e);oT(t,r,null),iT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield zi(t,i)}catch(i){yield mo(i)}}),tT.apply(this,arguments)}function mde(n,e,t){return nT.apply(this,arguments)}function nT(){return nT=_(function*(n,e,t){const r=F(n);try{const i=yield function(o,s){const a=F(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,s).next(u=>($(null!==u),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(r.localStore,e);oT(r,e,t),iT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield zi(r,i)}catch(i){yield mo(i)}}),nT.apply(this,arguments)}function iT(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function oT(n,e,t){const r=F(n);let i=r.hc[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function jl(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||$$(n,r)})}function $$(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(Vd(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),aT(n))}function sT(n,e,t){for(const r of t)r instanceof L$?(n.ac.addReference(r.key,e),_de(n,r)):r instanceof V$?(S("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||$$(n,r.key)):B()}function _de(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(S("SyncEngine","New document in limbo: "+t),n.oc.add(r),aT(n))}function aT(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new N(Ee.fromString(e)),r=n.fc.next();n.cc.set(r,new lde(t)),n.uc=n.uc.insert(t,r),bg(n.remoteStore,new Eo(Cn(xl(t.path)),r,2,Zn.at))}}function zi(n,e,t){return lT.apply(this,arguments)}function lT(){return lT=_(function*(n,e,t){const r=F(n),i=[],o=[],s=[];var a;r.ic.isEmpty()||(r.ic.forEach((a,l)=>{s.push(r._c(l,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const u=fI.Ci(l.targetId,c);o.push(u)}}))}),yield Promise.all(s),r.sc.Wo(i),yield(a=_(function*(l,c){const u=F(l);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(c,h=>w.forEach(h.Si,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Di,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!go(d))throw d;S("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=u.qi.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);u.qi=u.qi.insert(h,m)}}}),function(l,c){return a.apply(this,arguments)})(r.localStore,o))}),lT.apply(this,arguments)}function yde(n,e){return cT.apply(this,arguments)}function cT(){return cT=_(function*(n,e){const t=F(n);if(!t.currentUser.isEqual(e)){S("SyncEngine","User change. New user:",e.toKey());const r=yield g$(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(s=>{s.forEach(a=>{a.reject(new T(x.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield zi(t,r.ji)}var i}),cT.apply(this,arguments)}function vde(n,e){const t=F(n),r=t.cc.get(e);if(r&&r.nc)return le().add(r.key);{let i=le();const o=t.rc.get(e);if(!o)return i;for(const s of o){const a=t.ic.get(s);i=i.unionWith(a.view.ju)}return i}}function _T(n){const e=F(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=U$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vde.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fde.bind(null,e),e.sc.Wo=rde.bind(null,e.eventManager),e.sc.wc=ide.bind(null,e.eventManager),e}function yT(n){const e=F(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pde.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mde.bind(null,e),e}class Sde{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return _(function*(){t.yt=Pd(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return function m$(n,e,t,r){return new Mue(n,e,t,r)}(this.persistence,new p$,e.initialUser,this.yt)}yc(e){return new h$(pg.Bs,this.yt)}gc(e){return new C$}terminate(){var e=this;return _(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class vT{initialize(e,t){var r=this;return _(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>j$(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=yde.bind(null,r.syncEngine),yield function BI(n,e){return UI.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new nde}createDatastore(e){const t=Pd(e.databaseInfo.databaseId),r=new Bue(e.databaseInfo);return new $ue(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,o=a=>j$(this.syncEngine,a,0),s=D$.C()?new D$:new Pue,new Gue(t,r,i,o,s);var t,r,i,o,s}createSyncEngine(e,t){return function(r,i,o,s,a,l,c){const u=new cde(r,i,o,s,a,l);return c&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return function(){var e=_(function*(t){const r=F(t);S("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield Fl(r),r.mu.shutdown(),r.gu.set("Unknown")});return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}function bT(n,e,t){if(!t)throw new T(x.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function G$(n){if(!N.isDocumentKey(n))throw new T(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function q$(n){if(N.isDocumentKey(n))throw new T(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Eg(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":B()}function ve(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new T(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Eg(n);throw new T(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}const K$=new Map;class Y${constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new T(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new T(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function kde(n,e,t,r){if(!0===e&&!0===r)throw new T(x.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bd{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y$({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new T(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new T(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y$(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Ule;switch(t.type){case"gapi":return new zle(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new T(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=K$.get(e);t&&(S("ComponentProvider","Removing Datastore"),K$.delete(e),t.terminate())}(this),Promise.resolve()}}class mt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ci(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}}class Zt{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zt(this.firestore,e,this._query)}}class ci extends Zt{constructor(e,t,r){super(e,t,xl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new N(e))}withConverter(e){return new ci(this.firestore,e,this._path)}}function Q$(n,e,...t){if(n=_r(n),bT("collection","path",e),n instanceof Bd){const r=Ee.fromString(e,...t);return q$(r),new ci(n,null,r)}{if(!(n instanceof mt||n instanceof ci))throw new T(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ee.fromString(e,...t));return q$(r),new ci(n.firestore,null,r)}}function X$(n,e,...t){if(n=_r(n),1===arguments.length&&(e=wU.R()),bT("doc","path",e),n instanceof Bd){const r=Ee.fromString(e,...t);return G$(r),new mt(n,null,new N(r))}{if(!(n instanceof mt||n instanceof ci))throw new T(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ee.fromString(e,...t));return G$(r),new mt(n.firestore,n instanceof ci?n.converter:null,new N(r))}}class xg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):ht("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Vde{constructor(e,t,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Pt.UNAUTHENTICATED,this.clientId=wU.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=_(function*(a){S("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(S("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return _(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(x.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new kt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(_(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Vl(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function eH(n,e){return wT.apply(this,arguments)}function wT(){return wT=_(function*(n,e){n.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=_(function*(o){r.isEqual(o)||(yield g$(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),wT.apply(this,arguments)}function tH(n,e){return ET.apply(this,arguments)}function ET(){return ET=_(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield xT(n);S("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>O$(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>O$(e.remoteStore,o)),n.onlineComponents=e}),ET.apply(this,arguments)}function xT(n){return CT.apply(this,arguments)}function CT(){return CT=_(function*(n){return n.offlineComponents||(S("FirestoreClient","Using default OfflineComponentProvider"),yield eH(n,new Sde)),n.offlineComponents}),CT.apply(this,arguments)}function Cg(n){return DT.apply(this,arguments)}function DT(){return DT=_(function*(n){return n.onlineComponents||(S("FirestoreClient","Using default OnlineComponentProvider"),yield tH(n,new vT)),n.onlineComponents}),DT.apply(this,arguments)}function $l(n){return ST.apply(this,arguments)}function ST(){return ST=_(function*(n){const e=yield Cg(n),t=e.eventManager;return t.onListen=ude.bind(null,e.syncEngine),t.onUnlisten=dde.bind(null,e.syncEngine),t}),ST.apply(this,arguments)}class qde{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new EI(this,"async_queue_retry"),this.Wc=()=>{const t=vg();t&&S("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=vg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=vg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new kt;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return _(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!go(t))throw t;S("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,ht("INTERNAL UNHANDLED ERROR: ",function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),s}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=jI.createAndSchedule(this,e,t,r,o=>this.Yc(o));return this.Uc.push(i),i}zc(){this.Kc&&B()}verifyOperationInProgress(){}Xc(){var e=this;return _(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function AT(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class We extends Bd{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new qde,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||sH(this),this._firestoreClient.terminate()}}function Kde(n,e){const r="string"==typeof n?n:e||"(default)",i=Bp("object"==typeof n?n:TL(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(n=>{const e=(n=>{var e,t;return null===(t=null===(e=Op())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]})(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]})("firestore");o&&function Rde(n,e,t,r={}){var i;const o=(n=ve(n,Bd))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&_l("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let s,a;if("string"==typeof r.mockUserToken)s=r.mockUserToken,a=Pt.MOCK_USER;else{s=function fee(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[kp(JSON.stringify({alg:"none",type:"JWT"})),kp(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new T(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Pt(l)}n._authCredentials=new jle(new vU(s,a))}}(i,...o)}return i}function Et(n){return n._firestoreClient||sH(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function sH(n){var e;const t=n._freezeSettings(),r=(o=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new tce(n._databaseId,o,n._persistenceKey,(a=t).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var o,a;n._firestoreClient=new Vde(n._authCredentials,n._appCheckCredentials,n._queue,r)}class zs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zs(Rt.fromBase64String(e))}catch(t){throw new T(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new zs(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Hl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new T(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cH{constructor(e){this._methodName=e}}class MT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new T(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new T(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ne(this._lat,e._lat)||ne(this._long,e._long)}}const Yde=/^__.*__$/;class Qde{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new $i(e,this.data,this.fieldMask,t,this.fieldTransforms):new Il(e,this.data,t,this.fieldTransforms)}}function dH(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw B()}}class Ig{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.yt=r,this.ignoreUndefinedProperties=i,void 0===o&&this.na(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Ig(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Sg(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(dH(this.sa)&&Yde.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Xde{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=r||Pd(e)}da(e,t,r,i=!1){return new Ig({sa:e,methodName:t,fa:r,path:ft.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function zl(n){const e=n._freezeSettings(),t=Pd(n._databaseId);return new Xde(n._databaseId,!!e.ignoreUndefinedProperties,t)}function kT(n,e,t,r,i,o={}){const s=n.da(o.merge||o.mergeFields?2:0,e,t,i);OT("Data must be an object, but it was:",s,r);const a=gH(r,s);let l,c;if(o.merge)l=new Fn(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const d of o.mergeFields){const h=NT(e,d,t);if(!s.contains(h))throw new T(x.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);yH(u,h)||u.push(h)}l=new Fn(u),c=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=s.fieldTransforms;return new Qde(new Xt(a),l,c)}function Gs(n,e){if(_H(n=_r(n)))return OT("Unsupported field value:",e,n),gH(n,e);if(n instanceof cH)return function(t,r){if(!dH(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let o=0;for(const s of t){let a=Gs(s,r.aa(o));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=_r(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return rj(r.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=et.fromDate(t);return{timestampValue:Sl(r.yt,i)}}if(t instanceof et){const i=new et(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Sl(r.yt,i)}}if(t instanceof MT)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof zs)return{bytesValue:Cj(r.yt,t._byteString)};if(t instanceof mt){const i=r.databaseId,o=t.firestore._databaseId;if(!o.isEqual(i))throw r.ha(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:KD(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${Eg(t)}`)}(n,e)}function gH(n,e){const t={};return SU(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):As(n,(r,i)=>{const o=Gs(i,e.ra(r));null!=o&&(t[r]=o)}),{mapValue:{fields:t}}}function _H(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof et||n instanceof MT||n instanceof zs||n instanceof mt||n instanceof cH)}function OT(n,e,t){if(!_H(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Eg(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function NT(n,e,t){if((e=_r(e))instanceof Hl)return e._internalPath;if("string"==typeof e)return Tg(n,e);throw Sg("Field path arguments must be of type string or ",n,!1,void 0,t)}const the=new RegExp("[~\\*/\\[\\]]");function Tg(n,e,t){if(e.search(the)>=0)throw Sg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Hl(...e.split("."))._internalPath}catch{throw Sg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Sg(n,e,t,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new T(x.INVALID_ARGUMENT,a+n+l)}function yH(n,e){return n.some(t=>t.isEqual(e))}class FT{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new nhe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ag("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class nhe extends FT{data(){return super.data()}}function Ag(n,e){return"string"==typeof e?Tg(n,e):e instanceof Hl?e._internalPath:e._delegate._internalPath}class ihe{convertValue(e,t="none"){switch(ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw B()}}convertObject(e,t){const r={};return As(e.fields,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertGeoPoint(e){return new MT(st(e.latitude),st(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=MU(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(fd(e));default:return null}}convertTimestamp(e){const t=_o(e);return new et(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ee.fromString(e);$(Nj(r));const i=new Ss(r.get(1),r.get(3)),o=new N(r.popFirst(5));return i.isEqual(t)||ht(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class qs{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ql extends FT{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Og(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Ag("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Og extends ql{data(e={}){return super.data(e)}}class Wl{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new qs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Og(this._firestore,this._userDataWriter,r.key,r,new qs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new T(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(s=>({type:"added",doc:new Og(r._firestore,r._userDataWriter,s.doc.key,s.doc,new qs(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(s=>i||3!==s.type).map(s=>{const a=new Og(r._firestore,r._userDataWriter,s.doc.key,s.doc,new qs(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return 0!==s.type&&(l=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),1!==s.type&&(o=o.add(s.doc),c=o.indexOf(s.doc.key)),{type:ohe(s.type),doc:a,oldIndex:l,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ohe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return B()}}class To extends ihe{constructor(e){super(),this.firestore=e}convertBytes(e){return new zs(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,t)}}function she(n){return $d(ve(n.firestore,We),[new Tl(n._key,Xe.none())])}function $d(n,e){return function(t,r){const i=new kt;return t.asyncQueue.enqueueAndForget(_(function*(){return function hde(n,e,t){return ZI.apply(this,arguments)}(yield function TT(n){return Cg(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(Et(n),e)}!function(n,e=!0){gl=Up,wn(new ln("firestore",(t,{instanceIdentifier:r,options:i})=>{const o=t.getProvider("app").getImmediate(),s=new We(new $le(t.getProvider("auth-internal")),new Gle(t.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new T(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ss(a.options.projectId,l)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),dt(yU,"3.8.1",n),dt(yU,"3.8.1","esm2017")}();var hhe={includeMetadataChanges:!1};function BT(n,e){return void 0===e&&(e=hhe),new Ne(function(t){var r=function lhe(n,...e){var t,r,i;n=_r(n);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||AT(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(AT(e[s])){const d=e[s];e[s]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[s+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[s+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let l,c,u;if(n instanceof mt)c=ve(n.firestore,We),u=xl(n._key.path),l={next:d=>{e[s]&&e[s](function VT(n,e,t){const r=t.docs.get(e._key),i=new To(n);return new ql(n,i,e._key,r,new qs(t.hasPendingWrites,t.fromCache),e.converter)}(c,n,d))},error:e[s+1],complete:e[s+2]};else{const d=ve(n,Zt);c=ve(d.firestore,We),u=d._query;const h=new To(c);l={next:f=>{e[s]&&e[s](new Wl(c,h,d,f))},error:e[s+1],complete:e[s+2]},function vH(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new T(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(d,h,f,p){const m=new xg(p),g=new WI(h,m,f);return d.asyncQueue.enqueueAndForget(_(function*(){return function $I(n,e){return HI.apply(this,arguments)}(yield $l(d),g)})),()=>{m.bc(),d.asyncQueue.enqueueAndForget(_(function*(){return function zI(n,e){return GI.apply(this,arguments)}(yield $l(d),g)}))}}(Et(c),u,a,l)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function vhe(n,e){return void 0===e&&(e={}),function yhe(n){return BT(n,{includeMetadataChanges:!0}).pipe(X(function(e){return e.docs}))}(n).pipe(X(function(t){return t.map(function(r){return function TH(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(r,e)})}))}class Fg{constructor(e){return e}}const kH="firestore",$T=new M("angularfire2.firestore-instances");function Ehe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Fg(r)}}const xhe={provide:class bhe{constructor(){return IE(kH)}},deps:[[new Dt,$T]]},Che={provide:Fg,useFactory:function whe(n,e){const t=function DE(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(kH,n,e);return t&&new Fg(t)},deps:[[new Dt,$T],ll]};let Dhe=(()=>{class n{constructor(){dt("angularfire",_E.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=De({providers:[Che,xhe]}),n})();const The=Qp(vhe,!0),She=Qp(she,!0),Ahe=Qp(Kde,!0);class Ws{constructor(e){this.firestore=e}addProduct(e){return function ahe(n,e){const t=ve(n.firestore,We),r=X$(n),i=function LT(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return $d(t,[kT(zl(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Xe.exists(!1))]).then(()=>r)}(Q$(this.firestore,"product"),e)}getProduct(){const e=Q$(this.firestore,"product");return The(e,{idField:"id"})}deletedProduct(e){const t=X$(this.firestore,`product/${e.id}`);return She(t)}}Ws.\u0275fac=function(e){return new(e||Ws)(E(Fg))},Ws.\u0275prov=R({token:Ws,factory:Ws.\u0275fac,providedIn:"root"});class Hd{constructor(e){this.productService=e,this.formRegister=new Cp({code:new Tu,description:new Tu,price:new Tu})}ngOnInit(){}onSubmit(){var e=this;return _(function*(){console.log(e.formRegister.value);const t=e.productService.addProduct(e.formRegister.value);console.log(t)})()}}function HT(n){return null!=n&&"false"!=`${n}`}function RH(n,e=0){return function Mhe(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function Pg(n){return Array.isArray(n)?n:[n]}function xt(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Kl(n){return n instanceof Ye?n.nativeElement:n}Hd.\u0275fac=function(e){return new(e||Hd)(b(Ws))},Hd.\u0275cmp=sr({type:Hd,selectors:[["app-form-dialog"]],decls:19,vars:1,consts:[[1,"container",2,"background-color","azure"],[1,"row"],[1,"col","col-sm-10","mx-auto"],[3,"formGroup"],[1,"mt-3","mb-3"],[1,"form-label"],["type","text","type","text","formControlName","code","name","code",1,"form-control"],["type","text","type","text","formControlName","description","name","description",1,"form-control"],[1,"mt-3","v"],["type","text","type","text","formControlName","price","name","price",1,"form-control"],[1,"mt-3","mb-3","text-center"],[1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(ct(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3)(4,"div",4)(5,"label",5),Mn(6,"C\xf3digo"),He(),dr(7,"input",6),He(),ct(8,"div",4)(9,"label",5),Mn(10,"Descripci\xf3n"),He(),dr(11,"input",7),He(),ct(12,"div",8)(13,"label",5),Mn(14,"Precio"),He(),dr(15,"input",9),He(),ct(16,"div",10)(17,"button",11),gn("click",function(){return t.onSubmit()}),Mn(18,"Ingresar"),He()()()()()()),2&e&&(Ji(3),Pc("formGroup",t.formRegister))},dependencies:[YP,yp,NP,FP,Mp,v0]});const khe=["addListener","removeListener"],Rhe=["addEventListener","removeEventListener"],Ohe=["on","off"];function Lg(n,e,t,r){if(Ce(t)&&(r=t,t=void 0),r)return Lg(n,e,t).pipe(Ib(r));const[i,o]=function Phe(n){return Ce(n.addEventListener)&&Ce(n.removeEventListener)}(n)?Rhe.map(s=>a=>n[s](e,a,t)):function Nhe(n){return Ce(n.addListener)&&Ce(n.removeListener)}(n)?khe.map(OH(n,e)):function Fhe(n){return Ce(n.on)&&Ce(n.off)}(n)?Ohe.map(OH(n,e)):[];if(!i&&x_(n))return Ot(s=>Lg(s,e,t))(In(n));if(!i)throw new TypeError("Invalid event target");return new Ne(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return i(a),()=>o(a)})}function OH(n,e){return t=>r=>n[t](e,r)}const zd={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=zd;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(o=>{t=void 0,n(o)});return new Ut(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=zd;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=zd;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},Bhe=new class Vhe extends Kp{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class Lhe extends Wp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=zd.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:o}=e;null!=t&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==t&&(zd.cancelAnimationFrame(t),e._scheduled=void 0)}});let zT,Uhe=1;const Vg={};function NH(n){return n in Vg&&(delete Vg[n],!0)}const jhe={setImmediate(n){const e=Uhe++;return Vg[e]=!0,zT||(zT=Promise.resolve()),zT.then(()=>NH(e)&&n()),e},clearImmediate(n){NH(n)}},{setImmediate:$he,clearImmediate:Hhe}=jhe,Bg={setImmediate(...n){const{delegate:e}=Bg;return(e?.setImmediate||$he)(...n)},clearImmediate(n){const{delegate:e}=Bg;return(e?.clearImmediate||Hhe)(n)},delegate:void 0},qhe=new class Ghe extends Kp{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class zhe extends Wp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Bg.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:o}=e;null!=t&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==t&&(Bg.clearImmediate(t),e._scheduled=void 0)}});function GT(n,e=Yp){return function Whe(n){return nt((e,t)=>{let r=!1,i=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;const c=i;i=null,t.next(c)}s&&t.complete()},l=()=>{o=null,s&&t.complete()};e.subscribe(Ke(t,c=>{r=!0,i=c,o||In(n(c)).subscribe(o=Ke(t,a,l))},()=>{s=!0,(!r||!o||o.closed)&&t.complete()}))})}(()=>function Yhe(n=0,e,t=fie){let r=-1;return null!=e&&(dA(e)?t=e:r=e),new Ne(i=>{let o=function Khe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}(n,e))}function Gd(n){return nt((e,t)=>{In(n).subscribe(Ke(t,()=>t.complete(),g_)),!t.closed&&e.subscribe(t)})}let qT;try{qT=typeof Intl<"u"&&Intl.v8BreakIterator}catch{qT=!1}let qd,Ug,Ks,WT,Jn=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function fY(n){return n===wN}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!qT)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(E(Zc))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Wd(n){return function Qhe(){if(null==qd&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>qd=!0}))}finally{qd=qd||!1}return qd}()?n:!!n.capture}function PH(){if(null==Ks){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ks=!1,Ks;if("scrollBehavior"in document.documentElement.style)Ks=!0;else{const n=Element.prototype.scrollTo;Ks=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Ks}function Kd(){if("object"!=typeof document||!document)return 0;if(null==Ug){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",n.appendChild(t),document.body.appendChild(n),Ug=0,0===n.scrollLeft&&(n.scrollLeft=1,Ug=0===n.scrollLeft?1:2),n.remove()}return Ug}function KT(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function So(n){return n.composedPath?n.composedPath()[0]:n.target}function YT(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const Jhe=new M("cdk-dir-doc",{providedIn:"root",factory:function efe(){return de(fe)}}),tfe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ql=(()=>{class n{constructor(t){this.value="ltr",this.change=new Ge,t&&(this.value=function nfe(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?tfe.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(E(Jhe,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=De({}),n})();const rfe=["contentWrapper"],ife=["*"],ofe=new M("VIRTUAL_SCROLL_STRATEGY");let jg=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Me,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ne(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(GT(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):H()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(vn(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=Kl(r),o=t.getElementRef().nativeElement;do{if(i==o)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Lg(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(E(se),E(Jn),E(fe,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),LH=(()=>{class n{constructor(t,r,i,o){this.elementRef=t,this.scrollDispatcher=r,this.ngZone=i,this.dir=o,this._destroyed=new Me,this._elementScrolled=new Ne(s=>this.ngZone.runOutsideAngular(()=>Lg(this.elementRef.nativeElement,"scroll").pipe(Gd(this._destroyed)).subscribe(s)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=i?t.end:t.start),null==t.right&&(t.right=i?t.start:t.end),null!=t.bottom&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),i&&0!=Kd()?(null!=t.left&&(t.right=r.scrollWidth-r.clientWidth-t.left),2==Kd()?t.left=t.right:1==Kd()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const r=this.elementRef.nativeElement;PH()?r.scrollTo(t):(null!=t.top&&(r.scrollTop=t.top),null!=t.left&&(r.scrollLeft=t.left))}measureScrollOffset(t){const r="left",i="right",o=this.elementRef.nativeElement;if("top"==t)return o.scrollTop;if("bottom"==t)return o.scrollHeight-o.clientHeight-o.scrollTop;const s=this.dir&&"rtl"==this.dir.value;return"start"==t?t=s?i:r:"end"==t&&(t=s?r:i),s&&2==Kd()?t==r?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&1==Kd()?t==r?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==r?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(b(Ye),b(jg),b(se),b(Ql,8))},n.\u0275dir=q({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),QT=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Me,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(GT(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(E(Jn),E(se),E(fe,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const VH=new M("VIRTUAL_SCROLLABLE");let lfe=(()=>{class n extends LH{constructor(t,r,i,o){super(t,r,i,o)}measureViewportSize(t){const r=this.elementRef.nativeElement;return"horizontal"===t?r.clientWidth:r.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(b(Ye),b(jg),b(se),b(Ql,8))},n.\u0275dir=q({type:n,features:[me]}),n})();const ufe=typeof requestAnimationFrame<"u"?Bhe:qhe;let dfe=(()=>{class n extends lfe{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=HT(t)}constructor(t,r,i,o,s,a,l,c){super(t,a,i,s),this.elementRef=t,this._changeDetectorRef=r,this._scrollStrategy=o,this.scrollable=c,this._platform=de(Jn),this._detachedSubject=new Me,this._renderedRangeSubject=new Me,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Ne(u=>this._scrollStrategy.scrolledIndexChange.subscribe(d=>Promise.resolve().then(()=>this.ngZone.run(()=>u.next(d))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Ut.EMPTY,this._viewportChanges=l.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(au(null),GT(0,ufe)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(Gd(this._detachedSubject)).subscribe(r=>{const i=r.length;i!==this._dataLength&&(this._dataLength=i,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function cfe(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,r="to-start"){t=this.appendOnly&&"to-start"===r?0:t;const o="horizontal"==this.orientation,s=o?"X":"Y";let l=`translate${s}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===r&&(l+=` translate${s}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=l&&(this._renderedContentTransform=l,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,r="auto"){const i={behavior:r};"horizontal"===this.orientation?i.start=t:i.top=t,this.scrollable.scrollTo(i)}scrollToIndex(t,r="auto"){this._scrollStrategy.scrollToIndex(t,r)}measureScrollOffset(t){let r;return r=this.scrollable==this?i=>super.measureScrollOffset(i):i=>this.scrollable.measureScrollOffset(i),Math.max(0,r(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let r;const i="left",o="right",s="rtl"==this.dir?.value;r="start"==t?s?o:i:"end"==t?s?i:o:t||("horizontal"===this.orientation?"left":"top");const a=this.scrollable.measureBoundingClientRectWithScrollOffset(r);return this.elementRef.nativeElement.getBoundingClientRect()[r]-a}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const r of t)r()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(b(Ye),b(Jc),b(se),b(ofe,8),b(Ql,8),b(jg),b(QT),b(VH,8))},n.\u0275cmp=sr({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,r){if(1&t&&xf(rfe,7),2&t){let i;Kc(i=Yc())&&(r._contentWrapper=i.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,r){2&t&&Gr("cdk-virtual-scroll-orientation-horizontal","horizontal"===r.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==r.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[ze([{provide:LH,useFactory:(e,t)=>e||t,deps:[[new Dt,new $h(VH)],n]}]),me,Iv],ngContentSelectors:ife,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,r){1&t&&(uv(),ct(0,"div",0,1),Vc(2),He(),dr(3,"div",2)),2&t&&(Ji(3),mv("width",r._totalContentWidth)("height",r._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),BH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=De({}),n})(),UH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=De({imports:[Yd,BH,dfe,Yd,BH]}),n})();class XT{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class ZT extends XT{constructor(e,t,r,i,o){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=o}}class jH extends XT{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class hfe extends XT{constructor(e){super(),this.element=e instanceof Ye?e.nativeElement:e}}class JT{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof ZT?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof jH?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof hfe?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class ffe extends JT{constructor(e,t,r,i,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=s=>{const a=s.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||_t.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let eS=(()=>{class n extends JT{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new Ge,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),s=r.createComponent(o,r.length,t.injector||r.injector,t.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=t,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(b(Wo),b(hr),b(fe))},n.\u0275dir=q({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[me]}),n})(),$g=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=De({}),n})();const $H=PH();class pfe{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=xt(-this._previousScrollPosition.left),e.style.top=xt(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,o=r.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),$H&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),$H&&(r.scrollBehavior=o,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class mfe{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class HH{enable(){}disable(){}attach(){}}function tS(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function zH(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class gfe{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();tS(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let _fe=(()=>{class n{constructor(t,r,i,o){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new HH,this.close=s=>new mfe(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new pfe(this._viewportRuler,this._document),this.reposition=s=>new gfe(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}}return n.\u0275fac=function(t){return new(t||n)(E(jg),E(QT),E(se),E(fe))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class GH{constructor(e){if(this.scrollStrategy=new HH,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class yfe{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let qH=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(E(fe))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vfe=(()=>{class n extends qH{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(i)):a.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(E(fe),E(se,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bfe=(()=>{class n extends qH{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=So(o)},this._clickListener=o=>{const s=So(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(s)||u.overlayElement.contains(a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(o)):d.next(o)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(E(fe),E(Jn),E(se,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hg=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||YT()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}const r=this._document.createElement("div");r.classList.add(t),YT()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(E(fe),E(Jn))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Qd{constructor(e,t,r,i,o,s,a,l,c,u=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new Me,this._attachments=new Me,this._detachments=new Me,this._locationChanges=Ut.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new Me,this._outsidePointerEvents=new Me,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Nr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=xt(this._config.width),e.height=xt(this._config.height),e.minWidth=xt(this._config.minWidth),e.minHeight=xt(this._config.minHeight),e.maxWidth=xt(this._config.maxWidth),e.maxHeight=xt(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=Pg(t||[]).filter(o=>!!o);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Gd(D_(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const WH="cdk-overlay-connected-position-bounding-box",wfe=/([A-Za-z%]+)$/;class Efe{get positions(){return this._preferredPositions}constructor(e,t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Me,this._resizeSubscription=Ut.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(WH),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,i,a),c=this._getOverlayPoint(l,t,a),u=this._getOverlayFit(c,t,r,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,r)?o.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(o.length){let a=null,l=-1;for(const c of o){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ys(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(WH),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,o;if("center"==r.originX)i=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i="start"==r.originX?s:a}return t.left<0&&(i-=t.left),o="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:i,y:o}}_getOverlayPoint(e,t,r){let i,o;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+o}}_getOverlayFit(e,t,r,i){const o=YH(t);let{x:s,y:a}=e,l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(s+=l),c&&(a+=c);let h=0-a,f=a+o.height-r.height,p=this._subtractOverflows(o.width,0-s,s+o.width-r.width),m=this._subtractOverflows(o.height,h,f),g=p*m;return{visibleArea:g,isCompletelyWithinViewport:o.width*o.height===g,fitsInViewportVertically:m===o.height,fitsInViewportHorizontally:p==o.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,o=r.right-t.x,s=KH(this._overlayRef.getConfig().minHeight),a=KH(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=s&&s<=i)&&(e.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=YH(t),o=this._viewportRect,s=Math.max(e.x+i.width-o.width,0),a=Math.max(e.y+i.height-o.height,0),l=Math.max(o.top-r.top-e.y,0),c=Math.max(o.left-r.left-e.x,0);let u=0,d=0;return u=i.width<=o.width?c||-s:e.x<this._viewportMargin?o.left-r.left-e.x:0,d=i.height<=o.height?l||-a:e.y<this._viewportMargin?o.top-r.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new yfe(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let o,s,a,u,d,h;if("top"===t.overlayY)s=e.y,o=r.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=r.height-e.y+2*this._viewportMargin,o=r.height-a+this._viewportMargin;else{const f=Math.min(r.bottom-e.y+r.top,e.y),p=this._lastBoundingBoxSize.height;o=2*f,s=e.y-f,o>p&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-p/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)h=r.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)d=e.x,u=r.right-e.x;else{const f=Math.min(r.right-e.x+r.left,e.x),p=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-p/2)}return{top:s,left:d,bottom:a,right:h,width:u,height:o}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.height=xt(r.height),i.top=xt(r.top),i.bottom=xt(r.bottom),i.width=xt(r.width),i.left=xt(r.left),i.right=xt(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(i.maxHeight=xt(o)),s&&(i.maxWidth=xt(s))}this._lastBoundingBoxSize=r,Ys(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Ys(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ys(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){const u=this._viewportRuler.getViewportScrollPosition();Ys(r,this._getExactOverlayY(t,e,u)),Ys(r,this._getExactOverlayX(t,e,u))}else r.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),r.transform=a.trim(),s.maxHeight&&(i?r.maxHeight=xt(s.maxHeight):o&&(r.maxHeight="")),s.maxWidth&&(i?r.maxWidth=xt(s.maxWidth):o&&(r.maxWidth="")),Ys(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=xt(o.y),i}_getExactOverlayX(e,t,r){let s,i={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=xt(o.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:zH(e,r),isOriginOutsideView:tS(e,r),isOverlayClipped:zH(t,r),isOverlayOutsideView:tS(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Pg(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Ye)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function Ys(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function KH(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(wfe);return t&&"px"!==t?null:parseFloat(e)}return n||null}function YH(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const QH="cdk-global-overlay-wrapper";class xfe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(QH),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:s,maxHeight:a}=r,l=!("100%"!==i&&"100vw"!==i||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let f="",p="",m="";l?m="flex-start":"center"===u?(m="center",h?p=d:f=d):h?"left"===u||"end"===u?(m="flex-end",f=d):("right"===u||"start"===u)&&(m="flex-start",p=d):"left"===u||"start"===u?(m="flex-start",f=d):("right"===u||"end"===u)&&(m="flex-end",p=d),e.position=this._cssPosition,e.marginLeft=l?"0":f,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":p,t.justifyContent=m,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(QH),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Cfe=(()=>{class n{constructor(t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o}global(){return new xfe}flexibleConnectedTo(t){return new Efe(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(E(QT),E(fe),E(Jn),E(Hg))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Dfe=0,Xl=(()=>{class n{constructor(t,r,i,o,s,a,l,c,u,d,h,f){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h,this._animationsModuleType=f}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),s=new GH(t);return s.direction=s.direction||this._directionality.value,new Qd(o,r,i,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+Dfe++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get($a)),new ffe(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(E(_fe),E(Hg),E(Wo),E(Cfe),E(vfe),E(_t),E(se),E(fe),E(Ql),E(tu),E(bfe),E(Zo,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Sfe={provide:new M("cdk-connected-overlay-scroll-strategy"),deps:[Xl],useFactory:function Tfe(n){return()=>n.scrollStrategies.reposition()}};let XH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=De({providers:[Xl,Sfe],imports:[Yd,$g,UH,UH]}),n})();function JH(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function ez(n){return vn((e,t)=>n<=t)}function Ffe(n,e){return n===e}let Pfe=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=De({providers:[Pfe]}),n})();const nz=new Set;let Zl,Vfe=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Ufe}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Bfe(n){if(!nz.has(n))try{Zl||(Zl=document.createElement("style"),Zl.setAttribute("type","text/css"),document.head.appendChild(Zl)),Zl.sheet&&(Zl.sheet.insertRule(`@media ${n} {body{ }}`,0),nz.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(E(Jn))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ufe(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let jfe=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Me}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return rz(Pg(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let o=Tb(rz(Pg(t)).map(s=>this._registerQuery(s).observable));return o=Yf(o.pipe(Nr(1)),o.pipe(ez(1),function Lfe(n,e=Yp){return nt((t,r)=>{let i=null,o=null,s=null;const a=()=>{if(i){i.unsubscribe(),i=null;const c=o;o=null,r.next(c)}};function l(){const c=s+n,u=e.now();if(u<c)return i=this.schedule(void 0,c-u),void r.add(i);a()}t.subscribe(Ke(r,c=>{o=c,s=e.now(),i||(i=e.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}(0))),o.pipe(X(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),o={observable:new Ne(s=>{const a=l=>this._zone.run(()=>s.next(l));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(au(r),X(({matches:s})=>({query:t,matches:s})),Gd(this._destroySubject)),mql:r};return this._queries.set(t,o),o}}return n.\u0275fac=function(t){return new(t||n)(E(Vfe),E(se))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function rz(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let zg=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function Gfe(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function zfe(n){try{return n.frameElement}catch{return null}}(function Jfe(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===az(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),o=az(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function Xfe(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==o:"video"===i?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function Zfe(n){return!function Wfe(n){return function Yfe(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function qfe(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function Kfe(n){return function Qfe(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||sz(n))}(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(E(Jn))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sz(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function az(n){if(!sz(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class epe{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,r,i,o=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return r?.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Nr(1)).subscribe(e)}}let nS=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new epe(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(E(zg),E(se),E(fe))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lz(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function cz(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const tpe=new M("cdk-input-modality-detector-options"),npe={ignoreKeys:[18,17,224,91,16]},Jl=Wd({passive:!0,capture:!0});let rpe=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,r,i,o){this._platform=t,this._mostRecentTarget=null,this._modality=new mr(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=So(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(lz(s)?"keyboard":"mouse"),this._mostRecentTarget=So(s))},this._onTouchstart=s=>{cz(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=So(s))},this._options={...npe,...o},this.modalityDetected=this._modality.pipe(ez(1)),this.modalityChanged=this.modalityDetected.pipe(function Nfe(n,e=Wi){return n=n??Ffe,nt((t,r)=>{let i,o=!0;t.subscribe(Ke(r,s=>{const a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Jl),i.addEventListener("mousedown",this._onMousedown,Jl),i.addEventListener("touchstart",this._onTouchstart,Jl)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Jl),document.removeEventListener("mousedown",this._onMousedown,Jl),document.removeEventListener("touchstart",this._onTouchstart,Jl))}}return n.\u0275fac=function(t){return new(t||n)(E(Jn),E(se),E(fe),E(tpe,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ope=new M("cdk-focus-monitor-default-options"),Gg=Wd({passive:!0,capture:!0});let qg=(()=>{class n{constructor(t,r,i,o,s){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Me,this._rootNodeFocusAndBlurListener=a=>{for(let c=So(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(t,r=!1){const i=Kl(t);if(!this._platform.isBrowser||1!==i.nodeType)return H(null);const o=function Zhe(n){if(function Xhe(){if(null==WT){const n=typeof document<"u"?document.head:null;WT=!(!n||!n.createShadowRoot&&!n.attachShadow)}return WT}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),s=this._elementInfo.get(i);if(s)return r&&(s.checkChildren=!0),s.subject;const a={checkChildren:r,subject:new Me,rootNode:o};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const r=Kl(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const o=Kl(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,r,l)):(this._setOrigin(r),"function"==typeof o.focus&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),o=So(t);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Gg),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Gg)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Gd(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Gg),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Gg),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,o)=>{(o===t||i.checkChildren&&o.contains(t))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(r))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(E(se),E(Jn),E(rpe),E(fe,8),E(ope,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dz="cdk-high-contrast-black-on-white",hz="cdk-high-contrast-white-on-black",rS="cdk-high-contrast-active";let fz=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=de(jfe).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(rS,dz,hz),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(rS,dz):2===r&&t.add(rS,hz)}}}return n.\u0275fac=function(t){return new(t||n)(E(Jn),E(fe))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),spe=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(E(fz))},n.\u0275mod=Te({type:n}),n.\u0275inj=De({imports:[tz]}),n})();function ape(n,e){}class Wg{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let pz=(()=>{class n extends JT{constructor(t,r,i,o,s,a,l,c){super(),this._elementRef=t,this._focusTrapFactory=r,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=l,this._focusMonitor=c,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=u=>{this._portalOutlet.hasAttached();const d=this._portalOutlet.attachDomPortal(u);return this._contentAttached(),d},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=i}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),r}attachTemplatePortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{t.removeEventListener("blur",i),t.removeEventListener("mousedown",i),t.removeAttribute("tabindex")};t.addEventListener("blur",i),t.addEventListener("mousedown",i)})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let r=null;if("string"==typeof t?r=this._document.querySelector(t):"boolean"==typeof t?r=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(r=t),this._config.restoreFocus&&r&&"function"==typeof r.focus){const i=KT(),o=this._elementRef.nativeElement;(!i||i===this._document.body||i===o||o.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=KT();return t===r||t.contains(r)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=KT())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(t){return new(t||n)(b(Ye),b(nS),b(fe,8),b(Wg),b(zg),b(se),b(Qd),b(qg))},n.\u0275cmp=sr({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,r){if(1&t&&xf(eS,7),2&t){let i;Kc(i=Yc())&&(r._portalOutlet=i.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,r){2&t&&qn("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[me],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&pf(0,ape,0,0,"ng-template",0)},dependencies:[eS],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class iS{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new Me,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(r=>{27===r.keyCode&&!this.disableClose&&!JH(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(e,t){if(this.containerInstance){const r=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this.overlayRef.dispose(),r.next(e),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const mz=new M("DialogScrollStrategy"),lpe=new M("DialogData"),cpe=new M("DefaultDialogConfig"),dpe={provide:mz,deps:[Xl],useFactory:function upe(n){return()=>n.scrollStrategies.block()}};let hpe=0,gz=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,r,i,o,s,a){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Me,this._afterOpenedAtThisLevel=new Me,this._ariaHiddenElements=new Map,this.afterAllClosed=Qf(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(au(void 0))),this._scrollStrategy=a}open(t,r){(r={...this._defaultOptions||new Wg,...r}).id=r.id||"cdk-dialog-"+hpe++,r.id&&this.getDialogById(r.id);const o=this._getOverlayConfig(r),s=this._overlay.create(o),a=new iS(s,r),l=this._attachContainer(s,a,r);return a.containerInstance=l,this._attachDialogContent(t,a,l,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){oS(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){oS(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),oS(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const r=new GH({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachContainer(t,r,i){const o=i.injector||i.viewContainerRef?.injector,s=[{provide:Wg,useValue:i},{provide:iS,useValue:r},{provide:Qd,useValue:t}];let a;i.container?"function"==typeof i.container?a=i.container:(a=i.container.type,s.push(...i.container.providers(i))):a=pz;const l=new ZT(a,i.viewContainerRef,_t.create({parent:o||this._injector,providers:s}),i.componentFactoryResolver);return t.attach(l).instance}_attachDialogContent(t,r,i,o){if(t instanceof Kr){const s=this._createInjector(o,r,i,void 0);let a={$implicit:o.data,dialogRef:r};o.templateContext&&(a={...a,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),i.attachTemplatePortal(new jH(t,null,a,s))}else{const s=this._createInjector(o,r,i,this._injector),a=i.attachComponentPortal(new ZT(t,o.viewContainerRef,s,o.componentFactoryResolver));r.componentInstance=a.instance}}_createInjector(t,r,i,o){const s=t.injector||t.viewContainerRef?.injector,a=[{provide:lpe,useValue:t.data},{provide:iS,useValue:r}];return t.providers&&("function"==typeof t.providers?a.push(...t.providers(r,t,i)):a.push(...t.providers)),t.direction&&(!s||!s.get(Ql,null,{optional:!0}))&&a.push({provide:Ql,useValue:{value:t.direction,change:H()}}),_t.create({parent:s||o,providers:a})}_removeOpenDialog(t,r){const i=this.openDialogs.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){const o=r[i];o!==t&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(t){return new(t||n)(E(Xl),E(_t),E(cpe,8),E(n,12),E(Hg),E(mz))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();function oS(n,e){let t=n.length;for(;t--;)e(n[t])}let fpe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=De({providers:[gz,dpe],imports:[XH,$g,spe,$g]}),n})();const mpe=new M("mat-sanity-checks",{providedIn:"root",factory:function ppe(){return!0}});let vr=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!YT()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(E(fz),E(mpe,8),E(fe))},n.\u0275mod=Te({type:n}),n.\u0275inj=De({imports:[Yd,Yd]}),n})();function gpe(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=HT(e)}constructor(...e){super(...e),this._disabled=!1}}}function _pe(n,e){return class extends n{get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function ype(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=HT(e)}constructor(...e){super(...e),this._disableRipple=!1}}}class bpe{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const vz=Wd({passive:!0,capture:!0});class wpe{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=So(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,r,i){const o=this._events.get(t);if(o){const s=o.get(r);s?s.add(i):o.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,vz)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const o=i.get(t);o&&(o.delete(r),0===o.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,vz)))}}const bz={enterDuration:225,exitDuration:150},wz=Wd({passive:!0,capture:!0}),Ez=["mousedown","touchstart"],xz=["mouseup","mouseleave","touchend","touchcancel"];class Zd{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Kl(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...bz,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const s=r.radius||function xpe(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),a=e-i.left,l=t-i.top,c=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-s+"px",u.style.top=l-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=r.color&&(u.style.backgroundColor=r.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),f=d.transitionDuration,p="none"===d.transitionProperty||"0s"===f||"0s, 0s"===f||0===i.width&&0===i.height,m=new bpe(this,u,r,p);u.style.transform="scale3d(1, 1, 1)",m.state=0,r.persistent||(this._mostRecentTransientRipple=m);let g=null;return!p&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const y=()=>this._finishRippleTransition(m),C=()=>this._destroyRipple(m);u.addEventListener("transitionend",y),u.addEventListener("transitioncancel",C),g={onTransitionEnd:y,onTransitionCancel:C}}),this._activeRipples.set(m,g),(p||!c)&&this._finishRippleTransition(m),m}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...bz,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Kl(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,Ez.forEach(r=>{Zd._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{xz.forEach(t=>{this._triggerElement.addEventListener(t,this,wz)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=lz(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!cz(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(Ez.forEach(t=>Zd._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&xz.forEach(t=>e.removeEventListener(t,this,wz)))}}Zd._eventManager=new wpe;const Cpe=new M("mat-ripple-global-options");let Cz=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,r,i,o,s){this._elementRef=t,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Zd(this,r,t,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(b(Ye),b(se),b(Jn),b(Cpe,8),b(Zo,8))},n.\u0275dir=q({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&Gr("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Dpe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=De({imports:[vr,vr]}),n})();class Dz{}class Ipe{}const Gi="*";function Sz(n,e=null){return{type:2,steps:n,options:e}}function Ao(n){return{type:6,styles:n,offset:null}}function kz(n){Promise.resolve().then(n)}class Jd{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){kz(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Rz{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const o=this.players.length;0==o?kz(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function Tpe(n,e){}class Kg{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const uS="mdc-dialog--open",Oz="mdc-dialog--opening",Nz="mdc-dialog--closing";let Mpe=(()=>{class n extends pz{constructor(t,r,i,o,s,a,l,c){super(t,r,i,o,s,a,l,c),this._animationStateChanged=new Ge}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}}return n.\u0275fac=function(t){return new(t||n)(b(Ye),b(nS),b(fe,8),b(Kg),b(zg),b(se),b(Qd),b(qg))},n.\u0275cmp=sr({type:n,selectors:[["ng-component"]],features:[me],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();const Fz="--mat-dialog-transition-duration";function Pz(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?RH(n.substring(0,n.length-2)):n.endsWith("s")?1e3*RH(n.substring(0,n.length-1)):"0"===n?0:null}let kpe=(()=>{class n extends Mpe{constructor(t,r,i,o,s,a,l,c,u){super(t,r,i,o,s,a,l,u),this._animationMode=c,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?Pz(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?Pz(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Fz,`${this._openAnimationDuration}ms`),this._hostElement.classList.add(Oz),this._hostElement.classList.add(uS),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(uS),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(uS),this._animationsEnabled?(this._hostElement.style.setProperty(Fz,`${this._openAnimationDuration}ms`),this._hostElement.classList.add(Nz),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(Oz),this._hostElement.classList.remove(Nz)}_waitForAnimationToComplete(t,r){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,t)}}return n.\u0275fac=function(t){return new(t||n)(b(Ye),b(nS),b(fe,8),b(Kg),b(zg),b(se),b(Qd),b(Zo,8),b(qg))},n.\u0275cmp=sr({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(t,r){2&t&&(yv("id",r._config.id),qn("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),Gr("_mat-animation-noopable",!r._animationsEnabled))},features:[me],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(t,r){1&t&&(ct(0,"div",0)(1,"div",1),pf(2,Tpe,0,0,"ng-template",2),He()())},dependencies:[eS],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title,.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__actions,.mat-mdc-dialog-container.mdc-dialog--scrollable.mdc-dialog-scroll-divider-footer .mdc-dialog__actions{border-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title{border-bottom-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, "Arial");line-height:var(--mdc-dialog-subhead-line-height, 14px);font-size:var(--mdc-dialog-subhead-size, 14px);font-weight:var(--mdc-dialog-subhead-weight, 500);letter-spacing:var(--mdc-dialog-subhead-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, black)}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, "Arial");line-height:var(--mdc-dialog-supporting-text-line-height, 14px);font-size:var(--mdc-dialog-supporting-text-size, 14px);font-weight:var(--mdc-dialog-supporting-text-weight, 500);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, black)}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),n})();class Rpe{constructor(e,t,r){this._ref=e,this._containerInstance=r,this._afterOpened=new Me,this._beforeClosed=new Me,this._state=0,this.disableClose=t.disableClose,this.id=e.id,r._animationStateChanged.pipe(vn(i=>"opened"===i.state),Nr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(vn(i=>"closed"===i.state),Nr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),D_(this.backdropClick(),this.keydownEvents().pipe(vn(i=>27===i.keyCode&&!this.disableClose&&!JH(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),function Ope(n,e,t){n._closeInteractionType=e,n.close(t)}(this,"keydown"===i.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(vn(t=>"closing"===t.state),Nr(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Npe=new M("MatMdcDialogData"),Fpe=new M("mat-mdc-dialog-default-options"),Lz=new M("mat-mdc-dialog-scroll-strategy"),Lpe={provide:Lz,deps:[Xl],useFactory:function Ppe(n){return()=>n.scrollStrategies.block()}};let Vpe=0,Bpe=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,r,i,o,s,a,l,c,u,d){this._overlay=t,this._defaultOptions=i,this._parentDialog=o,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Me,this._afterOpenedAtThisLevel=new Me,this._idPrefix="mat-dialog-",this.dialogConfigClass=Kg,this.afterAllClosed=Qf(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(au(void 0))),this._scrollStrategy=a,this._dialog=r.get(gz)}open(t,r){let i;(r={...this._defaultOptions||new Kg,...r}).id=r.id||`${this._idPrefix}${Vpe++}`,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(t,{...r,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:Wg,useValue:r}]},templateContext:()=>({dialogRef:i}),providers:(s,a,l)=>(i=new this._dialogRefConstructor(s,r,l),i.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:i}])});return i.componentInstance=o.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{const s=this.openDialogs.indexOf(i);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return n.\u0275fac=function(t){nf()},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})(),Vz=(()=>{class n extends Bpe{constructor(t,r,i,o,s,a,l,c){super(t,r,o,a,l,s,Rpe,kpe,Npe,c),this._idPrefix="mat-mdc-dialog-"}}return n.\u0275fac=function(t){return new(t||n)(E(Xl),E(_t),E(tu,8),E(Fpe,8),E(Lz),E(n,12),E(Hg),E(Zo,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})(),Upe=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=q({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(t,r){2&t&&Gr("mat-mdc-dialog-actions-align-center","center"===r.align)("mat-mdc-dialog-actions-align-end","end"===r.align)},inputs:{align:"align"}}),n})(),jpe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=De({providers:[Vz,Lpe],imports:[fpe,XH,$g,vr,vr]}),n})();const $pe=["mat-button",""],Hpe=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],zpe=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Gpe=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],qpe=_pe(gpe(ype(class{constructor(n){this._elementRef=n}})));let Wpe=(()=>{class n extends qpe{constructor(t,r,i,o){super(t),this._platform=r,this._ngZone=i,this._animationMode=o,this._focusMonitor=de(qg),this._isFab=!1;const s=t.nativeElement.classList;for(const a of Gpe)this._hasHostAttributes(a.selector)&&a.mdcClasses.forEach(l=>{s.add(l)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",r){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,r):this._elementRef.nativeElement.focus(r)}_hasHostAttributes(...t){return t.some(r=>this._elementRef.nativeElement.hasAttribute(r))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(t){nf()},n.\u0275dir=q({type:n,viewQuery:function(t,r){if(1&t&&xf(Cz,5),2&t){let i;Kc(i=Yc())&&(r.ripple=i.first)}},features:[me]}),n})(),Ype=(()=>{class n extends Wpe{constructor(t,r,i,o){super(t,r,i,o)}}return n.\u0275fac=function(t){return new(t||n)(b(Ye),b(Jn),b(se),b(Zo,8))},n.\u0275cmp=sr({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(t,r){2&t&&(qn("disabled",r.disabled||null),Gr("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[me],attrs:$pe,ngContentSelectors:zpe,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,r){1&t&&(uv(Hpe),dr(0,"span",0),Vc(1),ct(2,"span",1),Vc(3,1),He(),Vc(4,2),dr(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(Gr("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab),Ji(6),Pc("matRippleDisabled",r._isRippleDisabled())("matRippleTrigger",r._elementRef.nativeElement))},dependencies:[Cz],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),Xpe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=De({imports:[vr,Dpe,vr]}),n})();function Zpe(n,e){if(1&n){const t=function gR(){return I()}();ct(0,"tr")(1,"td"),Mn(2),He(),ct(3,"td"),Mn(4),He(),ct(5,"td"),Mn(6),He(),ct(7,"td",8)(8,"button",9),gn("click",function(){const o=function BA(n){return ie.lFrame.contextLView=n,n[8]}(t).$implicit;return function UA(n){return ie.lFrame.contextLView=null,n}(ER().onClickDeleted(o))}),Mn(9,"Eliminar"),He()()()}if(2&n){const t=e.$implicit;Ji(2),Uc(t.code),Ji(2),Uc(t.description),Ji(2),Uc(t.price)}}class eh{constructor(e,t){this.matDialog=e,this.productServices=t}openDialog(){this.matDialog.open(Hd,{width:"350px"})}ngOnInit(){this.productServices.getProduct().subscribe(e=>{this.product=e})}onClickDeleted(e){const t=this.productServices.deletedProduct(e);console.log(t)}}eh.\u0275fac=function(e){return new(e||eh)(b(Vz),b(Ws))},eh.\u0275cmp=sr({type:eh,selectors:[["app-table"]],decls:17,vars:1,consts:[[1,"container"],[1,"row"],[1,"col","col-sm-8","mx-auto","mt-4"],[1,"button"],["mat-raised-button","","color","primary",3,"click"],["mat-table","",1,"dates"],["scope","col"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"btn","btn-danger",3,"click"]],template:function(e,t){1&e&&(ct(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-dialog-actions",3)(4,"button",4),gn("click",function(){return t.openDialog()}),Mn(5,"A\xf1adir Producto"),He()(),ct(6,"table",5)(7,"thead")(8,"tr")(9,"th",6),Mn(10,"C\xf3digo"),He(),ct(11,"th",6),Mn(12,"Descripci\xf3n"),He(),ct(13,"th",6),Mn(14,"Precio"),He()()(),ct(15,"tbody"),pf(16,Zpe,10,3,"tr",7),He()()()()()),2&e&&(Ji(16),Pc("ngForOf",t.product))},dependencies:[gN,Ype,Upe],styles:["table[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{margin-top:2%;margin-bottom:2%}.dates[_ngcontent-%COMP%]{text-align:center}"]});const Jpe=[{path:"",component:eh}];class ec{}ec.\u0275fac=function(e){return new(e||ec)},ec.\u0275mod=Te({type:ec}),ec.\u0275inj=De({imports:[oP.forRoot(Jpe),oP]});class th{}th.\u0275fac=function(e){return new(e||th)},th.\u0275cmp=sr({type:th,selectors:[["app-header"]],decls:7,vars:0,consts:[[1,"navbar","navbar-expand-lg","bg-light","mb-5"],[1,"container-fluid"],[1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"]],template:function(e,t){1&e&&(ct(0,"nav",0)(1,"div",1)(2,"a",2),Mn(3,"Clase29"),He(),ct(4,"button",3),dr(5,"span",4),He(),dr(6,"div",5),He()())}});class nh{constructor(){this.title="tareaClaseS29"}}nh.\u0275fac=function(e){return new(e||nh)},nh.\u0275cmp=sr({type:nh,selectors:[["app-root"]],decls:2,vars:0,template:function(e,t){1&e&&dr(0,"app-header")(1,"router-outlet")},dependencies:[Hb,th]});let Dme=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=De({imports:[vr,vr]}),n})(),_S=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=De({imports:[vr,$f,tz,vr]}),n})(),Rme=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=De({}),n})(),Ome=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=De({imports:[vr,_S,_S,Rme,vr]}),n})();class rc{}rc.\u0275fac=function(e){return new(e||rc)},rc.\u0275mod=Te({type:rc}),rc.\u0275inj=De({imports:[$f,ZJ,JJ,Xpe,Dme,_S,Ome,jpe]});class ic{}ic.\u0275fac=function(e){return new(e||ic)},ic.\u0275mod=Te({type:ic}),ic.\u0275inj=De({imports:[$f]});const Nme_firebase={apiKey:"AIzaSyDn73NedNoHA5AfG0luampZ3x3w4K8_ZQ4",authDomain:"tareaclases29.firebaseapp.com",projectId:"tareaclases29",storageBucket:"tareaclases29.appspot.com",messagingSenderId:"61800896799",appId:"1:61800896799:web:6981f8fa6f1ba11bab782a",measurementId:"G-PJ190CPY3V"};function nG(n){return new D(3e3,!1)}function mge(){return typeof window<"u"&&typeof window.document<"u"}function yS(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Ro(n){switch(n.length){case 0:return new Jd;case 1:return n[0];default:return new Rz(n)}}function rG(n,e,t,r,i=new Map,o=new Map){const s=[],a=[];let l=-1,c=null;if(r.forEach(u=>{const d=u.get("offset"),h=d==l,f=h&&c||new Map;u.forEach((p,m)=>{let g=m,y=p;if("offset"!==m)switch(g=e.normalizePropertyName(g,s),y){case"!":y=i.get(m);break;case Gi:y=o.get(m);break;default:y=e.normalizeStyleValue(m,g,y,s)}f.set(g,y)}),h||a.push(f),c=f,l=d}),s.length)throw function rge(n){return new D(3502,!1)}();return a}function vS(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&bS(t,"start",n)));break;case"done":n.onDone(()=>r(t&&bS(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&bS(t,"destroy",n)))}}function bS(n,e,t){const o=wS(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function wS(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function er(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function iG(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let ES=(n,e)=>!1,oG=(n,e,t)=>[],sG=null;function xS(n){const e=n.parentNode||n.host;return e===sG?null:e}(yS()||typeof Element<"u")&&(mge()?(sG=(()=>document.documentElement)(),ES=(n,e)=>{for(;e;){if(e===n)return!0;e=xS(e)}return!1}):ES=(n,e)=>n.contains(e),oG=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Xs=null,aG=!1;const lG=ES,cG=oG;let uG=(()=>{class n{validateStyleProperty(t){return function _ge(n){Xs||(Xs=function yge(){return typeof document<"u"?document.body:null}()||{},aG=!!Xs.style&&"WebkitAppearance"in Xs.style);let e=!0;return Xs.style&&!function gge(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Xs.style,!e&&aG&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Xs.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return lG(t,r)}getParentElement(t){return xS(t)}query(t,r,i){return cG(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],l){return new Jd(i,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})(),CS=(()=>{class n{}return n.NOOP=new uG,n})();const DS="ng-enter",Jg="ng-leave",e_="ng-trigger",t_=".ng-trigger",hG="ng-animating",IS=".ng-animating";function qi(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:TS(parseFloat(e[1]),e[2])}function TS(n,e){return"s"===e?1e3*n:n}function n_(n,e,t){return n.hasOwnProperty("duration")?n:function wge(n,e,t){let i,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(nG()),{duration:0,delay:0,easing:""};i=TS(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=TS(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(function Fme(){return new D(3100,!1)}()),a=!0),o<0&&(e.push(function Pme(){return new D(3101,!1)}()),a=!0),a&&e.splice(l,0,nG())}return{duration:i,delay:o,easing:s}}(n,e,t)}function oh(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function fG(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Oo(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function mG(n,e,t){return t?e+":"+t+";":""}function gG(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=mG(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=mG(0,Dge(t),n.style[t]));n.setAttribute("style",e)}function ui(n,e,t){n.style&&(e.forEach((r,i)=>{const o=AS(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r}),yS()&&gG(n))}function Zs(n,e){n.style&&(e.forEach((t,r)=>{const i=AS(r);n.style[i]=""}),yS()&&gG(n))}function sh(n){return Array.isArray(n)?1==n.length?n[0]:Sz(n):n}const SS=new RegExp("{{\\s*(.+?)\\s*}}","g");function _G(n){let e=[];if("string"==typeof n){let t;for(;t=SS.exec(n);)e.push(t[1]);SS.lastIndex=0}return e}function ah(n,e,t){const r=n.toString(),i=r.replace(SS,(o,s)=>{let a=e[s];return null==a&&(t.push(function Vme(n){return new D(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function r_(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Cge=/-+([a-z0-9])/g;function AS(n){return n.replace(Cge,(...e)=>e[1].toUpperCase())}function Dge(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function tr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Bme(n){return new D(3004,!1)}()}}function yG(n,e){return window.getComputedStyle(n)[e]}function kge(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Rge(n,e,t){if(":"==n[0]){const l=function Oge(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Jme(n){return new D(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Zme(n){return new D(3015,!1)}()),e;const i=r[1],o=r[2],s=r[3];e.push(vG(i,s));"<"==o[0]&&!("*"==i&&"*"==s)&&e.push(vG(s,i))}(r,t,e)):t.push(n),t}const a_=new Set(["true","1"]),l_=new Set(["false","0"]);function vG(n,e){const t=a_.has(n)||l_.has(n),r=a_.has(e)||l_.has(e);return(i,o)=>{let s="*"==n||n==i,a="*"==e||e==o;return!s&&t&&"boolean"==typeof i&&(s=i?a_.has(n):l_.has(n)),!a&&r&&"boolean"==typeof o&&(a=o?a_.has(e):l_.has(e)),s&&a}}const Nge=new RegExp("s*:selfs*,?","g");function MS(n,e,t,r){return new Fge(n).build(e,t,r)}class Fge{constructor(e){this._driver=e}build(e,t,r){const i=new Vge(t);return this._resetContextStyleTimingState(i),tr(this,sh(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function jme(){return new D(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,s.push(l)}else t.errors.push(function $me(){return new D(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{_G(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&(r_(o.values()),t.errors.push(function Hme(n,e){return new D(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=tr(this,sh(e.animation),t);return{type:1,matchers:kge(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Js(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>tr(this,r,t)),options:Js(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const o=e.steps.map(s=>{t.currentTime=r;const a=tr(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:o,options:Js(e.options)}}visitAnimate(e,t){const r=function Uge(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return kS(n_(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=kS(0,0,"");return o.dynamic=!0,o.strValue=t,o}const i=n_(t,e);return kS(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:Ao({});if(5==o.type)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const c={};r.easing&&(c.easing=r.easing),s=Ao(c)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(s,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===Gi?r.push(a):t.errors.push(new D(3002,!1)):r.push(fG(a));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(t.errors.push(function Gme(n,e,t,r,i){return new D(3010,!1)}()),d=!1),o=u.startTime),d&&c.set(l,{startTime:o,endTime:i}),t.options&&function xge(n,e,t){const r=e.params||{},i=_G(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(function Lme(n){return new D(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function qme(){return new D(3011,!1)}()),r;let o=0;const s=[];let a=!1,l=!1,c=0;const u=e.steps.map(y=>{const C=this._makeStyleAst(y,t);let v=null!=C.offset?C.offset:function Bge(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(C.styles),k=0;return null!=v&&(o++,k=C.offset=v),l=l||k<0||k>1,a=a||k<c,c=k,s.push(k),C});l&&t.errors.push(function Wme(){return new D(3012,!1)}()),a&&t.errors.push(function Kme(){return new D(3200,!1)}());const d=e.steps.length;let h=0;o>0&&o<d?t.errors.push(function Yme(){return new D(3202,!1)}()):0==o&&(h=1/(d-1));const f=d-1,p=t.currentTime,m=t.currentAnimateTimings,g=m.duration;return u.forEach((y,C)=>{const v=h>0?C==f?1:h*C:s[C],k=v*g;t.currentTime=p+m.delay+k,m.duration=k,this._validateStyleAst(y,t),y.offset=v,r.styles.push(y)}),r}visitReference(e,t){return{type:8,animation:tr(this,sh(e.animation),t),options:Js(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Js(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Js(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function Pge(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Nge,"")),n=n.replace(/@\*/g,t_).replace(/@\w+/g,t=>t_+"-"+t.slice(1)).replace(/:animating/g,IS),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,er(t.collectedStyles,t.currentQuerySelector,new Map);const a=tr(this,sh(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Js(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Qme(){return new D(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:n_(e.timings,t.errors,!0);return{type:12,animation:tr(this,sh(e.animation),t),timings:r,options:null}}}class Vge{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Js(n){return n?(n=oh(n)).params&&(n.params=function Lge(n){return n?oh(n):null}(n.params)):n={},n}function kS(n,e,t){return{duration:n,delay:e,easing:t}}function RS(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class c_{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Hge=new RegExp(":enter","g"),Gge=new RegExp(":leave","g");function OS(n,e,t,r,i,o=new Map,s=new Map,a,l,c=[]){return(new qge).buildKeyframes(n,e,t,r,i,o,s,a,l,c)}class qge{buildKeyframes(e,t,r,i,o,s,a,l,c,u=[]){c=c||new c_;const d=new NS(e,t,c,i,o,u,[]);d.options=l;const h=l.delay?qi(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,l),tr(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let m=f.length-1;m>=0;m--){const g=f[m];if(g.element===t){p=g;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[RS(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const o=i?.delay;if(o){const s="number"==typeof o?o:qi(ah(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime;const s=null!=r.duration?qi(r.duration):null,a=null!=r.delay?qi(r.delay):null;return 0!==s&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),tr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=u_);const s=qi(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>tr(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?qi(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),tr(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return n_(t.params?ah(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?qi(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=u_);let s=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);o&&d.delayNextStep(o),c===t.element&&(l=d.currentTimeline),tr(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;tr(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const u_={};class NS{constructor(e,t,r,i,o,s,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=u_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new d_(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=qi(r.duration)),null!=r.delay&&(i.delay=qi(r.delay));const o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=ah(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,o=new NS(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=u_,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new Wge(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(Hge,"."+this._enterClassName)).replace(Gge,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!o&&0==a.length&&s.push(function Xme(n){return new D(3014,!1)}()),a}}class d_{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new d_(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Gi),this._currentKeyframe.set(t,Gi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const o=i&&i.params||{},s=function Kge(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let o of r)t.set(o,Gi)}else Oo(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of s){const c=ah(l,o,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Gi),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=Oo(a,new Map,this._backFill);c.forEach((u,d)=>{"!"===u?e.add(d):u===Gi&&t.add(d)}),r||c.set("offset",l/this.duration),i.push(c)});const o=e.size?r_(e.values()):[],s=t.size?r_(t.values()):[];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return RS(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}}class Wge extends d_{constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=r+t,a=t/s,l=Oo(e[0]);l.set("offset",0),o.push(l);const c=Oo(e[0]);c.set("offset",EG(a)),o.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=Oo(e[d]);const f=h.get("offset");h.set("offset",EG((t+f*r)/s)),o.push(h)}r=s,t=0,i="",e=o}return RS(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function EG(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class FS{}const Yge=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Qge extends FS{normalizePropertyName(e,t){return AS(e)}normalizeStyleValue(e,t,r,i){let o="";const s=r.toString().trim();if(Yge.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function Ume(n,e){return new D(3005,!1)}())}return s+o}}function xG(n,e,t,r,i,o,s,a,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const PS={};class CG{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function Xge(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||PS,p=this.buildStyles(r,a&&a.params||PS,d),m=l&&l.params||PS,g=this.buildStyles(i,m,d),y=new Set,C=new Map,v=new Map,k="void"===i,U={params:Zge(m,h),delay:this.ast.options?.delay},V=u?[]:OS(e,t,this.ast.animation,o,s,p,g,U,c,d);let _e=0;if(V.forEach(nr=>{_e=Math.max(nr.duration+nr.delay,_e)}),d.length)return xG(t,this._triggerName,r,i,k,p,g,[],[],C,v,_e,d);V.forEach(nr=>{const Lr=nr.element,BG=er(C,Lr,new Set);nr.preStyleProps.forEach(ea=>BG.add(ea));const ch=er(v,Lr,new Set);nr.postStyleProps.forEach(ea=>ch.add(ea)),Lr!==t&&y.add(Lr)});const en=r_(y.values());return xG(t,this._triggerName,r,i,k,p,g,V,en,C,v,_e)}}function Zge(n,e){const t=oh(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class Jge{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=oh(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!==s&&(i[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=ah(s,i,t));const l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),r.set(a,s)})}),r}}class t_e{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new Jge(i.style,i.options&&i.options.params||{},r))}),DG(this.states,"true","1"),DG(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new CG(e,i,this.states))}),this.fallbackTransition=function n_e(n,e,t){return new CG(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function DG(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const r_e=new c_;class i_e{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],o=MS(this._driver,t,r,[]);if(r.length)throw function ige(n){return new D(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,r){const i=e.element,o=rG(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=OS(this._driver,t,o,DS,Jg,new Map,new Map,r,r_e,i),s.forEach(u=>{const d=er(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function oge(){return new D(3300,!1)}()),s=[]),i.length)throw function sge(n){return new D(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,Gi))})});const c=Ro(s.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function age(n){return new D(3301,!1)}();return t}listen(e,t,r,i){const o=wS(t,"","","");return vS(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const IG="ng-animate-queued",LS="ng-animate-disabled",c_e=[],TG={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},u_e={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},br="__ng_removed";class VS{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function p_e(n){return n??null}(r?e.value:e),r){const o=oh(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const lh="void",BS=new VS(lh);class d_e{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,wr(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function lge(n,e){return new D(3302,!1)}();if(null==r||0==r.length)throw function cge(n){return new D(3303,!1)}();if(!function m_e(n){return"start"==n||"done"==n}(r))throw function uge(n,e){return new D(3400,!1)}();const o=er(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);const a=er(this._engine.statesByElement,e,new Map);return a.has(t)||(wr(e,e_),wr(e,e_+"-"+t),a.set(t,BS)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function dge(n){return new D(3401,!1)}();return t}trigger(e,t,r,i=!0){const o=this._getTrigger(t),s=new US(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(wr(e,e_),wr(e,e_+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new VS(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=BS),c.value!==lh&&l.value===c.value){if(!function y_e(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(l.params,c.params)){const m=[],g=o.matchStyles(l.value,l.params,m),y=o.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{Zs(e,g),ui(e,y)})}return}const h=er(this._engine.playersByElement,e,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==t&&m.queued&&m.destroy()});let f=o.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!i)return;f=o.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:s,isFallbackTransition:p}),p||(wr(e,IG),s.onStart(()=>{oc(e,IG)})),s.onDone(()=>{let m=this.players.indexOf(s);m>=0&&this.players.splice(m,1);const g=this._engine.playersByElement.get(e);if(g){let y=g.indexOf(s);y>=0&&g.splice(y,1)}}),this.players.push(s),h.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,t_,!0);r.forEach(i=>{if(i[br])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,lh,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&Ro(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(o=>{const s=o.name;if(i.has(s))return;i.add(s);const l=this._triggers.get(s).fallbackTransition,c=r.get(s)||BS,u=new VS(lh),d=new US(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const o=e[br];(!o||o===TG)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){wr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){const l=wS(o,r.triggerName,r.fromState.value,r.toState.value);l._data=e,vS(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const o=r.transition.ast.depCount,s=i.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class h_e{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new d_e(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}return t}trigger(e,t,r,i){if(h_(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!h_(t))return;const o=t[br];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),wr(e,LS)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),oc(e,LS))}removeNode(e,t,r,i){if(h_(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[br]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return h_(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,t_,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,IS,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ro(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[br];if(t&&t.setForRemoval){if(e[br]=TG,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(LS)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)wr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Ro(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function hge(n){return new D(3402,!1)}()}_flushAnimations(e,t){const r=new c_,i=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(j=>{u.add(j);const W=this.driver.query(j,".ng-animate-queued",!0);for(let ee=0;ee<W.length;ee++)u.add(W[ee])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=MG(h,this.collectedEnterElements),p=new Map;let m=0;f.forEach((j,W)=>{const ee=DS+m++;p.set(W,ee),j.forEach(Ie=>wr(Ie,ee))});const g=[],y=new Set,C=new Set;for(let j=0;j<this.collectedLeaveElements.length;j++){const W=this.collectedLeaveElements[j],ee=W[br];ee&&ee.setForRemoval&&(g.push(W),y.add(W),ee.hasAnimation?this.driver.query(W,".ng-star-inserted",!0).forEach(Ie=>y.add(Ie)):C.add(W))}const v=new Map,k=MG(h,Array.from(y));k.forEach((j,W)=>{const ee=Jg+m++;v.set(W,ee),j.forEach(Ie=>wr(Ie,ee))}),e.push(()=>{f.forEach((j,W)=>{const ee=p.get(W);j.forEach(Ie=>oc(Ie,ee))}),k.forEach((j,W)=>{const ee=v.get(W);j.forEach(Ie=>oc(Ie,ee))}),g.forEach(j=>{this.processLeaveNode(j)})});const U=[],V=[];for(let j=this._namespaceList.length-1;j>=0;j--)this._namespaceList[j].drainQueuedTransitions(t).forEach(ee=>{const Ie=ee.player,Bt=ee.element;if(U.push(Ie),this.collectedEnterElements.length){const dn=Bt[br];if(dn&&dn.setForMove){if(dn.previousTriggersValues&&dn.previousTriggersValues.has(ee.triggerName)){const ta=dn.previousTriggersValues.get(ee.triggerName),Er=this.statesByElement.get(ee.element);if(Er&&Er.has(ee.triggerName)){const m_=Er.get(ee.triggerName);m_.value=ta,Er.set(ee.triggerName,m_)}}return void Ie.destroy()}}const di=!d||!this.driver.containsElement(d,Bt),rr=v.get(Bt),No=p.get(Bt),tt=this._buildInstruction(ee,r,No,rr,di);if(tt.errors&&tt.errors.length)return void V.push(tt);if(di)return Ie.onStart(()=>Zs(Bt,tt.fromStyles)),Ie.onDestroy(()=>ui(Bt,tt.toStyles)),void i.push(Ie);if(ee.isFallbackTransition)return Ie.onStart(()=>Zs(Bt,tt.fromStyles)),Ie.onDestroy(()=>ui(Bt,tt.toStyles)),void i.push(Ie);const $G=[];tt.timelines.forEach(dn=>{dn.stretchStartingKeyframe=!0,this.disabledNodes.has(dn.element)||$G.push(dn)}),tt.timelines=$G,r.append(Bt,tt.timelines),s.push({instruction:tt,player:Ie,element:Bt}),tt.queriedElements.forEach(dn=>er(a,dn,[]).push(Ie)),tt.preStyleProps.forEach((dn,ta)=>{if(dn.size){let Er=l.get(ta);Er||l.set(ta,Er=new Set),dn.forEach((m_,HS)=>Er.add(HS))}}),tt.postStyleProps.forEach((dn,ta)=>{let Er=c.get(ta);Er||c.set(ta,Er=new Set),dn.forEach((m_,HS)=>Er.add(HS))})});if(V.length){const j=[];V.forEach(W=>{j.push(function fge(n,e){return new D(3505,!1)}())}),U.forEach(W=>W.destroy()),this.reportError(j)}const _e=new Map,en=new Map;s.forEach(j=>{const W=j.element;r.has(W)&&(en.set(W,W),this._beforeAnimationBuild(j.player.namespaceId,j.instruction,_e))}),i.forEach(j=>{const W=j.element;this._getPreviousPlayers(W,!1,j.namespaceId,j.triggerName,null).forEach(Ie=>{er(_e,W,[]).push(Ie),Ie.destroy()})});const nr=g.filter(j=>RG(j,l,c)),Lr=new Map;AG(Lr,this.driver,C,c,Gi).forEach(j=>{RG(j,l,c)&&nr.push(j)});const ch=new Map;f.forEach((j,W)=>{AG(ch,this.driver,new Set(j),l,"!")}),nr.forEach(j=>{const W=Lr.get(j),ee=ch.get(j);Lr.set(j,new Map([...Array.from(W?.entries()??[]),...Array.from(ee?.entries()??[])]))});const ea=[],UG=[],jG={};s.forEach(j=>{const{element:W,player:ee,instruction:Ie}=j;if(r.has(W)){if(u.has(W))return ee.onDestroy(()=>ui(W,Ie.toStyles)),ee.disabled=!0,ee.overrideTotalTime(Ie.totalTime),void i.push(ee);let Bt=jG;if(en.size>1){let rr=W;const No=[];for(;rr=rr.parentNode;){const tt=en.get(rr);if(tt){Bt=tt;break}No.push(rr)}No.forEach(tt=>en.set(tt,Bt))}const di=this._buildAnimation(ee.namespaceId,Ie,_e,o,ch,Lr);if(ee.setRealPlayer(di),Bt===jG)ea.push(ee);else{const rr=this.playersByElement.get(Bt);rr&&rr.length&&(ee.parentPlayer=Ro(rr)),i.push(ee)}}else Zs(W,Ie.fromStyles),ee.onDestroy(()=>ui(W,Ie.toStyles)),UG.push(ee),u.has(W)&&i.push(ee)}),UG.forEach(j=>{const W=o.get(j.element);if(W&&W.length){const ee=Ro(W);j.setRealPlayer(ee)}}),i.forEach(j=>{j.parentPlayer?j.syncPlayerEvents(j.parentPlayer):j.destroy()});for(let j=0;j<g.length;j++){const W=g[j],ee=W[br];if(oc(W,Jg),ee&&ee.hasAnimation)continue;let Ie=[];if(a.size){let di=a.get(W);di&&di.length&&Ie.push(...di);let rr=this.driver.query(W,IS,!0);for(let No=0;No<rr.length;No++){let tt=a.get(rr[No]);tt&&tt.length&&Ie.push(...tt)}}const Bt=Ie.filter(di=>!di.destroyed);Bt.length?g_e(this,W,Bt):this.processLeaveNode(W)}return g.length=0,ea.forEach(j=>{this.players.push(j),j.onDone(()=>{j.destroy();const W=this.players.indexOf(j);this.players.splice(W,1)}),j.play()}),ea}elementContainsData(e,t){let r=!1;const i=t[br];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const l=!o||o==lh;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||s.push(c)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==o,d=er(r,c,[]);this._getPreviousPlayers(c,u,s,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Zs(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(p=>{const m=p.element;u.add(m);const g=m[br];if(g&&g.removedBeforeQueried)return new Jd(p.duration,p.delay);const y=m!==l,C=function __e(n){const e=[];return kG(n,e),e}((r.get(m)||c_e).map(_e=>_e.getRealPlayer())).filter(_e=>!!_e.element&&_e.element===m),v=o.get(m),k=s.get(m),U=rG(0,this._normalizer,0,p.keyframes,v,k),V=this._buildPlayer(p,U,C);if(p.subTimeline&&i&&d.add(m),y){const _e=new US(e,a,m);_e.setRealPlayer(V),c.push(_e)}return V});c.forEach(p=>{er(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function f_e(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>wr(p,hG));const f=Ro(h);return f.onDestroy(()=>{u.forEach(p=>oc(p,hG)),ui(l,t.toStyles)}),d.forEach(p=>{er(i,p,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Jd(e.duration,e.delay)}}class US{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Jd,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>vS(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){er(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function h_(n){return n&&1===n.nodeType}function SG(n,e){const t=n.style.display;return n.style.display=e??"none",t}function AG(n,e,t,r,i){const o=[];t.forEach(l=>o.push(SG(l)));const s=[];r.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=e.computeStyle(c,d,i);u.set(d,h),(!h||0==h.length)&&(c[br]=u_e,s.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>SG(l,o[a++])),s}function MG(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:i.has(c)?1:s(c),o.set(a,l),l}return e.forEach(a=>{const l=s(a);1!==l&&t.get(l).push(a)}),t}function wr(n,e){n.classList?.add(e)}function oc(n,e){n.classList?.remove(e)}function g_e(n,e,t){Ro(t).onDone(()=>n.processLeaveNode(e))}function kG(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Rz?kG(r.players,e):e.push(r)}}function RG(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}class f_{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new h_e(e,t,r),this._timelineEngine=new i_e(e,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){const s=e+"-"+i;let a=this._triggerCache[s];if(!a){const l=[],u=MS(this._driver,o,l,[]);if(l.length)throw function nge(n,e){return new D(3404,!1)}();a=function e_e(n,e,t){return new t_e(n,e,t)}(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[o,s]=iG(r);this._timelineEngine.command(o,t,s,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if("@"==r.charAt(0)){const[s,a]=iG(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let b_e=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&ui(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ui(this._element,this._initialStyles),this._endStyles&&(ui(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Zs(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Zs(this._element,this._endStyles),this._endStyles=null),ui(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function jS(n){let e=null;return n.forEach((t,r)=>{(function w_e(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class OG{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:yG(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class E_e{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return lG(e,t)}getParentElement(e){return xS(e)}query(e,t,r){return cG(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,o,s=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(l.easing=o);const c=new Map,u=s.filter(f=>f instanceof OG);(function Ige(n,e){return 0===n||0===e})(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((p,m)=>c.set(m,p))});let d=function Ege(n){return n.length?n[0]instanceof Map?n:n.map(e=>fG(e)):[]}(t).map(f=>Oo(f));d=function Tge(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,yG(n,a)))}}return e}(e,d,c);const h=function v_e(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=jS(e[0]),e.length>1&&(r=jS(e[e.length-1]))):e instanceof Map&&(t=jS(e)),t||r?new b_e(n,t,r):null}(e,d);return new OG(e,d,l,h)}}let x_e=(()=>{class n extends Dz{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Cr.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?Sz(t):t;return NG(this._renderer,null,r,"register",[i]),new C_e(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(E(kc),E(fe))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();class C_e extends Ipe{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new D_e(this._id,e,t||{},this._renderer)}}class D_e{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return NG(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function NG(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const FG="@.disabled";let I_e=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(t,r){const o=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let u=this._rendererCache.get(o);return u||(u=new PG("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,u)),u}const s=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(s,a,t,u.name,u)};return r.data.animation.forEach(l),new T_e(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(E(kc),E(f_),E(se))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();class PG{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==FG?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class T_e extends PG{constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==FG?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function S_e(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function A_e(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let M_e=(()=>{class n extends f_{constructor(t,r,i,o){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(E(fe),E(CS),E(FS),E($a))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();const LG=[{provide:Dz,useClass:x_e},{provide:FS,useFactory:function k_e(){return new Qge}},{provide:f_,useClass:M_e},{provide:kc,useFactory:function R_e(n,e,t){return new I_e(n,e,t)},deps:[Wf,f_,se]}],$S=[{provide:CS,useFactory:()=>new E_e},{provide:Zo,useValue:"BrowserAnimations"},...LG],VG=[{provide:CS,useClass:uG},{provide:Zo,useValue:"NoopAnimations"},...LG];let O_e=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?VG:$S}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=De({providers:$S,imports:[HN]}),n})();class sc{}sc.\u0275fac=function(e){return new(e||sc)},sc.\u0275mod=Te({type:sc,bootstrap:[nh]}),sc.\u0275inj=De({imports:[HN,ec,rc,ic,function Cie(n,...e){return{ngModule:xie,providers:[{provide:TE,useFactory:Eie(n),multi:!0,deps:[se,_t,MV,...e]}]}}(()=>Die(Nme_firebase)),function Ihe(n,...e){return{ngModule:Dhe,providers:[{provide:$T,useFactory:Ehe(n),multi:!0,deps:[se,_t,MV,kV,[new Dt,O2],[new Dt,nB],...e]}]}}(()=>Ahe()),O_e]}),dQ().bootstrapModule(sc).catch(n=>console.error(n))}},Ce=>{Ce(Ce.s=503)}]);